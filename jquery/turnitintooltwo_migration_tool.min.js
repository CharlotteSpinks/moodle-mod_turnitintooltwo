function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}$(document).ready(function(){$.colorbox({width:500,height:500,inline:!0,opacity:"0.7",href:"#migration_alert",onLoad:function(){lightBoxCloseButton()},onCleanup:function(){$("#tii_close_bar").remove(),$("#migration_alert").hide()}}),$("#migration_alert").show()}),$(".migrate_link").click(function(){$.ajax({dataType:"json",type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",data:{action:"begin_migration",courseid:$(this).data("courseid"),turnitintoolid:$(this).data("turnitintoolid"),sesskey:M.cfg.sesskey},success:function(o){$.colorbox.close(),$("#migration_alert").hide(),window.location.href=M.cfg.wwwroot+"/mod/turnitintooltwo/view.php?id="+o.id}})}),$(".dontmigrate_link").click(function(){$.colorbox.close(),$("#migration_alert").hide()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3b19taWdyYXRpb25fdG9vbC5qcyJdLCJuYW1lcyI6WyJsaWdodEJveENsb3NlQnV0dG9uIiwiJCIsImFwcGVuZCIsIk0iLCJzdHIiLCJ0dXJuaXRpbnRvb2x0d28iLCJjbG9zZWJ1dHRvbiIsImRvY3VtZW50IiwicmVhZHkiLCJjb2xvcmJveCIsIndpZHRoIiwiaGVpZ2h0IiwiaW5saW5lIiwib3BhY2l0eSIsImhyZWYiLCJvbkxvYWQiLCJvbkNsZWFudXAiLCJyZW1vdmUiLCJoaWRlIiwic2hvdyIsImNsaWNrIiwiYWpheCIsImRhdGFUeXBlIiwidHlwZSIsInVybCIsImNmZyIsInd3d3Jvb3QiLCJkYXRhIiwiYWN0aW9uIiwiY291cnNlaWQiLCJ0aGlzIiwidHVybml0aW50b29saWQiLCJzZXNza2V5Iiwic3VjY2VzcyIsImNsb3NlIiwid2luZG93IiwibG9jYXRpb24iLCJpZCJdLCJtYXBwaW5ncyI6IkFBK0JBLFFBQVNBLHVCQUNMQyxFQUFFLFFBQVFDLE9BQU8sbUZBQXFGQyxFQUFFQyxJQUFJQyxnQkFBZ0JDLFlBQWMsY0FoQzlJTCxFQUFFTSxVQUFVQyxNQUFNLFdBQ2RQLEVBQUVRLFVBQVVDLE1BQU8sSUFBS0MsT0FBUSxJQUFLQyxRQUFPLEVBQU1DLFFBQVMsTUFBT0MsS0FBSyxtQkFDdkVDLE9BQVEsV0FDSmYsdUJBRUpnQixVQUFVLFdBQ05mLEVBQUUsa0JBQWtCZ0IsU0FDcEJoQixFQUFFLG9CQUFvQmlCLFVBRTFCakIsRUFBRSxvQkFBb0JrQixTQUcxQmxCLEVBQUUsaUJBQWlCbUIsTUFBTSxXQUNyQm5CLEVBQUVvQixNQUNFQyxTQUFZLE9BQ1pDLEtBQVEsT0FDUkMsSUFBS3JCLEVBQUVzQixJQUFJQyxRQUFVLGdDQUNyQkMsTUFBU0MsT0FBUSxrQkFBbUJDLFNBQVU1QixFQUFFNkIsTUFBTUgsS0FBSyxZQUFhSSxlQUFnQjlCLEVBQUU2QixNQUFNSCxLQUFLLGtCQUFtQkssUUFBUzdCLEVBQUVzQixJQUFJTyxTQUN2SUMsUUFBUyxTQUFTTixHQUNkMUIsRUFBRVEsU0FBU3lCLFFBQ1hqQyxFQUFFLG9CQUFvQmlCLE9BQ3RCaUIsT0FBT0MsU0FBU3RCLEtBQU9YLEVBQUVzQixJQUFJQyxRQUFVLG9DQUFvQ0MsRUFBS1UsUUFLNUZwQyxFQUFFLHFCQUFxQm1CLE1BQU0sV0FDekJuQixFQUFFUSxTQUFTeUIsUUFDWGpDLEVBQUUsb0JBQW9CaUIiLCJmaWxlIjoidHVybml0aW50b29sdHdvX21pZ3JhdGlvbl90b29sLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG4gICAgJC5jb2xvcmJveCh7d2lkdGg6IDUwMCwgaGVpZ2h0OiA1MDAsIGlubGluZTp0cnVlLCBvcGFjaXR5OiBcIjAuN1wiLCBocmVmOlwiI21pZ3JhdGlvbl9hbGVydFwiLFxuICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICB9LFxuICAgIG9uQ2xlYW51cDpmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgJCgnI21pZ3JhdGlvbl9hbGVydCcpLmhpZGUoKTtcbiAgICB9fSk7XG4gICAgJCgnI21pZ3JhdGlvbl9hbGVydCcpLnNob3coKTtcbn0pOyBcblxuJCgnLm1pZ3JhdGVfbGluaycpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICQuYWpheCh7XG4gICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiYmVnaW5fbWlncmF0aW9uXCIsIGNvdXJzZWlkOiAkKHRoaXMpLmRhdGEoXCJjb3Vyc2VpZFwiKSwgdHVybml0aW50b29saWQ6ICQodGhpcykuZGF0YShcInR1cm5pdGludG9vbGlkXCIpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgJC5jb2xvcmJveC5jbG9zZSgpO1xuICAgICAgICAgICAgJCgnI21pZ3JhdGlvbl9hbGVydCcpLmhpZGUoKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vdmlldy5waHA/aWQ9XCIrZGF0YS5pZDtcbiAgICAgICAgfVxuICAgIH0pO1xufSk7XG5cbiQoJy5kb250bWlncmF0ZV9saW5rJykuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICQuY29sb3Jib3guY2xvc2UoKTtcbiAgICAkKCcjbWlncmF0aW9uX2FsZXJ0JykuaGlkZSgpO1xufSk7XG5cbmZ1bmN0aW9uIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKSB7XG4gICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD1cInRpaV9jbG9zZV9iYXJcIj48YSBocmVmPVwiI1wiIG9uY2xpY2s9XCIkLmNvbG9yYm94LmNsb3NlKCk7IHJldHVybiBmYWxzZTtcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLmNsb3NlYnV0dG9uICsgJzwvYT48L2Rpdj4nKTtcbn1cbiJdfQ==
