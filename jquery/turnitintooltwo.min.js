jQuery(document).ready(function($){function enableEditingText(e){$("#tabs-"+e+" .editable_date, #tabs-"+e+" .editable_text").editable("enable")}function disableEditingText(e){$("#tabs-"+e+" .editable_date, #tabs-"+e+" .editable_text").editable("disable")}function getLoadingGif(){var e='<div class="loading_gif"></div>';$("#cboxOverlay").after(e);var t=$(window).scrollTop()+$(window).height()/2;$(".loading_gif").css("top",t+"px")}function hideLoadingGif(){$(".loading_gif").remove()}function getSubmissions(table,assignment_id,part_id,start,refresh_requested,total){$.ajax({dataType:"json",type:"POST",url:"ajax.php",async:!0,data:{action:"get_submissions",assignment:assignment_id,part:part_id,start:start,refresh_requested:refresh_requested[part_id],sesskey:M.cfg.sesskey,total:total},success:function(result){if(eval(result),start=result.end,result.aaData.length>0&&table.fnAddData(result.aaData),result.end<result.total)getSubmissions(table,assignment_id,part_id,start,refresh_requested,result.total);else{$("#"+part_id+"_processing").attr("style","visibility: hidden"),refresh_requested[part_id]=0;var allrefreshed=1;$.each(refresh_requested,function(e,t){1==t&&(allrefreshed=0)}),1==allrefreshed&&($(".refreshing_link").hide(),$(".refresh_link").show()),submitVisibility(),enableEditingText(part_id),result.nonsubmitters>0&&$(".nonsubmitters_link").attr("style","display: block")}},error:function(e,t){$("#"+part_id+"_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.tiisubmissionsgeterror)}})}function submitVisibility(){1==$(".upload_box").data("user-type")||1==$(".upload_box").data("eula")?$(".upload_box").show():$(".upload_box").hide()}function refreshRubricSelect(){var e=$("#id_rubric").length?"#id_rubric":"#id_plagiarism_rubric",t=$(e).val();$.ajax({dataType:"json",type:"POST",url:"../mod/turnitintooltwo/ajax.php",data:{action:"refresh_rubric_select",assignment:$('input[name="instance"]').val(),modulename:$('input[name="modulename"]').val(),course:$('input[name="course"]').val()},success:function(i){$($(e)).empty();var a=i;$.each(a,function(t,i){$($(e)).append($("<option>",{value:t,text:i}))}),$(e+' option[value="'+t+'"]').attr("selected","selected")}})}function refreshUserMessages(){$(".messages_loading").show(),$(".messages_amount").html(""),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"refresh_user_messages",assignment:$("#assignment_id").html()},success:function(e){$(".messages_loading").hide(),$(".messages_amount").html(e)}})}function resetPeermarkSection(e){$("#tabs-"+e+" .toggle_peermarks").hide(),$("#tabs-"+e+" .peermark_count").html(""),$("#tabs-"+e+" .peermark-loading").show(),$("#tabs-"+e+" .peermark_assignments_container").hide()}function refreshPeermarkAssignments(part_id,refresh_requested){var user_role=$(".tii_peermark_manager_launch").length>0?"Instructor":"Learner";$("#tabs-"+part_id+" .peermark_assignments_container").length>0&&(resetPeermarkSection(part_id),$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"refresh_peermark_assignments",assignment:$("#assignment_id").html(),part:part_id,refresh_requested:refresh_requested,sesskey:M.cfg.sesskey},success:function(data){eval(data),$("#tabs-"+part_id+" .peermark_assignments_container").html(data.peermark_table),$("#tabs-"+part_id+" .peermark-loading").hide(),$("#tabs-"+part_id+" .peermark_count").html(data.no_of_peermarks),data.no_of_peermarks>0?$("#tabs-"+part_id+" .toggle_peermarks").show():$("#tabs-"+part_id+" .toggle_peermarks").hide(),(data.no_of_peermarks>0&&"Instructor"==user_role||data.peermarks_active&&"Learner"==user_role)&&$("#tabs-"+part_id+" .row_peermark_reviews").show(),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())&&data.no_of_peermarks>0?($(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())}}))}function initialiseUnanoymiseForm(scope,assignment_id,submission_id){var identifier="a.unanonymise";"row"==scope&&(identifier="#submission_"+submission_id),$(identifier).colorbox({inline:!0,width:"50%",top:"100px",height:"260px",opacity:"0.7",className:"tii_unanonymise_reveal_form",onComplete:function(){var idStr=$(this).attr("id").split("_");if(0==submission_id||void 0==submission_id)var submission_id=idStr[1];0==assignment_id&&(assignment_id=$("#assignment_id").html()),$("#submission_id").html(submission_id),$("#cboxLoadedContent .unanonymise_form").show(),$("#id_reveal").unbind("click"),$("#id_reveal").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"reveal_submission_name",assignment:assignment_id,submission_id:submission_id,reason:encodeURIComponent($("#id_anonymous_reveal_reason").val()),sesskey:M.cfg.sesskey},success:function(data){if(eval(data),"success"==data.status)$.colorbox.close(),$("#submission_"+submission_id).attr("href",M.cfg.wwwroot+"/user/view.php?id="+data.userid+"&course="+data.courseid),$("#submission_"+submission_id).html(data.name),$("#submission_"+submission_id).removeClass("unanonymise cboxElement");else{var current_msg=$("#unanonymise_desc").html;$("#unanonymise_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".unanonymise_form").hide()}})}function initialiseUploadBox(e,t,i,a){var s=".upload_box";"row"==e&&(s="#upload_"+t+"_"+i+"_"+a);var n="80%",o="80%";$(s).colorbox({onLoad:function(){getLoadingGif(),lightBoxCloseButton(),$(this).hide()},onClosed:function(){hideLoadingGif()},onCleanup:function(){hideLoadingGif();var e=$(this).attr("id").split("_");refreshInboxRow("upload",e[1],e[2],e[3]),$("#tii_close_bar").remove()},iframe:!0,width:n,height:o,opacity:"0.7",className:"upload",transition:"none"})}function initialiseZipDownloads(e){$("#tabs-"+e+" .orig_zip_open, #tabs-"+e+" .pdf_zip_open, #tabs-"+e+" .xls_inbox_open").unbind("click"),$("#tabs-"+e+" .orig_zip_open, #tabs-"+e+" .pdf_zip_open, #tabs-"+e+" .xls_inbox_open").click(function(){var e=$(this).attr("id").split("_");downloadZipFile(e[0]+"_"+e[1],e[2])}),$("#tabs-"+e+" .downloadpdf_box").colorbox({iframe:!0,width:"40%",height:"60%",opacity:"0.7",className:"downloadpdf_window",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),$(document).on("click","#tabs-"+e+" .gmpdfzip_box",function(t){return $(this).colorbox({open:!0,iframe:!0,width:"786px",height:"300px",opacity:"0.7",className:"gmpdfzip_window",transition:"none",href:function(){var t="";return $("#tabs-"+e+" .inbox_checkbox:checked").each(function(e){t+="&submission_id"+e+"="+$(this).val(),e++}),$(this).attr("href")+t},onLoad:function(){getLoadingGif()},onCleanup:function(){hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),!1})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseDigitalReceipt(){$(".tii_digital_receipt").length>0&&$(".tii_digital_receipt").colorbox({iframe:!0,width:"832px",height:"482px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}})}function initialiseHiddenZipDownloads(e){$("#tabs-"+e+" .origchecked_zip_open").unbind("click"),$("#tabs-"+e+" .origchecked_zip_open").click(function(){var t=$(this).attr("id").split("_");return downloadZipFile(t[0]+"_"+t[1],e),!1})}function initialiseRefreshRow(e,t,i,a){var s=".refresh_row .fa-refresh";"row"==e&&(s="#refreshrow_"+t+"_"+i+"_"+a+" .fa-refresh"),$(s).unbind("click"),$(s).click(function(){$(this).hide(),$(this).siblings(".fa-spinner").css("display","inline-block").addClass("fa-lg");var e=$(this).parent().attr("id").split("_");refreshInboxRow(e[0],e[1],e[2],e[3])})}function initialiseDVLaunchers(e,t,i,a){var s="#"+i+" .download_original_open";"row"==e&&(s="#downloadoriginal_"+t+"_"+i+"_"+a),$(s).unbind("click"),$(s).click(function(){var e=$(this).attr("id").split("_");$(this).children(".score_colour").hasClass("score_colour_")||downloadOriginalFile(e[0],e[1],e[2],e[3])})}function downloadZipFile(e,t){var i=[];"origchecked_zip"!=e&&"gmpdf_zip"!=e||$("#tabs-"+t+" .inbox_checkbox:checked").each(function(e){i[e]=$(this).val()}),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:e,assignment:$("#assignment_id").html(),part:t,submission_ids:i},success:function(i){$("#"+e+"_form_"+t).html(i),$("#"+e+"_form_"+t).children("form").submit(),$("#"+e+"_form_"+t).html("")}})}function downloadOriginalFile(e,t,i,a){$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"html",data:{action:e,submission:t,assignment:$("#assignment_id").html()},success:function(i){$("#"+e+"_form_"+t).html(i),$("#"+e+"_form_"+t).children("form").submit(),$("#"+e+"_form_"+t).html("")}})}function checkDVClosed(e){window.dvWindow.closed?$("#refresh_"+e).click():setTimeout(function(){checkDVClosed(e)},500)}function submitNothing(user_id,part_id){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-spin fa-spinner fa-lg"),$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"submit_nothing",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){eval(data),$.cookie("submitnothingaccept",!0,{expires:365}),$("table#"+part_id+" .select_all_checkbox").attr("checked",!1)},error:function(e){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-pencil fa-lg"),$("#submitnothing_0_"+part_id+"_"+user_id).removeClass("disabled"),alert(e.responseText)},complete:function(){refreshInboxRow("submitnothing",0,part_id,user_id)}})}function refreshInboxRow(link,submission_id,part_id,user_id){$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"refresh_submission_row",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){$("table#"+part_id+" .select_all_checkbox").attr("checked",!1),eval(data);var i=0;0==submission_id?(link+="_0",submission_id=data.submission_id):link=null==data.submission_id&&0!=submission_id?link+"_"+submission_id:link+"_"+data.submission_id,0!=submission_id&&$("#export_links").removeClass("hidden_class"),oTable=$("table#"+part_id).dataTable();var tr=$("#"+link+"_"+part_id+"_"+user_id).parent().parent(),rowindex=tr.index();oTable.fnDeleteRow(tr),oTable.fnAddData(data.row),submitVisibility(),initialiseUploadBox("row",data.submission_id,part_id,user_id),initialiseDVLaunchers("row",data.submission_id,part_id,user_id),initialiseRefreshRow("row",data.submission_id,part_id,user_id),initialiseCheckboxes(data.submission_id,part_id),initialiseUnanoymiseForm("row",$("#assignment_id").html(),data.submission_id)}})}function initialiseCheckboxes(e,t){var i="#tabs-"+t+" .inbox_checkbox";0!=e&&(i="check_"+e),$("#tabs-"+t+" .inbox_checkbox").click(function(){$("table#"+t+" .select_all_checkbox").attr("checked",!1)}),$(document).on("click",i+", .select_all_checkbox",function(){$("#tabs-"+t+" .inbox_checkbox:checked").length>0?($("#tabs-"+t+" .zip_downloads").slideDown(),initialiseHiddenZipDownloads(t)):($("#tabs-"+t+" .origchecked_zip_open").unbind("click"),$("#tabs-"+t+" .zip_downloads").slideUp())})}function showPartDatesBoxes(){for(var e=0;e<=5;e++)e<=$("#id_numparts").val()?$('fieldset[id$="partdates'+e+'"]').slideDown():$('fieldset[id$="partdates'+e+'"]').slideUp()}if($(".js_required").show(),$(".js_hide").hide(),1==$("#id_submissiontype").val()&&$("#id_submissiontext").parent().parent().hide(),2==$("#id_submissiontype").val()&&$("#id_submissionfile").parent().parent().hide(),$("#id_submissionagreement").length&&$("#id_submitbutton").attr("disabled","disabled"),$("#id_submissionagreement").on("click",function(){$(this).is(":checked")?$("#id_submissionagreement").each(function(){$("#id_submitbutton").removeAttr("disabled")}):$("#id_submissionagreement").each(function(){$("#id_submitbutton").attr("disabled","disabled")})}),$(document).on("click",".delete_paper",function(){var e=$(this).data("confirm"),t=M.str.turnitintooltwo[e].replace(/\\n/g,"\n"),i=confirm(t);i&&$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"deletesubmission",sesskey:M.cfg.sesskey,paper:$(this).data("paper"),part:$(this).data("part"),assignment:$(this).data("assignment")},success:function(){window.location.href=window.location.href}})}),$(document).on("click",".submit_nothing",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var e=$(this).prop("id").split("_")[2],t=$(this).prop("id").split("_")[3],i=M.str.turnitintooltwo.submitnothingwarning.replace(/<br>/g,"\n").replace(/&#39;/g,"'"),a=$.cookie("submitnothingaccept");a||confirm(i)?submitNothing(t,e):$(this).removeClass("disabled")}}),$(document).on("change","#id_submissiontype",function(){1==$("#id_submissiontype").val()&&($("#id_submissiontext").parent().parent().hide(),$("#id_submissionfile").parent().parent().show()),2==$("#id_submissiontype").val()&&($("#id_submissionfile").parent().parent().hide(),$("#id_submissiontext").parent().parent().show())}),$(document).on("submit",".submission_form_container form",function(){return $("#id_submissiontitle").val().length>0&&($("#general").slideUp("slow"),$(".mod_turnitintooltwo .noticebox").slideUp("slow"),$(".submission_form_container form").slideUp("slow"),$("#submitting_loader").slideDown("slow"),!0)}),$(".toggle_summary").length>0&&($.cookie("show_summary_"+$("#assignment_id").html())||$.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_summary_"+$("#assignment_id").html())?($(".hide_summary_"+$("#assignment_id").html()).show(),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideDown()):($(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp()),$(".toggle_summary i").click(function(){$(this).hasClass("show_summary_"+$("#assignment_id").html())?($.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".hide_summary_"+$("#assignment_id").html()).show(),$(".introduction").slideDown()):($.cookie("show_summary_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp())})),$(".toggle_peermarks").length>0&&($.cookie("show_peermarks_"+$("#assignment_id").html())||$.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())?($(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp()),$(".toggle_peermarks i").click(function(){$(this).hasClass("show_peermarks_"+$("#assignment_id").html())?($.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($.cookie("show_peermarks_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())})),$(document).on("click",".show_peermark_instructions, .hide_peermark_instructions",function(){var e=$(this).attr("id").split("_");"show"==e[0]?($("#show_peermark_instructions_"+e[3]).hide(),$("#hide_peermark_instructions_"+e[3]).show(),$("#peermark_instructions_"+e[3]).slideDown()):($("#show_peermark_instructions_"+e[3]).show(),$("#hide_peermark_instructions_"+e[3]).hide(),$("#peermark_instructions_"+e[3]).slideUp())}),showPartDatesBoxes(),$(document).on("change","#id_numparts",function(){showPartDatesBoxes()}),$("#dataTable").length>0&&$("#dataTable").dataTable(),"undefined"!=typeof M.str.turnitintooltwo)var dataTablesLang={sProcessing:'<span class="loading-message">'+M.str.turnitintooltwo.sprocessing+"</span>",sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};if($("#tabs").length>0){var activeTab=0;$("#tab_position").length>0&&(activeTab=$("#tab_position").text()),$("#tabs").tabs({active:activeTab,show:function(){var e=$.fn.dataTable.fnTables(!0);e.length>0&&$(e).dataTable().fnAdjustColumnSizing()}})}$(".enrolledMembers").length>0&&$(".enrolledMembers").dataTable({bProcessing:!0,sAjaxSource:"ajax.php",aoColumnDefs:[{bSortable:!1,sClass:"centered_cell",aTargets:[0]},{sClass:"left",aTargets:[1]}],oLanguage:dataTablesLang,fnServerData:function(e,t,i){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"get_members",assignment:$("#assignment_id").html(),role:$("#user_role").html()},success:function(e){i(e)},error:function(e,t){$(".dataTables_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.membercheckerror)}})}});for(var submissionsDataTableColumns=[],visibleCols=[],noOfColumns=$("table.submissionsDataTable th").length/$("table.submissionsDataTable").length,showOrigReport=$("table.submissionsDataTable th.creport").length>0,useGradeMark=$("table.submissionsDataTable th.cgrade").length>0,multipleParts=$("table.submissionsDataTable th.coverallgrade").length>0,i=0;i<noOfColumns;i++)2==i?(submissionsDataTableColumns.push(null),visibleCols.push(!0)):4==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):5==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):12==i&&showOrigReport||11==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=8&&!showOrigReport&&!useGradeMark||i>=10&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=12&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||3==i||6==i||8==i&&showOrigReport||8==i&&!showOrigReport||10==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));var partTables=[],refreshRequested=[];$("table.submissionsDataTable").each(function(){var e=$(this).attr("id");refreshRequested[e]=0,partTables[e]=$("table#"+e).dataTable({bProcessing:!0,aoColumns:submissionsDataTableColumns,aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],aaSorting:[[2,"asc"],[4,"asc"]],sAjaxSource:"ajax.php",oLanguage:dataTablesLang,sDom:'r<"listbar-container"<"top listbar clearfix"lf>><"dt_pagination clearfix"pi>t<"bottom"><"dt_pagination clearfix"pi>',fnServerData:function(t,i,a){$.ajax({dataType:"json",type:"POST",url:t,data:{action:"initialise_redraw"},success:function(t){disableEditingText(e),a(t),$("#"+e+"_processing").attr("style","visibility: visible"),getSubmissions(partTables[e],$("#assignment_id").html(),e,0,refreshRequested,0)}})},bStateSave:!0,fnStateSave:function(t,i){try{localStorage.setItem(e+"DataTables",JSON.stringify(i))}catch(a){}},fnStateSaveParams:function(e,t){t.abVisCols=visibleCols},fnStateLoad:function(t){try{return JSON.parse(localStorage.getItem(e+"DataTables"))}catch(i){}},fnStateLoadParams:function(e,t){t.abVisCols=visibleCols},fnDrawCallback:function(t){initialiseDigitalReceipt(),initialiseDVLaunchers("all",0,e,0),initialiseRefreshRow("all",0,e,0),initialiseUploadBox("all",0,0,0),initialiseZipDownloads(e),initialiseCheckboxes(0,e),initialiseUnanoymiseForm("all",0,0)}})}),$("table.submissionsDataTable").each(function(){var e=$(this).attr("id");refreshPeermarkAssignments(e,0)}),$(".messages_amount").length>0&&refreshUserMessages(),$(".tii_table_functions").each(function(){var e=$(this).attr("id").split("tii_table_functions_")[1],t=$("#tii_table_functions_"+e).html();$("#tii_table_functions_"+e).remove(),$("#"+e+"_length").after(t),$(".messages_inbox").show(),$("#refresh_"+e).show(),$("#refreshing_"+e).hide()});var zip_downloads=$(".zip_downloads");if($.each(zip_downloads,function(){var e=$(this).attr("id").split("_")[1];$(this).remove(),$("#"+e+"_length").after($(this))}),"Learner"==$("#user_role").html()&&$(".dataTables_length, .dataTables_filter, .dt_pagination").hide(),$(".refresh_link").click(function(){return $(this).is(":visible")&&($(".refresh_link").hide(),$(".refreshing_link").show(),$("table.submissionsDataTable").each(function(){refreshRequested[$(this).attr("id")]=1,partTables[$(this).attr("id")].fnReloadAjax(),partTables[$(this).attr("id")].fnStandingRedraw()})),!1}),$(".submission_failure_msg").length>0&&window.parent.$(".upload_box").colorbox.resize({width:"800px",height:"240px"}),$(".enrol_link").click(function(){$("#enrolling_error").hide(),$(".enrol_link").hide(),$(".enrolling_container").show(),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"enrol_all_students",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey},success:function(e){window.location.href=window.location.href},error:function(e,t){$(".enrol_link").show(),$(".enrolling_container").hide(),$("#enrolling_error").show()}})}),$(".rubric_manager_launch").length>0&&$(".rubric_manager_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){hideLoadingGif(),"rubric_manager_inbox_launch"!=$(this).attr("id")&&refreshRubricSelect(),$("#tii_close_bar").remove()}}),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$("#id_rubric, #id_plagiarism_rubric").focus(function(){""!=$('input[name="instance"]').val()&&"Y"!=$('input[name="rubric_warning_seen"]').val()&&confirm(M.str.turnitintooltwo.changerubricwarning)&&$('input[name="rubric_warning_seen"]').val("Y")}),($(".quickmark_manager_launch").length>0||$(".plagiarism_turnitin_quickmark_manager_launch").length>0)&&$(".quickmark_manager_launch, .plagiarism_turnitin_quickmark_manager_launch").colorbox({iframe:!0,width:"770px",height:"600px",opacity:"0.7",className:"quickmark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".tii_peermark_manager_launch").length>0&&$(".tii_peermark_manager_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){var e=$(this).attr("id").split("_");refreshPeermarkAssignments(e[2],1)}}),$(".tii_peermark_reviews_launch").length>0&&$(".tii_peermark_reviews_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_reviews",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".messages_inbox").length>0&&$(".messages_inbox").colorbox({iframe:!0,width:"772px",height:"772px",opacity:"0.7",className:"messages",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmitters_link").length>0&&$(".nonsubmitters_link").colorbox({iframe:!0,width:"740px",height:"540px",opacity:"0.7",className:"nonsubmitters",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmittersformsuccessmsg").length>0&&(hideLoadingGif(),window.parent.$(".nonsubmitters").colorbox.resize({width:"740px",height:"120px"})),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(document).on("click",".default_open, .origreport_open, .grademark_open",function(){var e=!0,t=$(this).attr("id").split("_"),i=$("#date_due_"+t[2]).html(),a=moment(i).unix(),s=t[0],n=t[1],o=t[2];if(a>moment().unix()&&$(this).hasClass("graded_warning")&&(confirm(M.str.turnitintooltwo.resubmissiongradewarn)||(e=!1)),e){dvWindow=window.open("","_blank");var r='<div style="text-align:center;">';r+='<img src="'+M.cfg.wwwroot+'/mod/turnitintooltwo/pix/tiiIcon.svg" style="width:100px; height: 100px">',r+='<p style="font-family: Arial, Helvetica, sans-serif;">'+M.str.turnitintooltwo.loadingdv+"</p>",r+="</div>",$(dvWindow.document.body).html(r),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:s,submission:n,assignment:$("#assignment_id").html()},success:function(e){$(dvWindow.document.body).html(r+e),dvWindow.document.forms[0].submit(),dvWindow.document.close(),checkDVClosed(o)}})}}),$("#id_rubric, #id_plagiarism_rubric").length>0&&refreshRubricSelect(),self!=top&&"box"==$("#view_context").html()?$("html").css("background","none"):self!=top&&"box_solid"==$("#view_context").html()&&$("html").css("background","#FFF"),$(".editable_postdue").on("click",function(){1==$(this).data("anon")&&alert(M.str.turnitintooltwo.postdate_warning)}),$(".editable_text").length>0){$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.url="ajax.php",$.fn.editable.defaults.onblur="submit",$.fn.editable.defaults.showbuttons=!1,$.fn.editable.defaults.ajaxOptions={dataType:"json"},$(".editable_text").editable({validate:function(e){if($(this).attr("id").indexOf("marks_")>=0&&(Math.floor(e)!=e||!$.isNumeric(e)||e.indexOf(".")!=-1))return M.str.turnitintooltwo.maxmarkserror},success:function(e,t){if(!e.success)return e.msg;if("maxmarks"==e.field)$("#refresh_"+e.partid).click();else if("partname"==e.field){var i=$(this).parentsUntil(".ui-tabs-panel").parent().attr("aria-labelledby");$("#"+i).text(t)}}}),$("#export_options").hasClass("tii_export_options_hide")&&($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')),$(".editable_postdue").on("click",function(){var e=$(this);$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"check_anon",part:e.data("pk"),assignment:$("#assignment_id").html()},success:function(t){e.data("anon",t.anon),e.data("unanon",t.unanon),e.data("submitted",t.submitted)}})});var theDate=new Date;$(".editable_date").editable({type:"combodate",format:"YYYY-MM-DD HH:mm",viewformat:"D MMM YYYY, HH:mm",template:"D MMM YYYY  HH:mm",combodate:{minuteStep:1,minYear:2e3,maxYear:theDate.getFullYear()+2,smartDays:!0},validate:function(e){if(e.format("X")<moment().unix()&&$(this).hasClass("editable_postdue")&&1==$(this).data("anon")&&0==$(this).data("unanon")&&1==$(this).data("submitted")&&!confirm(M.str.turnitintooltwo.disableanonconfirm))return $(".editable-open").editableContainer("hide")," "},success:function(e,t){return e.success?($("#refresh_"+e.partid).click(),void("tii_export_options_hide"==e.export_option?($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')):($(".empty-dash").remove(),$("#export_options").show()))):e.msg}}),$(".editable_date").click(function(){if($(this).hasClass("editable-disabled"))return!1}),$(".editable_date, .editable_text").on("shown",function(e,t){var i=$(this).prop("id");$(".editable_date, .editable_text").not("#"+i).editable("disable"),$(".submit_nothing").addClass("disabled")}),$(".editable_date, .editable_text").on("hidden",function(){var e=$(this).prop("id");$(".editable_date, .editable_text").not("#"+e).editable("enable"),$(".submit_nothing").removeClass("disabled")})}$("#inbox_form form, .launch_form form").submit(),$(".turnitin_eula_link").length>0&&$(".turnitin_eula_link").colorbox({iframe:!0,width:"766px",height:"596px",opacity:"0.7",className:"eula_view",scrolling:"false",onLoad:function(){getLoadingGif()},onComplete:function(){$(window).on("message",function(e){var t="undefined"==typeof e.data?e.originalEvent.data:e.data;$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"acceptuseragreement",message:t,sesskey:M.cfg.sesskey},success:function(e){window.location.reload()},error:function(e){window.location.reload()}})})},onCleanup:function(){hideLoadingGif()}}),$("#tii_receipt_print").click(function(){window.print()}),$(".select_all_checkbox").on("click",function(){var e=$(this).parent().parent().parent().parent().attr("id");$(this).is(":checked")?($("#"+e+" .inbox_checkbox").length&&$("#tabs-"+e+" .zip_downloads").slideDown(),$("#"+e+" .inbox_checkbox").each(function(){$(this).prop("checked",!0)})):($("#"+e+" .inbox_checkbox").each(function(){$(this).prop("checked",!1)}),$("#"+e+" .inbox_checkbox").length&&$("#tabs-"+e+" .zip_downloads").slideUp())}),$("[id^=fitem_id_dtpost] select").change(function(){var e=$(this).parent().parent().parent(),t=buildUnixDate("#fitem_id_dtpost",e.data("partId"));t<moment().unix()&&1==e.data("anon")&&0==e.data("unanon")&&1==e.data("submitted")&&alert(M.str.turnitintooltwo.anonalert)});var buildUnixDate=function(e,t){var i=["_day","_month","_year","_hour","_minute"];$this=$(e+t);var a="";return $.each(i,function(e,i){a+=$this.find("[id$="+t+i+"] option:selected").text(),"_year"===i?a+=" ":"_hour"===i?a+=":":"_minute"!==i&&(a+="-")}),moment(a,"DD-MMMM-YYYY hh:mm").unix()}}),jQuery(document).ready(function($){function initialiseEditEndDate(){$("a.edit_course_end_link").colorbox({inline:!0,width:"60%",top:"100px",background:"#fff",height:"260px",opacity:"0.7",className:"edit_end_date_form",onLoad:function(){lightBoxCloseButton()},onComplete:function(){var current_date=$("#"+$(this).attr("id")+" span").attr("id");current_date=current_date.split("_"),$("#id_new_course_end_date_day").val(current_date[1]),$("#id_new_course_end_date_month").val(current_date[2]),$("#id_new_course_end_date_year").val(current_date[3]);var idStr=$(this).attr("id").split("_"),tii_course_id=idStr[2];$('input[name="tii_course_id"]').val(tii_course_id),$('input[name="tii_course_title"]').val($("a#course_"+tii_course_id).html()),$("#cboxLoadedContent .edit_course_end_date_form").show(),$("#dateselector-calendar-panel").css("z-index","9999"),$("#id_save_end_date").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"edit_course_end_date",tii_course_id:tii_course_id,tii_course_title:$("a#course_"+tii_course_id).html(),sesskey:M.cfg.sesskey,end_date_d:$("#id_new_course_end_date_day").val(),end_date_m:$("#id_new_course_end_date_month").val(),end_date_y:$("#id_new_course_end_date_year").val()},success:function(data){if(eval(data),"success"==data.status)parent.$.fn.colorbox.close(),$("#course_date_"+tii_course_id+" span").html(data.end_date);else{var current_msg=$("#edit_end_date_desc").html;$("#edit_end_date_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".edit_course_end_date_form").hide(),$("#tii_close_bar").remove()}})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>");
}function initialiseCourseRecreation(){var e=$(window).width(),t="80%";e<1e3&&(t="860px");var i=$(window).width(),a="80%";i<700&&(a="600px"),$("a.course_recreate").colorbox({iframe:!0,width:t,height:a,top:"100px",className:"migration",opacity:"0.7",onLoad:function(){lightBoxCloseButton()},onCleanup:function(){$("#tii_close_bar").remove()}}),$(".browser_checkbox").click(function(){$(".browser_checkbox:checked").length>0?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()})}function initialiseCourseBrowserButtons(e){$("#id_create_course").click(function(){$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_course",tii_course_id:$("#tii_course_id").html(),tii_course_name:encodeURIComponent($("#tii_course_name").html()),course_name:encodeURIComponent($("#id_coursename").val()),course_category:$("#id_coursecategory").val(),sesskey:M.cfg.sesskey},success:function(t){var i=jQuery.parseJSON(t);hideCourseCreationOptions(i,e)}})}),$("#id_update_course").click(function(){$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"link_course",tii_course_id:$("#tii_course_id").html(),tii_course_name:$("#tii_course_name").html(),course_to_link:$("#id_coursetolink").val(),sesskey:M.cfg.sesskey},success:function(t){var i=jQuery.parseJSON(t);hideCourseCreationOptions(i,e)}})})}function hideCourseCreationOptions(e,t){if(0!=e){$("#course_id").html(e.courseid);var i='input[name="check_'+$("#tii_course_id").html()+'"]';parent.$(i).hide();var a="#tick_"+$("#tii_course_id").html();parent.$(a).show(),$('fieldset[id$="create_course_fieldset"]').parent().slideToggle(),$('fieldset[id$="update_course_fieldset"]').parent().slideToggle(),$("#or_container").hide(),$("#existing_course_title_span").html(e.coursename),$(".existing_course_title_h3").removeClass("hidden_class"),$(".assignmentids_check").length>0&&($(".assignmentids_check").removeAttr("disabled"),$("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled")),$(".assignmentids_check").change(function(){$(".assignmentids_check").filter(":checked").length>=5?$(".assignmentids_check").not(":checked").attr("disabled","disabled"):$(".assignmentids_check").removeAttr("disabled")}),initialiseCreateAssignmentButton(t)}}function initialiseCreateAssignmentButton(e){$("#id_create_assignment").unbind("click"),$("#id_create_assignment").click(function(){var t="";$(".assignmentids_check:checked").each(function(e){t+=$(this).val()+","}),","==t.charAt(t.length-1)&&t.substring(0,t.length-1),$("#id_create_assignment").attr("disabled","disabled"),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_assignment",course_id:$("#course_id").html(),assignment_name:$("#id_assignmentname").val(),parts:t,sesskey:M.cfg.sesskey},success:function(t){e.fnReloadAjax(),e.fnStandingRedraw(),$("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled"),$(".assignmentids_check").removeAttr("disabled")}})})}$(".submissionsDataTable thead tr, #courseBrowserTable thead tr").toggleClass("header");var dataTablesLang={nointegration:M.str.turnitintooltwo.nointegration,sProcessing:M.str.turnitintooltwo.sprocessing,sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,sInfoEmpty:M.str.turnitintooltwo.semptytable,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};$("#unlinkUserTable").dataTable({bProcessing:!0,bServerSide:!0,oLanguage:dataTablesLang,aaSorting:[[2,"asc"]],aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],sAjaxSource:"ajax.php?action=get_users",aoColumns:[{bSortable:!1,fnCreatedCell:function(e,t,i,a,s){$(e).addClass("centered_cell")}},null,{aDataSort:[2,3]},{aDataSort:[3,2]},null],fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1)}}),$("#filesTable").dataTable({bProcessing:!0,bServerSide:!0,oLanguage:dataTablesLang,sAjaxSource:"ajax.php?action=get_files",aoColumns:[null,null,null,{sClass:"filename c0",sWidth:"40%"},null,{sClass:"fullname c1",sWidth:"35%"},null,{sClass:"created c2",sWidth:"22%"},{sClass:"remove c3",sWidth:"3%"}],aoColumnDefs:[{bSearchable:!0,bVisible:!1,aTargets:[0]},{bSearchable:!0,bVisible:!1,aTargets:[1]},{bSearchable:!0,bVisible:!1,aTargets:[2]},{bSearchable:!0,bVisible:!0,aTargets:[3]},{bSearchable:!0,bVisible:!1,aTargets:[4]},{bSearchable:!0,bVisible:!0,aTargets:[5]},{bSearchable:!0,bVisible:!1,aTargets:[6]},{bSearchable:!0,bVisible:!0,aTargets:[7]},{bSearchable:!0,bVisible:!0,aTargets:[8]}],fnDrawCallback:function(e){if(0!=e.aiDisplay.length)for(var t=$("#filesTable tbody tr"),i=t[0].getElementsByTagName("td").length,a="",s=0;s<t.length;s++){var n=(e._iDisplayStart+s,e.aoData[e.aiDisplay[s]]._aData[0]);if(n!=a){var o=document.createElement("tr"),r=document.createElement("td");r.colSpan=i,r.className="group",r.innerHTML=n,o.appendChild(r),t[s].parentNode.insertBefore(o,t[s]),a=n}}},aaSortingFixed:[[0,"asc"]],aaSorting:[[1,"asc"]],sDom:'lfr<"giveHeight"t>ip'}),$.datepicker.regional[""].dateFormat="d M yy",$.datepicker.setDefaults($.datepicker.regional[""]);var courseBrowserTable=$("#courseBrowserTable").dataTable({bProcessing:!0,oLanguage:dataTablesLang,aaSorting:[[6,"asc"]],sAjaxSource:"ajax.php",aoColumnDefs:[{bSearchable:!1,bSortable:!1,sWidth:"5%",bVisible:!0,aTargets:[0],fnCreatedCell:function(e){$(e).addClass("center")}},{bSearchable:!0,bVisible:!0,sWidth:"45%",iDataSort:6,aTargets:[1]},{bSearchable:!0,bVisible:!0,sWidth:"10%",aTargets:[2]},{bSearchable:!0,bVisible:!0,sWidth:"20%",iDataSort:7,aTargets:[3],fnCreatedCell:function(e){$(e).addClass("right")}},{bSearchable:!1,bVisible:!0,sWidth:"10%",aTargets:[4],fnCreatedCell:function(e){$(e).addClass("right")}},{bSearchable:!0,bVisible:!0,sWidth:"10%",aTargets:[5],fnCreatedCell:function(e){$(e).addClass("center")}},{bSearchable:!0,bVisible:!1,aTargets:[6]},{bSearchable:!0,bVisible:!1,aTargets:[7]}],fnServerData:function(e,t,i){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"search_classes",course_title:$("#search_course_title").val(),course_integration:$("#search_course_integration").val(),course_end_date:$("#search_course_end_date").val(),sesskey:M.cfg.sesskey},success:function(e){i(e)}})},bStateSave:!0,fnStateSave:function(e,t){try{localStorage.setItem(uid+"DataTables",JSON.stringify(t))}catch(i){}},fnStateLoad:function(e){try{return JSON.parse(localStorage.getItem(uid+"DataTables"))}catch(t){}},fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1),initialiseCourseRecreation(),initialiseEditEndDate(),$("#search_courses_button").removeAttr("disabled")}});$("#search_courses_button").click(function(){return $(this).attr("disabled","disabled"),courseBrowserTable.fnReloadAjax(),courseBrowserTable.fnStandingRedraw(),!1}),$("#search_course_end_date").datepicker();var oTable=$("#assignmentBrowserTable").dataTable({bProcessing:!0,oLanguage:dataTablesLang,sAjaxSource:"ajax.php",fnServerData:function(sSource,aoData,fnCallback){$("#id_create_course").attr("disabled","disabled"),$("#id_update_course").attr("disabled","disabled"),$("#assignmentBrowserTable").length>0&&$(".side-pre-only #page-content #region-main").css({"margin-left":"0px"}),$("#id_assignmentname").attr("disabled","disabled"),$("#id_create_assignment").attr("disabled","disabled"),$.ajax({dataType:"json",type:"POST",url:sSource,data:{action:"get_assignments",tii_course_id:$("#tii_course_id").html(),sesskey:M.cfg.sesskey},success:function(result){eval(result),initialiseCourseBrowserButtons(oTable),fnCallback(result),"0"!=$("#course_id").html()&&result.number_of_assignments>0?($("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled"),$(".assignmentids_check").removeAttr("disabled"),initialiseCreateAssignmentButton(oTable)):($("#id_assignmentname").attr("disabled","disabled"),$("#id_create_assignment").attr("disabled","disabled"),$(".assignmentids_check").attr("disabled","disabled")),$("#id_create_course").removeAttr("disabled"),$("#id_update_course").removeAttr("disabled")}})},aoColumnDefs:[{bSearchable:!1,bVisible:!0,aTargets:[0]},{bSearchable:!0,bVisible:!0,aTargets:[1],fnCreatedCell:function(e){$(e).addClass("nowrap")}},{bSearchable:!0,bVisible:!0,aTargets:[2]},{bSearchable:!0,bVisible:!0,aTargets:[3]}]});if($("#create_classes_button").colorbox({iframe:!0,width:"60%",top:"200px",height:"124px",opacity:"0.7",className:"course_creation",href:function(){var e=$(".create_course_category").val(),t=$(".create_assignment_checkbox").is(":checked")?"1":"0",i="";$(".browser_checkbox:checked").each(function(e){i+="&class_id"+e+"="+$(this).val(),e++});var a=window.location.href,s=a.replace("cmd=courses","cmd=multiple_class_recreation");return s+"&view_context=box&category="+e+"&assignments="+t+i+"&sesskey="+M.cfg.sesskey},onCleanup:function(){window.location=window.location}}),$("#class_ids").length>0){$(".side-pre-only #page-content #region-main").css({"margin-left":"0px"}),$(".has-region-side-pre #page-content #region-main").css({width:"100%","margin-top":"-30px"});var class_ids=$("#class_ids").html();$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_courses",class_ids:class_ids,course_category:$("#course_category").html(),create_assignments:$("#create_assignments").html(),sesskey:M.cfg.sesskey},success:function(e){$("#course_creation_status").html(e)}})}}),jQuery(document).ready(function($){if($(".settingsform fieldset div.formsettingheading").length>0){var tabmenu=$(".settingsform fieldset div.formsettingheading:first").html();tabmenu.indexOf("tabtree")>=0&&($(".settingsform fieldset div.formsettingheading:first").remove(),$(".settingsform h2:first").after(tabmenu))}$('input[name="selectallcb"]').click(function(){$(this).prop("checked")?($(".browser_checkbox").prop("checked",!0),$(".browser_checkbox:checked").length>0?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()):($(".browser_checkbox").prop("checked",!1),$(".create_checkboxes").slideUp())}),$(".tii_upgrade_check").click(function(e){e.preventDefault();var t="ajax.php";$(".settingsform fieldset div.formsettingheading").length>0&&(t="../mod/turnitintooltwo/ajax.php"),$(".tii_upgrade_check").hide(),$(".tii_upgrading_check").css("display","inline-block");var i=$(this).attr("id").split("_")[1];$.ajax({type:"POST",url:t,dataType:"html",data:{action:"check_upgrade",current_version:i,sesskey:M.cfg.sesskey},success:function(e){var e=$.parseJSON(e);1===e.update?($(".tii_upgrade_check").hide(),$(".tii_upgrading_check").hide(),$(".tii_no_upgrade").html('<a href="'+e.file[0]+'">'+M.str.turnitintooltwo.upgradeavailable+"</a>")):($(".tii_upgrading_check").hide(),$(".tii_upgrade_check").show())}})}),$(".test_connection").length>0&&(""==$("#id_s_turnitintooltwo_accountid").val()&&""==$("#id_s_turnitintooltwo_secretkey").val()||($(".test_connection").show(),$("#test_link").show()),$("#id_s_turnitintooltwo_accountid, #id_s_turnitintooltwo_secretkey, #id_s_turnitintooltwo_apiurl").keyup(function(){$("#testing_container").hide();var e=$("#id_s_turnitintooltwo_accountid").val(),t=$("#id_s_turnitintooltwo_secretkey").val();e=e.trim(),t=t.trim(),0==e.length||0==t.length?($("#test_result").hide(),$(".test_connection").hide()):($(".test_connection").show(),$("#test_link").show())}),$("#test_link").click(function(){$("#test_result").hide(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!0),$("#test_link").hide(),$("#test_result").css("opacity",""),$("#test_result").removeClass("test_link_success test_link_fail"),$("#testing_container").show();var url="ajax.php";$(".settingsform fieldset div.formsettingheading").length>0&&(url="../mod/turnitintooltwo/ajax.php");var accountid=$("#id_s_turnitintooltwo_accountid").val(),accountshared=$("#id_s_turnitintooltwo_secretkey").val(),accounturl=$("#id_s_turnitintooltwo_apiurl").val();$.ajax({type:"POST",url:url,dataType:"json",data:{action:"test_connection",sesskey:M.cfg.sesskey,accountid:accountid,accountshared:accountshared,url:accounturl},success:function(data){eval(data),$("#testing_container").hide(),"success"==data.connection_status?$("#test_result").addClass("test_link_success"):$("#test_result").addClass("test_link_fail"),$("#test_result").html(data.msg),$("#test_result").show(),$("#test_link").show(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!1)}})}))});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3by5qcyIsInR1cm5pdGludG9vbHR3b19leHRyYS5qcyIsInR1cm5pdGludG9vbHR3b19zZXR0aW5ncy5qcyJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImVuYWJsZUVkaXRpbmdUZXh0IiwicGFydF9pZCIsImVkaXRhYmxlIiwiZGlzYWJsZUVkaXRpbmdUZXh0IiwiZ2V0TG9hZGluZ0dpZiIsImltZyIsImFmdGVyIiwidG9wIiwid2luZG93Iiwic2Nyb2xsVG9wIiwiaGVpZ2h0IiwiY3NzIiwiaGlkZUxvYWRpbmdHaWYiLCJyZW1vdmUiLCJnZXRTdWJtaXNzaW9ucyIsInRhYmxlIiwiYXNzaWdubWVudF9pZCIsInN0YXJ0IiwicmVmcmVzaF9yZXF1ZXN0ZWQiLCJ0b3RhbCIsImFqYXgiLCJkYXRhVHlwZSIsInR5cGUiLCJ1cmwiLCJhc3luYyIsImRhdGEiLCJhY3Rpb24iLCJhc3NpZ25tZW50IiwicGFydCIsInNlc3NrZXkiLCJNIiwiY2ZnIiwic3VjY2VzcyIsInJlc3VsdCIsImV2YWwiLCJlbmQiLCJhYURhdGEiLCJsZW5ndGgiLCJmbkFkZERhdGEiLCJhdHRyIiwiYWxscmVmcmVzaGVkIiwiZWFjaCIsImsiLCJ2IiwiaGlkZSIsInNob3ciLCJzdWJtaXRWaXNpYmlsaXR5Iiwibm9uc3VibWl0dGVycyIsImVycm9yIiwicmVzcG9uc2UiLCJodG1sIiwic3RyIiwidHVybml0aW50b29sdHdvIiwidGlpc3VibWlzc2lvbnNnZXRlcnJvciIsInJlZnJlc2hSdWJyaWNTZWxlY3QiLCJydWJyaWNFbGVtZW50SWQiLCJjdXJyZW50UnVicmljIiwidmFsIiwibW9kdWxlbmFtZSIsImNvdXJzZSIsImVtcHR5Iiwib3B0aW9ucyIsImkiLCJhcHBlbmQiLCJ2YWx1ZSIsInRleHQiLCJyZWZyZXNoVXNlck1lc3NhZ2VzIiwicmVzZXRQZWVybWFya1NlY3Rpb24iLCJyZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyIsInVzZXJfcm9sZSIsInBlZXJtYXJrX3RhYmxlIiwibm9fb2ZfcGVlcm1hcmtzIiwicGVlcm1hcmtzX2FjdGl2ZSIsImNvb2tpZSIsInNsaWRlRG93biIsInNsaWRlVXAiLCJpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0iLCJzY29wZSIsInN1Ym1pc3Npb25faWQiLCJpZGVudGlmaWVyIiwiY29sb3Jib3giLCJpbmxpbmUiLCJ3aWR0aCIsIm9wYWNpdHkiLCJjbGFzc05hbWUiLCJvbkNvbXBsZXRlIiwiaWRTdHIiLCJ0aGlzIiwic3BsaXQiLCJ1bmRlZmluZWQiLCJ1bmJpbmQiLCJjbGljayIsInJlYXNvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0YXR1cyIsImNsb3NlIiwid3d3cm9vdCIsInVzZXJpZCIsImNvdXJzZWlkIiwibmFtZSIsInJlbW92ZUNsYXNzIiwiY3VycmVudF9tc2ciLCJtc2ciLCJvbkNsZWFudXAiLCJpbml0aWFsaXNlVXBsb2FkQm94IiwidXNlcl9pZCIsImNvbG9yQm94V2lkdGgiLCJjb2xvckJveEhlaWdodCIsIm9uTG9hZCIsImxpZ2h0Qm94Q2xvc2VCdXR0b24iLCJvbkNsb3NlZCIsInJlZnJlc2hJbmJveFJvdyIsImlmcmFtZSIsInRyYW5zaXRpb24iLCJpbml0aWFsaXNlWmlwRG93bmxvYWRzIiwiZG93bmxvYWRaaXBGaWxlIiwib24iLCJlIiwib3BlbiIsImhyZWYiLCJzdWJtaXNzaW9uX2lkcyIsImNsb3NlYnV0dG9uIiwiaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0IiwiaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyIsImluaXRpYWxpc2VSZWZyZXNoUm93Iiwic2libGluZ3MiLCJhZGRDbGFzcyIsInBhcmVudCIsImluaXRpYWxpc2VEVkxhdW5jaGVycyIsImNoaWxkcmVuIiwiaGFzQ2xhc3MiLCJkb3dubG9hZE9yaWdpbmFsRmlsZSIsImRvd25sb2FkdHlwZSIsInN1Ym1pdCIsImR2dHlwZSIsInN1Ym1pc3Npb24iLCJjaGVja0RWQ2xvc2VkIiwiZHZXaW5kb3ciLCJjbG9zZWQiLCJzZXRUaW1lb3V0Iiwic3VibWl0Tm90aGluZyIsInVzZXIiLCJleHBpcmVzIiwiYWxlcnQiLCJyZXNwb25zZVRleHQiLCJjb21wbGV0ZSIsImxpbmsiLCJvVGFibGUiLCJkYXRhVGFibGUiLCJ0ciIsInJvd2luZGV4IiwiaW5kZXgiLCJmbkRlbGV0ZVJvdyIsInJvdyIsImluaXRpYWxpc2VDaGVja2JveGVzIiwic2hvd1BhcnREYXRlc0JveGVzIiwiaXMiLCJyZW1vdmVBdHRyIiwiY29uZmlybXN0cm5hbWUiLCJjb25maXJtc3RyIiwicmVwbGFjZSIsImNvbmZpcm1yZXN1bHQiLCJjb25maXJtIiwicGFwZXIiLCJsb2NhdGlvbiIsInByb3AiLCJzdHVkZW50X2lkIiwibWVzc2FnZSIsInN1Ym1pdG5vdGhpbmd3YXJuaW5nIiwiY29va2llc2VlbiIsImRhdGFUYWJsZXNMYW5nIiwic1Byb2Nlc3NpbmciLCJzcHJvY2Vzc2luZyIsInNaZXJvUmVjb3JkcyIsInN6ZXJvcmVjb3JkcyIsInNJbmZvIiwic2luZm8iLCJzU2VhcmNoIiwic3NlYXJjaCIsInNMZW5ndGhNZW51Iiwic2xlbmd0aG1lbnUiLCJvUGFnaW5hdGUiLCJzTmV4dCIsInNuZXh0Iiwic1ByZXZpb3VzIiwic3ByZXZpb3VzIiwiYWN0aXZlVGFiIiwidGFicyIsImFjdGl2ZSIsImZuIiwiZm5UYWJsZXMiLCJmbkFkanVzdENvbHVtblNpemluZyIsImJQcm9jZXNzaW5nIiwic0FqYXhTb3VyY2UiLCJhb0NvbHVtbkRlZnMiLCJiU29ydGFibGUiLCJzQ2xhc3MiLCJhVGFyZ2V0cyIsIm9MYW5ndWFnZSIsImZuU2VydmVyRGF0YSIsInNTb3VyY2UiLCJhb0RhdGEiLCJmbkNhbGxiYWNrIiwicm9sZSIsIm1lbWJlcmNoZWNrZXJyb3IiLCJzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMiLCJ2aXNpYmxlQ29scyIsIm5vT2ZDb2x1bW5zIiwic2hvd09yaWdSZXBvcnQiLCJ1c2VHcmFkZU1hcmsiLCJtdWx0aXBsZVBhcnRzIiwicHVzaCIsImlEYXRhU29ydCIsInNUeXBlIiwiYlZpc2libGUiLCJwYXJ0VGFibGVzIiwicmVmcmVzaFJlcXVlc3RlZCIsImFvQ29sdW1ucyIsImFMZW5ndGhNZW51IiwiYWFTb3J0aW5nIiwic0RvbSIsImJTdGF0ZVNhdmUiLCJmblN0YXRlU2F2ZSIsIm9TZXR0aW5ncyIsIm9EYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmblN0YXRlU2F2ZVBhcmFtcyIsImFiVmlzQ29scyIsImZuU3RhdGVMb2FkIiwicGFyc2UiLCJnZXRJdGVtIiwiZm5TdGF0ZUxvYWRQYXJhbXMiLCJmbkRyYXdDYWxsYmFjayIsInRpaV90YWJsZV9mdW5jdGlvbnMiLCJ6aXBfZG93bmxvYWRzIiwiZm5SZWxvYWRBamF4IiwiZm5TdGFuZGluZ1JlZHJhdyIsInJlc2l6ZSIsImZvY3VzIiwiY2hhbmdlcnVicmljd2FybmluZyIsImNsb3NlQnV0dG9uIiwicHJvY2VlZCIsImR1ZV9kYXRlIiwiZHVlX2RhdGVfdW5peCIsIm1vbWVudCIsInVuaXgiLCJyZXN1Ym1pc3Npb25ncmFkZXdhcm4iLCJsb2FkaW5nIiwibG9hZGluZ2R2IiwiYm9keSIsImZvcm1zIiwic2VsZiIsInBvc3RkYXRlX3dhcm5pbmciLCJkZWZhdWx0cyIsIm1vZGUiLCJvbmJsdXIiLCJzaG93YnV0dG9ucyIsImFqYXhPcHRpb25zIiwidmFsaWRhdGUiLCJpbmRleE9mIiwiTWF0aCIsImZsb29yIiwiaXNOdW1lcmljIiwibWF4bWFya3NlcnJvciIsIm5ld1ZhbHVlIiwiZmllbGQiLCJwYXJ0aWQiLCJ0YWJJZCIsInBhcmVudHNVbnRpbCIsIiR0aGlzIiwidGhlRGF0ZSIsIkRhdGUiLCJmb3JtYXQiLCJ2aWV3Zm9ybWF0IiwidGVtcGxhdGUiLCJjb21ib2RhdGUiLCJtaW51dGVTdGVwIiwibWluWWVhciIsIm1heFllYXIiLCJnZXRGdWxsWWVhciIsInNtYXJ0RGF5cyIsImRpc2FibGVhbm9uY29uZmlybSIsImVkaXRhYmxlQ29udGFpbmVyIiwiZXhwb3J0X29wdGlvbiIsImN1cnJlbnQiLCJub3QiLCJzY3JvbGxpbmciLCJldiIsIm9yaWdpbmFsRXZlbnQiLCJyZWxvYWQiLCJwcmludCIsImlkIiwiY2hhbmdlIiwiZGF0YUVsIiwicG9zdF9kYXRlIiwiYnVpbGRVbml4RGF0ZSIsImFub25hbGVydCIsImVsIiwiZGF0ZSIsImZpbmQiLCJpbml0aWFsaXNlRWRpdEVuZERhdGUiLCJiYWNrZ3JvdW5kIiwiY3VycmVudF9kYXRlIiwidGlpX2NvdXJzZV9pZCIsInRpaV9jb3Vyc2VfdGl0bGUiLCJlbmRfZGF0ZV9kIiwiZW5kX2RhdGVfbSIsImVuZF9kYXRlX3kiLCJlbmRfZGF0ZSIsImluaXRpYWxpc2VDb3Vyc2VSZWNyZWF0aW9uIiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJpbml0aWFsaXNlQ291cnNlQnJvd3NlckJ1dHRvbnMiLCJ0aWlfY291cnNlX25hbWUiLCJjb3Vyc2VfbmFtZSIsImNvdXJzZV9jYXRlZ29yeSIsIm9iaiIsInBhcnNlSlNPTiIsImhpZGVDb3Vyc2VDcmVhdGlvbk9wdGlvbnMiLCJjb3Vyc2VfdG9fbGluayIsImNiX2VsZW1lbnQiLCJ0aWNrX2VsZW1lbnQiLCJzbGlkZVRvZ2dsZSIsImNvdXJzZW5hbWUiLCJmaWx0ZXIiLCJpbml0aWFsaXNlQ3JlYXRlQXNzaWdubWVudEJ1dHRvbiIsInBhcnRzIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiY291cnNlX2lkIiwiYXNzaWdubWVudF9uYW1lIiwidG9nZ2xlQ2xhc3MiLCJub2ludGVncmF0aW9uIiwic0luZm9FbXB0eSIsInNlbXB0eXRhYmxlIiwiYlNlcnZlclNpZGUiLCJmbkNyZWF0ZWRDZWxsIiwiblRkIiwic0RhdGEiLCJpUm93IiwiaUNvbCIsImFEYXRhU29ydCIsInNXaWR0aCIsImJTZWFyY2hhYmxlIiwiYWlEaXNwbGF5IiwiblRycyIsImlDb2xzcGFuIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzTGFzdEdyb3VwIiwic0dyb3VwIiwiX2lEaXNwbGF5U3RhcnQiLCJfYURhdGEiLCJuR3JvdXAiLCJjcmVhdGVFbGVtZW50IiwibkNlbGwiLCJjb2xTcGFuIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiYWFTb3J0aW5nRml4ZWQiLCJkYXRlcGlja2VyIiwicmVnaW9uYWwiLCJkYXRlRm9ybWF0Iiwic2V0RGVmYXVsdHMiLCJjb3Vyc2VCcm93c2VyVGFibGUiLCJjb3Vyc2VfdGl0bGUiLCJjb3Vyc2VfaW50ZWdyYXRpb24iLCJjb3Vyc2VfZW5kX2RhdGUiLCJ1aWQiLCJtYXJnaW4tbGVmdCIsIm51bWJlcl9vZl9hc3NpZ25tZW50cyIsImNhdGVnb3J5IiwiYXNzaWdubWVudHMiLCJjbGFzc19pZHMiLCJwYWdldXJsIiwibWFyZ2luLXRvcCIsImNyZWF0ZV9hc3NpZ25tZW50cyIsInRhYm1lbnUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRfdmVyc2lvbiIsInVwZ3JhZGVhdmFpbGFibGUiLCJrZXl1cCIsImFjY291bnRpZCIsImFjY291bnRzaGFyZWQiLCJ0cmltIiwiYWNjb3VudHVybCIsImNvbm5lY3Rpb25fc3RhdHVzIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBQUMsVUFBQUMsTUFBQSxTQUFBQyxHQXV3QkEsUUFBQUMsbUJBQUFDLEdBQ0FGLEVBQUEsU0FBQUUsRUFBQSwwQkFBQUEsRUFBQSxtQkFBQUMsU0FBQSxVQUlBLFFBQUFDLG9CQUFBRixHQUNBRixFQUFBLFNBQUFFLEVBQUEsMEJBQUFBLEVBQUEsbUJBQUFDLFNBQUEsV0FHQSxRQUFBRSxpQkFDQSxHQUFBQyxHQUFBLGlDQUNBTixHQUFBLGdCQUFBTyxNQUFBRCxFQUNBLElBQUFFLEdBQUFSLEVBQUFTLFFBQUFDLFlBQUFWLEVBQUFTLFFBQUFFLFNBQUEsQ0FDQVgsR0FBQSxnQkFBQVksSUFBQSxNQUFBSixFQUFBLE1BR0EsUUFBQUssa0JBQ0FiLEVBQUEsZ0JBQUFjLFNBR0EsUUFBQUMsZ0JBQUFDLE1BQUFD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QUFBLGdCQUFBWSxJQUFBLFVBQUEsSUFDQVosRUFBQSxnQkFBQXFHLFlBQUEsb0NBQ0FyRyxFQUFBLHNCQUFBOEMsTUFHQSxJQUFBdEIsS0FBQSxVQUNBeEIsR0FBQSxpREFBQXNDLE9BQUEsSUFDQWQsSUFBQSxrQ0FHQSxJQUFBMlcsV0FBQW5ZLEVBQUEsbUNBQUEwRCxNQUNBMFUsY0FBQXBZLEVBQUEsbUNBQUEwRCxNQUNBNFUsV0FBQXRZLEVBQUEsZ0NBQUEwRCxLQUVBMUQsR0FBQXFCLE1BQ0FFLEtBQUEsT0FDQUMsSUFBQUEsSUFDQUYsU0FBQSxPQUNBSSxNQUFBQyxPQUFBLGtCQUFBRyxRQUFBQyxFQUFBQyxJQUFBRixRQUFBcVcsVUFBQUEsVUFBQUMsY0FBQUEsY0FBQTVXLElBQUE4VyxZQUNBclcsUUFBQSxTQUFBUCxNQUNBUyxLQUFBVCxNQUVBMUIsRUFBQSxzQkFBQTZDLE9BRUEsV0FBQW5CLEtBQUE2VyxrQkFDQXZZLEVBQUEsZ0JBQUErSCxTQUFBLHFCQUVBL0gsRUFBQSxnQkFBQStILFNBQUEsa0JBR0EvSCxFQUFBLGdCQUFBbUQsS0FBQXpCLEtBQUE2RSxLQUNBdkcsRUFBQSxnQkFBQThDLE9BQ0E5QyxFQUFBLGNBQUE4QyxPQUNBOUMsRUFBQSx1Q0FBQXNLLEtBQUEsWUFBQSIsImZpbGUiOiJ0dXJuaXRpbnRvb2x0d28ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICAgJChcIi5qc19yZXF1aXJlZFwiKS5zaG93KCk7XG4gICAgJChcIi5qc19oaWRlXCIpLmhpZGUoKTtcblxuICAgIC8vIENvbmZpZ3VyZSBzdWJtaXQgcGFwZXIgZm9ybSBlbGVtZW50cyBkZXBlbmRpbmcgb24gd2hhdCBzdWJtaXNzaW9uIHR5cGUgaXMgYWxsb3dlZC5cbiAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAxKSB7XG4gICAgICAgICQoXCIjaWRfc3VibWlzc2lvbnRleHRcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgIH1cblxuICAgIGlmICgkKFwiI2lkX3N1Ym1pc3Npb250eXBlXCIpLnZhbCgpID09IDIpIHtcbiAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9uZmlsZVwiKS5wYXJlbnQoKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgLy8gRGlzYWJsZSBhc3NpZ25tZW50IHN1Ym1pc3Npb24gaWYgYSBzdWJtaXNzaW9uIGFncmVlbWVudCBleGlzdHMgYW5kIGlzIG5vdCBjaGVja2VkLlxuICAgIGlmICgoJChcIiNpZF9zdWJtaXNzaW9uYWdyZWVtZW50XCIpLmxlbmd0aCkpIHtcbiAgICAgICAgJCgnI2lkX3N1Ym1pdGJ1dHRvbicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgfVxuXG4gICAgLy8gRGlzYWJsZS9lbmFibGUgYXNzaWdubWVudCBzdWJtaXNzaW9uIHdoZW4gdGhlIHN1Ym1pc3Npb24gY2hlY2tib3ggaXMgY2hlY2tlZC91bmNoZWNrZWQuXG4gICAgJCgnI2lkX3N1Ym1pc3Npb25hZ3JlZW1lbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjaWRfc3VibWl0YnV0dG9uJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI2lkX3N1Ym1pc3Npb25hZ3JlZW1lbnQnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyNpZF9zdWJtaXRidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuZGVsZXRlX3BhcGVyJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIFNldCB1cCB0aGUgY29uZmlybSB3aW5kb3cuXG4gICAgICAgIHZhciBjb25maXJtc3RybmFtZSA9ICQodGhpcykuZGF0YShcImNvbmZpcm1cIik7XG4gICAgICAgIHZhciBjb25maXJtc3RyID0gTS5zdHIudHVybml0aW50b29sdHdvW2NvbmZpcm1zdHJuYW1lXS5yZXBsYWNlKC9cXFxcbi9nLFwiXFxuXCIpO1xuICAgICAgICB2YXIgY29uZmlybXJlc3VsdCA9IGNvbmZpcm0oY29uZmlybXN0cik7XG5cbiAgICAgICAgaWYgKGNvbmZpcm1yZXN1bHQpIHtcbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnZGVsZXRlc3VibWlzc2lvbicsXG4gICAgICAgICAgICAgICAgICAgIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXksXG4gICAgICAgICAgICAgICAgICAgIHBhcGVyOiAkKHRoaXMpLmRhdGEoXCJwYXBlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgcGFydDogJCh0aGlzKS5kYXRhKFwicGFydFwiKSxcbiAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudDogJCh0aGlzKS5kYXRhKFwiYXNzaWdubWVudFwiKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuc3VibWl0X25vdGhpbmcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCAkKHRoaXMpLmhhc0NsYXNzKFwiZGlzYWJsZWRcIikgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcbiAgICAgICAgdmFyIHBhcnRfaWQgPSAkKHRoaXMpLnByb3AoJ2lkJykuc3BsaXQoJ18nKVsyXTtcbiAgICAgICAgdmFyIHN0dWRlbnRfaWQgPSAkKHRoaXMpLnByb3AoJ2lkJykuc3BsaXQoJ18nKVszXTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3VibWl0bm90aGluZ3dhcm5pbmcucmVwbGFjZSgvPGJyPi9nLCBcIlxcblwiKS5yZXBsYWNlKC8mIzM5Oy9nLCBcIlxcJ1wiKTtcbiAgICAgICAgdmFyIGNvb2tpZXNlZW4gPSAkLmNvb2tpZSgnc3VibWl0bm90aGluZ2FjY2VwdCcpO1xuICAgICAgICBpZiAoIGNvb2tpZXNlZW4gfHwgY29uZmlybSggbWVzc2FnZSApICkge1xuICAgICAgICAgICAgc3VibWl0Tm90aGluZyhzdHVkZW50X2lkLCBwYXJ0X2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfSk7XG5cbiAgICAvLyBDb25maWd1cmUgc3VibWl0IHBhcGVyIGZvcm0gZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdoYXQgc3VibWlzc2lvbiB0eXBlIGlzIHNlbGVjdGVkLlxuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2lkX3N1Ym1pc3Npb250eXBlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKFwiI2lkX3N1Ym1pc3Npb250eXBlXCIpLnZhbCgpID09IDEpIHtcbiAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbnRleHRcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgICAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9uZmlsZVwiKS5wYXJlbnQoKS5wYXJlbnQoKS5zaG93KCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAyKSB7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb25maWxlXCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbnRleHRcIikucGFyZW50KCkucGFyZW50KCkuc2hvdygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTaG93IGxvYWRpbmcgaWYgc3VibWlzc2lvbiBwYXNzZXMgdmFsaWRhdGlvbi5cbiAgICAkKGRvY3VtZW50KS5vbignc3VibWl0JywgJy5zdWJtaXNzaW9uX2Zvcm1fY29udGFpbmVyIGZvcm0nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnRpdGxlXCIpLnZhbCgpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoXCIjZ2VuZXJhbFwiKS5zbGlkZVVwKCdzbG93Jyk7XG4gICAgICAgICAgICAkKFwiLm1vZF90dXJuaXRpbnRvb2x0d28gLm5vdGljZWJveFwiKS5zbGlkZVVwKCdzbG93Jyk7XG4gICAgICAgICAgICAkKFwiLnN1Ym1pc3Npb25fZm9ybV9jb250YWluZXIgZm9ybVwiKS5zbGlkZVVwKCdzbG93Jyk7XG4gICAgICAgICAgICAkKFwiI3N1Ym1pdHRpbmdfbG9hZGVyXCIpLnNsaWRlRG93bignc2xvdycpO1xuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW5pdGlhbGlzZSBhbmQgc2V0IGNvb2tpZSBmb3Igc2hvd2luZyB0aGUgc3VtbWFyeSBmb3IgdGhpcyBhc3NpZ25tZW50LlxuICAgIGlmICgkKCcudG9nZ2xlX3N1bW1hcnknKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICghJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlRG93bigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcuaW50cm9kdWN0aW9uJykuc2xpZGVVcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9nZ2xlIFN1bW1hcnkgZGlzcGxheSBvbiBJbmJveC5cbiAgICAgICAgJCgnLnRvZ2dsZV9zdW1tYXJ5IGknKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCB0cnVlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICAgICAgICAgICQoJy5zaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLmhpZGVfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuaW50cm9kdWN0aW9uJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBmYWxzZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGlzZSBhbmQgc2V0IGNvb2tpZSBmb3Igc2hvd2luZyB0aGUgcGVlcm1hcmsgYXNzaWdubWVudHMgZm9yIHRoaXMgYXNzaWdubWVudC5cbiAgICBpZiAoJCgnLnRvZ2dsZV9wZWVybWFya3MnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICghJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkpIHtcbiAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkgPT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZURvd24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZVVwKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUb2dnbGUgUGVlcm1hcmtzIGRpc3BsYXkgb24gSW5ib3guXG4gICAgICAgICQoJy50b2dnbGVfcGVlcm1hcmtzIGknKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgZmFsc2UsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnNob3dfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zLCAuaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnMnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKCdpZCcpLnNwbGl0KFwiX1wiKTtcblxuICAgICAgICBpZiAoaWRTdHJbMF0gPT0gXCJzaG93XCIpIHtcbiAgICAgICAgICAgICQoJyNzaG93X3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNoaWRlX3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLnNob3coKTtcbiAgICAgICAgICAgICQoJyNwZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zbGlkZURvd24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNzaG93X3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLnNob3coKTtcbiAgICAgICAgICAgICQoJyNoaWRlX3BlZXJtYXJrX2luc3RydWN0aW9uc18nICsgaWRTdHJbM10pLmhpZGUoKTtcbiAgICAgICAgICAgICQoJyNwZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zbGlkZVVwKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNob3cgb3B0aW9ucyBmb3IgcGFydHMgaW4gbW9kX2Zvcm0ucGhwLlxuICAgIHNob3dQYXJ0RGF0ZXNCb3hlcygpO1xuICAgICQoZG9jdW1lbnQpLm9uKCdjaGFuZ2UnLCAnI2lkX251bXBhcnRzJywgZnVuY3Rpb24gKCkge1xuICAgICAgICBzaG93UGFydERhdGVzQm94ZXMoKTtcbiAgICB9KTtcblxuICAgIC8vIEFjdGl2YXRlIHNpbXBsZSBkYXRhVGFibGVzLlxuICAgIGlmICgkKFwiI2RhdGFUYWJsZVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoXCIjZGF0YVRhYmxlXCIpLmRhdGFUYWJsZSgpO1xuICAgIH1cblxuICAgIC8vIENvbmZpZ3VyZSBkYXRhdGFibGVzIGxhbmd1YWdlIHNldHRpbmdzLlxuICAgIGlmICh0eXBlb2YgTS5zdHIudHVybml0aW50b29sdHdvICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgZGF0YVRhYmxlc0xhbmcgPSB7XG4gICAgICAgICAgICBcInNQcm9jZXNzaW5nXCI6ICc8c3BhbiBjbGFzcz1cImxvYWRpbmctbWVzc2FnZVwiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3Byb2Nlc3NpbmcgKyAnPC9zcGFuPicsXG4gICAgICAgICAgICBcInNaZXJvUmVjb3Jkc1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3plcm9yZWNvcmRzLFxuICAgICAgICAgICAgXCJzSW5mb1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2luZm8sXG4gICAgICAgICAgICBcInNTZWFyY2hcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNzZWFyY2gsXG4gICAgICAgICAgICBcInNMZW5ndGhNZW51XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zbGVuZ3RobWVudSxcbiAgICAgICAgICAgIFwib1BhZ2luYXRlXCI6IHtcbiAgICAgICAgICAgICAgICBcInNOZXh0XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zbmV4dCxcbiAgICAgICAgICAgICAgICBcInNQcmV2aW91c1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3ByZXZpb3VzXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQWN0aXZhdGUgZGF0YXRhYmxlIHRhYnMgb24gc3VibWlzc2lvbiBpbmJveC5cbiAgICBpZiAoJChcIiN0YWJzXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gU2V0IHRhYiBwb3NpdGlvbi5cbiAgICAgICAgdmFyIGFjdGl2ZVRhYiA9IDA7XG4gICAgICAgIGlmICgkKFwiI3RhYl9wb3NpdGlvblwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBhY3RpdmVUYWIgPSAkKCcjdGFiX3Bvc2l0aW9uJykudGV4dCgpO1xuICAgICAgICB9XG4gICAgICAgICQoXCIjdGFic1wiKS50YWJzKCB7XG4gICAgICAgICAgICBcImFjdGl2ZVwiOiBhY3RpdmVUYWIsXG4gICAgICAgICAgICBcInNob3dcIjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gJC5mbi5kYXRhVGFibGUuZm5UYWJsZXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCB0YWJsZS5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgICAgICAgICAkKHRhYmxlKS5kYXRhVGFibGUoKS5mbkFkanVzdENvbHVtblNpemluZygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIHRoZSBkYXRhdGFibGUgZm9yIGFkZGluZy9yZW1vdmluZyBlbnJvbGxlZCB0dXRvcnMvc3R1ZGVudHMgdG8gYSBUdXJuaXRpbiBjb3Vyc2UuXG4gICAgaWYgKCQoJy5lbnJvbGxlZE1lbWJlcnMnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5lbnJvbGxlZE1lbWJlcnMnKS5kYXRhVGFibGUoe1xuICAgICAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBcImFvQ29sdW1uRGVmc1wiOiBbXG4gICAgICAgICAgICAgICAge1wiYlNvcnRhYmxlXCI6IGZhbHNlLCBcInNDbGFzc1wiOiBcImNlbnRlcmVkX2NlbGxcIiwgXCJhVGFyZ2V0c1wiOiBbMF19LFxuICAgICAgICAgICAgICAgIHtcInNDbGFzc1wiOiBcImxlZnRcIiwgXCJhVGFyZ2V0c1wiOiBbMV19XG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgICAgICBcImZuU2VydmVyRGF0YVwiOiBmdW5jdGlvbiAoIHNTb3VyY2UsIGFvRGF0YSwgZm5DYWxsYmFjayApIHtcbiAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBzU291cmNlLFxuICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJnZXRfbWVtYmVyc1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgcm9sZTogJCgnI3VzZXJfcm9sZScpLmh0bWwoKX0sXG4gICAgICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJlcnJvclwiOiBmdW5jdGlvbihkYXRhLCByZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmRhdGFUYWJsZXNfcHJvY2Vzc2luZycpLmF0dHIoJ3N0eWxlJywgJ3Zpc2liaWxpdHk6IGhpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmRhdGFUYWJsZXNfZW1wdHknKS5odG1sKE0uc3RyLnR1cm5pdGludG9vbHR3by5tZW1iZXJjaGVja2Vycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIGRhdGF0YWJsZXMgb24gdGhlIHN1Ym1pc3Npb24gaW5ib3gsIGEgc2VwZXJhdGUgZGF0YXRhYmxlIGlzIHNob3duIGZvciBlYWNoIHBhcnQuXG4gICAgLy8gVGhlcmUgYXJlIHRhYnMgdG8gdG9nZ2xlIHdoaWNoIHBhcnQgdGFibGUgaXMgZGlzcGxheWVkLlxuXG4gICAgLy8gRGVmaW5lIGNvbHVtbiBkZWZpbml0aW9ucyBhcyB0aGVyZSBjYW4gYmUgZGlmZmVyZW50IG51bWJlciBvZiBjb2x1bW5zLlxuICAgIHZhciBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMgPSBbXTtcbiAgICB2YXIgdmlzaWJsZUNvbHMgPSBbXTtcbiAgICB2YXIgbm9PZkNvbHVtbnMgPSAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aCcpLmxlbmd0aCAvICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykubGVuZ3RoO1xuICAgIHZhciBzaG93T3JpZ1JlcG9ydCA9ICgkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aC5jcmVwb3J0JykubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIHVzZUdyYWRlTWFyayA9ICgkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aC5jZ3JhZGUnKS5sZW5ndGggPiAwKSA/IHRydWUgOiBmYWxzZTtcbiAgICB2YXIgbXVsdGlwbGVQYXJ0cyA9ICgkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZSB0aC5jb3ZlcmFsbGdyYWRlJykubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub09mQ29sdW1uczsgaSsrKSB7XG4gICAgICAgIGlmIChpID09IDIpIHtcbiAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKG51bGwpO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpID09IDQpIHtcbiAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHtcImlEYXRhU29ydFwiOiBpIC0gMSwgXCJzVHlwZVwiOlwic3RyaW5nXCJ9KTtcbiAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PSA1KSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJzQ2xhc3NcIjogXCJyaWdodFwifSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNyB8fCAoaSA9PSA5ICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoKGkgPT0gOSAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDExICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJzQ2xhc3NcIjogXCJyaWdodFwiLCBcImlEYXRhU29ydFwiOiBpIC0gMSwgXCJzVHlwZVwiOlwibnVtZXJpY1wifSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKChpID09IDEyICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMSAmJiAhc2hvd09yaWdSZXBvcnQpKSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJzQ2xhc3NcIjogXCJyaWdodFwifSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPT0gMSB8fCAoKGkgPj0gOCAmJiAhc2hvd09yaWdSZXBvcnQgJiYgIXVzZUdyYWRlTWFyaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPj0gMTAgJiYgKCghc2hvd09yaWdSZXBvcnQgJiYgdXNlR3JhZGVNYXJrKSB8fCAoc2hvd09yaWdSZXBvcnQgJiYgIXVzZUdyYWRlTWFyaykpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCAoaSA+PSAxMiAmJiBzaG93T3JpZ1JlcG9ydCAmJiB1c2VHcmFkZU1hcmspKSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwiY2VudGVyXCIsIFwiYlNvcnRhYmxlXCI6IGZhbHNlfSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKChpID09IDApIHx8IChpID09IDMpIHx8IChpID09IDYpIHx8IChpID09IDggJiYgc2hvd09yaWdSZXBvcnQpIHx8ICgoaSA9PSA4ICYmICFzaG93T3JpZ1JlcG9ydCkgfHwgKGkgPT0gMTAgJiYgdXNlR3JhZGVNYXJrKSkpIHtcbiAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHtcImJWaXNpYmxlXCI6IGZhbHNlfSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwYXJ0VGFibGVzID0gW107XG4gICAgdmFyIHJlZnJlc2hSZXF1ZXN0ZWQgPSBbXTtcbiAgICAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmVhY2goZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIHBhcnRfaWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcbiAgICAgICAgcmVmcmVzaFJlcXVlc3RlZFtwYXJ0X2lkXSA9IDA7XG5cbiAgICAgICAgcGFydFRhYmxlc1twYXJ0X2lkXSA9ICQoJ3RhYmxlIycgKyBwYXJ0X2lkKS5kYXRhVGFibGUoe1xuICAgICAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJhb0NvbHVtbnNcIjogc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLFxuICAgICAgICAgICAgXCJhTGVuZ3RoTWVudVwiOiBbWzEwLCAyNSwgNTAsIDEwMCwgLTFdLCBbMTAsIDI1LCA1MCwgMTAwLCBcIkFsbFwiXV0sXG4gICAgICAgICAgICBcImFhU29ydGluZ1wiOiBbWyAyLCBcImFzY1wiIF0sWyA0LCBcImFzY1wiIF1dLFxuICAgICAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBcIm9MYW5ndWFnZVwiOiBkYXRhVGFibGVzTGFuZyxcbiAgICAgICAgICAgIFwic0RvbVwiOiAncjxcImxpc3RiYXItY29udGFpbmVyXCI8XCJ0b3AgbGlzdGJhciBjbGVhcmZpeFwibGY+PjxcImR0X3BhZ2luYXRpb24gY2xlYXJmaXhcInBpPnQ8XCJib3R0b21cIj48XCJkdF9wYWdpbmF0aW9uIGNsZWFyZml4XCJwaT4nLFxuICAgICAgICAgICAgXCJmblNlcnZlckRhdGFcIjogZnVuY3Rpb24gKCBzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2sgKSB7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiaW5pdGlhbGlzZV9yZWRyYXdcIn0sXG4gICAgICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVFZGl0aW5nVGV4dChwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZm9yY2Ugc2hvd2luZyBvZiBsb2FkaW5nIGJhciBhcyBpZiB3ZSBwbGFjZSBmbkNhbGxiYWNrIGFmdGVyIHRoZSB0YWJsZSBpcyBwb3B1bGF0ZWQgaXQgaXMgd2lwZWQgd2hlbiByZWZyZXNoaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgZm5DYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBwYXJ0X2lkICsgXCJfcHJvY2Vzc2luZ1wiKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiB2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRTdWJtaXNzaW9ucyhwYXJ0VGFibGVzW3BhcnRfaWRdLCAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgcGFydF9pZCwgMCwgcmVmcmVzaFJlcXVlc3RlZCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImJTdGF0ZVNhdmVcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiZm5TdGF0ZVNhdmVcIjogZnVuY3Rpb24gKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggcGFydF9pZCArICdEYXRhVGFibGVzJywgSlNPTi5zdHJpbmdpZnkob0RhdGEpICk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoIGUgKSB7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZm5TdGF0ZVNhdmVQYXJhbXNcIjogZnVuY3Rpb24ob1NldHRpbmdzLCBvRGF0YSkge1xuICAgICAgICAgICAgICAgIG9EYXRhLmFiVmlzQ29scyA9IHZpc2libGVDb2xzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZm5TdGF0ZUxvYWRcIjogZnVuY3Rpb24gKG9TZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwYXJ0X2lkICsgJ0RhdGFUYWJsZXMnKSApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImZuU3RhdGVMb2FkUGFyYW1zXCI6IGZ1bmN0aW9uKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICBvRGF0YS5hYlZpc0NvbHMgPSB2aXNpYmxlQ29scztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImZuRHJhd0NhbGxiYWNrXCI6ICBmdW5jdGlvbiggb1NldHRpbmdzICkge1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VEaWdpdGFsUmVjZWlwdCgpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VEVkxhdW5jaGVycyhcImFsbFwiLCAwLCBwYXJ0X2lkLCAwKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlUmVmcmVzaFJvdyhcImFsbFwiLCAwLCBwYXJ0X2lkLCAwKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlVXBsb2FkQm94KFwiYWxsXCIsIDAsIDAsIDApO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VaaXBEb3dubG9hZHMocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZUNoZWNrYm94ZXMoMCwgcGFydF9pZCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVVuYW5veW1pc2VGb3JtKFwiYWxsXCIsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHBhcnRfaWQgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKTtcblxuICAgICAgICAvLyBQb3B1bGF0ZSBQZWVybWFyayBTZWN0aW9uIG9mIFBhcnQgRGV0YWlscy5cbiAgICAgICAgcmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMocGFydF9pZCwgMCk7XG4gICAgfSk7XG5cbiAgICBpZiAoJCgnLm1lc3NhZ2VzX2Ftb3VudCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVmcmVzaFVzZXJNZXNzYWdlcygpO1xuICAgIH1cblxuICAgIC8vIFJlcG9zaXRpb24gbGlua3MvZGl2cy5cbiAgICAkKCcudGlpX3RhYmxlX2Z1bmN0aW9ucycpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKCdpZCcpLnNwbGl0KCd0aWlfdGFibGVfZnVuY3Rpb25zXycpWzFdO1xuXG4gICAgICAgIHZhciB0aWlfdGFibGVfZnVuY3Rpb25zID0gJChcIiN0aWlfdGFibGVfZnVuY3Rpb25zX1wiICsgcGFydF9pZCkuaHRtbCgpO1xuICAgICAgICAkKCcjdGlpX3RhYmxlX2Z1bmN0aW9uc18nICsgcGFydF9pZCkucmVtb3ZlKCk7XG4gICAgICAgICQoJyMnICsgcGFydF9pZCArICdfbGVuZ3RoJykuYWZ0ZXIodGlpX3RhYmxlX2Z1bmN0aW9ucyk7XG4gICAgICAgICQoJy5tZXNzYWdlc19pbmJveCcpLnNob3coKTtcblxuICAgICAgICAkKCcjcmVmcmVzaF8nICsgcGFydF9pZCkuc2hvdygpO1xuICAgICAgICAkKCcjcmVmcmVzaGluZ18nICsgcGFydF9pZCkuaGlkZSgpO1xuICAgIH0pO1xuXG4gICAgdmFyIHppcF9kb3dubG9hZHMgPSAkKFwiLnppcF9kb3dubG9hZHNcIik7XG5cbiAgICAkLmVhY2goemlwX2Rvd25sb2FkcywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKCdpZCcpLnNwbGl0KCdfJylbMV07XG4gICAgICAgICQodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICQoJyMnICsgcGFydF9pZCArICdfbGVuZ3RoJykuYWZ0ZXIoJCh0aGlzKSk7XG4gICAgfSk7XG5cbiAgICBpZiAoJChcIiN1c2VyX3JvbGVcIikuaHRtbCgpID09IFwiTGVhcm5lclwiKSB7XG4gICAgICAgICQoXCIuZGF0YVRhYmxlc19sZW5ndGgsIC5kYXRhVGFibGVzX2ZpbHRlciwgLmR0X3BhZ2luYXRpb25cIikuaGlkZSgpO1xuICAgIH1cblxuICAgIC8vIFdoZW4gdGhlIHJlZnJlc2ggc3VibWlzc2lvbnMgbGluayBpcyBjbGlja2VkLCB0aGUgZGF0YSBpbiBlYWNoIGRhdGF0YWJsZSBuZWVkcyB0byBiZSByZWxvYWRlZC5cbiAgICAkKFwiLnJlZnJlc2hfbGlua1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKFwiOnZpc2libGVcIikpIHtcbiAgICAgICAgICAgICQoXCIucmVmcmVzaF9saW5rXCIpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIucmVmcmVzaGluZ19saW5rXCIpLnNob3coKTtcblxuICAgICAgICAgICAgJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hSZXF1ZXN0ZWRbJCh0aGlzKS5hdHRyKFwiaWRcIildID0gMTtcbiAgICAgICAgICAgICAgICBwYXJ0VGFibGVzWyQodGhpcykuYXR0cihcImlkXCIpXS5mblJlbG9hZEFqYXgoKTtcbiAgICAgICAgICAgICAgICBwYXJ0VGFibGVzWyQodGhpcykuYXR0cihcImlkXCIpXS5mblN0YW5kaW5nUmVkcmF3KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAvLyBSZXNpemUgd2luZG93IGlmIHN1Ym1pc3Npb24gaGFzIGZhaWxlZC5cbiAgICBpZiAoJCgnLnN1Ym1pc3Npb25fZmFpbHVyZV9tc2cnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHdpbmRvdy5wYXJlbnQuJCgnLnVwbG9hZF9ib3gnKS5jb2xvcmJveC5yZXNpemUoe1xuICAgICAgICAgICAgd2lkdGg6IFwiODAwcHhcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIyNDBweFwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEVucm9sIGFsbCBzdHVkZW50cyBsaW5rIG9uIHRoZSBlbnJvbGxlZCBzdHVkZW50cyBwYWdlLlxuICAgICQoXCIuZW5yb2xfbGlua1wiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoXCIjZW5yb2xsaW5nX2Vycm9yXCIpLmhpZGUoKTtcbiAgICAgICAgJChcIi5lbnJvbF9saW5rXCIpLmhpZGUoKTtcbiAgICAgICAgJChcIi5lbnJvbGxpbmdfY29udGFpbmVyXCIpLnNob3coKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBcImVucm9sX2FsbF9zdHVkZW50c1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkKFwiLmVucm9sX2xpbmtcIikuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoXCIuZW5yb2xsaW5nX2NvbnRhaW5lclwiKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJChcIiNlbnJvbGxpbmdfZXJyb3JcIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBSdWJyaWMgTWFuYWdlci5cbiAgICBpZiAoJCgnLnJ1YnJpY19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnJ1YnJpY19tYW5hZ2VyX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjgzMnB4XCIsIGhlaWdodDpcIjY4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfbWFuYWdlclwiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIFJ1YnJpYyBkcm9wIGRvd24gaW4gYWRkL3VwZGF0ZSBmb3JtLlxuICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmF0dHIoXCJpZFwiKSAhPSAncnVicmljX21hbmFnZXJfaW5ib3hfbGF1bmNoJykge1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUnVicmljU2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBSdWJyaWMgVmlldy5cbiAgICBpZiAoJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnJ1YnJpY192aWV3X2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjgzMnB4XCIsIGhlaWdodDpcIjY4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfdmlld1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyB3YXJuaW5nIHdoZW4gY2hhbmdpbmcgdGhlIHJ1YnJpYyBsaW5rZWQgdG8gYW4gYXNzaWdubWVudC5cbiAgICAkKCcjaWRfcnVicmljLCAjaWRfcGxhZ2lhcmlzbV9ydWJyaWMnKS5mb2N1cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkKCdpbnB1dFtuYW1lPVwiaW5zdGFuY2VcIl0nKS52YWwoKSAhPSAnJyAmJiAkKCdpbnB1dFtuYW1lPVwicnVicmljX3dhcm5pbmdfc2VlblwiXScpLnZhbCgpICE9ICdZJykge1xuICAgICAgICAgICAgaWYgKGNvbmZpcm0oTS5zdHIudHVybml0aW50b29sdHdvLmNoYW5nZXJ1YnJpY3dhcm5pbmcpKSB7XG4gICAgICAgICAgICAgICAgJCgnaW5wdXRbbmFtZT1cInJ1YnJpY193YXJuaW5nX3NlZW5cIl0nKS52YWwoJ1knKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFF1aWNrbWFyayBNYW5hZ2VyLlxuICAgIGlmICgkKCcucXVpY2ttYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCB8fCAkKCcucGxhZ2lhcmlzbV90dXJuaXRpbl9xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gsIC5wbGFnaWFyaXNtX3R1cm5pdGluX3F1aWNrbWFya19tYW5hZ2VyX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjc3MHB4XCIsIGhlaWdodDpcIjYwMHB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJxdWlja21hcmtfbWFuYWdlclwiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIFBlZXJtYXJrIE1hbmFnZXIuXG4gICAgaWYgKCQoJy50aWlfcGVlcm1hcmtfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy50aWlfcGVlcm1hcmtfbWFuYWdlcl9sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI4MDJweFwiLCBoZWlnaHQ6XCI3NzJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicGVlcm1hcmtfbWFuYWdlclwiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xvc2VkOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICByZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyhpZFN0clsyXSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBQZWVybWFyayBSZXZpZXdzLlxuICAgIGlmICgkKCcudGlpX3BlZXJtYXJrX3Jldmlld3NfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcudGlpX3BlZXJtYXJrX3Jldmlld3NfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiODAycHhcIiwgaGVpZ2h0OlwiNzcycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInBlZXJtYXJrX3Jldmlld3NcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSB0dXJuaXRpbiBtZXNzYWdlIGluYm94LlxuICAgIGlmICgkKFwiLm1lc3NhZ2VzX2luYm94XCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChcIi5tZXNzYWdlc19pbmJveFwiKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI3NzJweFwiLCBoZWlnaHQ6XCI3NzJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwibWVzc2FnZXNcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsIGNsb3NlQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIGZvcm0gdG8gbWVzc2FnZSBub24gc3VibWl0dGVycy5cbiAgICBpZiAoJChcIi5ub25zdWJtaXR0ZXJzX2xpbmtcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAkKFwiLm5vbnN1Ym1pdHRlcnNfbGlua1wiKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI3NDBweFwiLCBoZWlnaHQ6XCI1NDBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwibm9uc3VibWl0dGVyc1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIiwgY2xvc2VCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZXNpemUgd2luZG93IHdoZW4gZW1haWwgaGFzIGJlZW4gc2VudC5cbiAgICBpZiAoJCgnLm5vbnN1Ym1pdHRlcnNmb3Jtc3VjY2Vzc21zZycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgd2luZG93LnBhcmVudC4kKCcubm9uc3VibWl0dGVycycpLmNvbG9yYm94LnJlc2l6ZSh7XG4gICAgICAgICAgICB3aWR0aDogXCI3NDBweFwiLFxuICAgICAgICAgICAgaGVpZ2h0OiBcIjEyMHB4XCJcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIEVtYWlsIG5vbiBzdWJtaXR0ZXJzIGZvcm0uXG4gICAgaWYgKCQoJy5ydWJyaWNfdmlld19sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5ydWJyaWNfdmlld19sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI4MzJweFwiLCBoZWlnaHQ6XCI2ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX3ZpZXdcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gdGhlIERWIGluIGEgbmV3IHdpbmRvdyBpbiBzdWNoIGEgd2F5IGFzIHRvIG5vdCBiZSBibG9ja2VkIGJ5IHBvcHVwcy5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRlZmF1bHRfb3BlbiwgLm9yaWdyZXBvcnRfb3BlbiwgLmdyYWRlbWFya19vcGVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwcm9jZWVkID0gdHJ1ZTtcbiAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICB2YXIgZHVlX2RhdGUgPSAkKCcjZGF0ZV9kdWVfJyArIGlkU3RyWzJdKS5odG1sKCk7XG4gICAgICAgIHZhciBkdWVfZGF0ZV91bml4ID0gbW9tZW50KGR1ZV9kYXRlKS51bml4KCk7XG5cbiAgICAgICAgdmFyIGR2dHlwZSA9IGlkU3RyWzBdO1xuICAgICAgICB2YXIgc3VibWlzc2lvbl9pZCA9IGlkU3RyWzFdO1xuICAgICAgICB2YXIgcGFydF9pZCA9IGlkU3RyWzJdO1xuXG4gICAgICAgIC8vIFNob3cgcmVzdWJtaXNzaW9uIGdyYWRlIHdhcm5pbmcgaWYgdGhlIGR1ZSBkYXRlIGhhcyBub3QgcGFzc2VkLlxuICAgICAgICBpZiAoZHVlX2RhdGVfdW5peCA+IG1vbWVudCgpLnVuaXgoKSkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2dyYWRlZF93YXJuaW5nJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbmZpcm0oTS5zdHIudHVybml0aW50b29sdHdvLnJlc3VibWlzc2lvbmdyYWRld2FybikpIHtcbiAgICAgICAgICAgICAgICAgICAgIHByb2NlZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvY2VlZCkge1xuICAgICAgICAgICAgZHZXaW5kb3cgPSB3aW5kb3cub3BlbignJywgJ19ibGFuaycpO1xuICAgICAgICAgICAgdmFyIGxvYWRpbmcgPSAnPGRpdiBzdHlsZT1cInRleHQtYWxpZ246Y2VudGVyO1wiPic7XG4gICAgICAgICAgICBsb2FkaW5nICs9ICc8aW1nIHNyYz1cIicgKyBNLmNmZy53d3dyb290ICsgJy9tb2QvdHVybml0aW50b29sdHdvL3BpeC90aWlJY29uLnN2Z1wiIHN0eWxlPVwid2lkdGg6MTAwcHg7IGhlaWdodDogMTAwcHhcIj4nO1xuICAgICAgICAgICAgbG9hZGluZyArPSAnPHAgc3R5bGU9XCJmb250LWZhbWlseTogQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjtcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLmxvYWRpbmdkdiArICc8L3A+JztcbiAgICAgICAgICAgIGxvYWRpbmcgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICAkKGR2V2luZG93LmRvY3VtZW50LmJvZHkpLmh0bWwobG9hZGluZyk7XG5cbiAgICAgICAgICAgIC8vIEdldCBodG1sIHRvIGxhdW5jaCBEVi5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgdXJsOiBNLmNmZy53d3dyb290ICsgXCIvbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBkdnR5cGUsIHN1Ym1pc3Npb246IHN1Ym1pc3Npb25faWQsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZHZXaW5kb3cuZG9jdW1lbnQuYm9keSkuaHRtbChsb2FkaW5nICsgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGR2V2luZG93LmRvY3VtZW50LmZvcm1zWzBdLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICAgICBkdldpbmRvdy5kb2N1bWVudC5jbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrRFZDbG9zZWQocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICgkKFwiI2lkX3J1YnJpYywgI2lkX3BsYWdpYXJpc21fcnVicmljXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVmcmVzaFJ1YnJpY1NlbGVjdCgpO1xuICAgIH1cblxuICAgIC8vIE92ZXJyaWRlIGFueSB0aGVtZSB0aGF0IHB1dHMgYSBiYWNrZ3JvdW5kIG9uIHRoZSBodG1sIGVsZW1lbnQgd2hpY2ggZ2V0cyBzZXQgb24gYW4gaWZyYW1lLlxuICAgIGlmIChzZWxmICE9IHRvcCAmJiAkKCcjdmlld19jb250ZXh0JykuaHRtbCgpID09ICdib3gnKSB7XG4gICAgICAgICQoJ2h0bWwnKS5jc3MoJ2JhY2tncm91bmQnLCAnbm9uZScpO1xuICAgIH0gZWxzZSBpZiAoc2VsZiAhPSB0b3AgJiYgJCgnI3ZpZXdfY29udGV4dCcpLmh0bWwoKSA9PSAnYm94X3NvbGlkJykge1xuICAgICAgICAkKCdodG1sJykuY3NzKCdiYWNrZ3JvdW5kJywgJyNGRkYnKTtcbiAgICB9XG5cbiAgICAkKCcuZWRpdGFibGVfcG9zdGR1ZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ2Fub24nKSA9PSAxKSB7XG4gICAgICAgICAgICBhbGVydChNLnN0ci50dXJuaXRpbnRvb2x0d28ucG9zdGRhdGVfd2FybmluZyk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmICgkKCcuZWRpdGFibGVfdGV4dCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5tb2RlID0gJ2lubGluZSc7XG4gICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMudXJsID0gJ2FqYXgucGhwJztcbiAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5vbmJsdXIgPSAnc3VibWl0JztcbiAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5zaG93YnV0dG9ucyA9IGZhbHNlO1xuICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLmFqYXhPcHRpb25zID0ge1xuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJ1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLmVkaXRhYmxlX3RleHQnKS5lZGl0YWJsZSh7XG4gICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKCdpZCcpLmluZGV4T2YoXCJtYXJrc19cIikgPj0gMCAmJiAoTWF0aC5mbG9vcih2YWx1ZSkgIT0gdmFsdWUgfHwgISQuaXNOdW1lcmljKHZhbHVlKSB8fCB2YWx1ZS5pbmRleE9mKFwiLlwiKSAhPSAtMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE0uc3RyLnR1cm5pdGludG9vbHR3by5tYXhtYXJrc2Vycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZighcmVzcG9uc2Uuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UubXNnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZmllbGQgPT0gXCJtYXhtYXJrc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyNyZWZyZXNoXycgKyByZXNwb25zZS5wYXJ0aWQpLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5maWVsZCA9PSBcInBhcnRuYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYklkID0gJCh0aGlzKS5wYXJlbnRzVW50aWwoJy51aS10YWJzLXBhbmVsJykucGFyZW50KCkuYXR0cignYXJpYS1sYWJlbGxlZGJ5Jyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyMnICsgdGFiSWQpLnRleHQobmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKCQoJyNleHBvcnRfb3B0aW9ucycpLmhhc0NsYXNzKCd0aWlfZXhwb3J0X29wdGlvbnNfaGlkZScpKSB7XG4gICAgICAgICAgICAkKCcjZXhwb3J0X29wdGlvbnMnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcuZXhwb3J0X2RhdGEnKS5odG1sKCc8c3BhbiBjbGFzcz1cImVtcHR5LWRhc2hcIj4tLTwvc3Bhbj4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy5lZGl0YWJsZV9wb3N0ZHVlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiAnY2hlY2tfYW5vbicsIHBhcnQ6ICR0aGlzLmRhdGEoJ3BrJyksIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ2Fub24nLCBkYXRhWydhbm9uJ10pO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCd1bmFub24nLCBkYXRhWyd1bmFub24nXSk7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmRhdGEoJ3N1Ym1pdHRlZCcsIGRhdGFbJ3N1Ym1pdHRlZCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHRoZURhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZScpLmVkaXRhYmxlKHtcbiAgICAgICAgICAgICd0eXBlJzogJ2NvbWJvZGF0ZScsXG4gICAgICAgICAgICAnZm9ybWF0JzogJ1lZWVktTU0tREQgSEg6bW0nLFxuICAgICAgICAgICAgJ3ZpZXdmb3JtYXQnOiAnRCBNTU0gWVlZWSwgSEg6bW0nLFxuICAgICAgICAgICAgJ3RlbXBsYXRlJzogJ0QgTU1NIFlZWVkgIEhIOm1tJyxcbiAgICAgICAgICAgICdjb21ib2RhdGUnOiB7XG4gICAgICAgICAgICAgICAgJ21pbnV0ZVN0ZXAnOiAxLFxuICAgICAgICAgICAgICAgICdtaW5ZZWFyJzogMjAwMCxcbiAgICAgICAgICAgICAgICAnbWF4WWVhcic6IHRoZURhdGUuZ2V0RnVsbFllYXIoKSArIDIsXG4gICAgICAgICAgICAgICAgJ3NtYXJ0RGF5cyc6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiggdmFsdWUuZm9ybWF0KFwiWFwiKSA8IG1vbWVudCgpLnVuaXgoKSAmJlxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmhhc0NsYXNzKCdlZGl0YWJsZV9wb3N0ZHVlJykgJiZcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdhbm9uJykgPT0gMSAmJlxuICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ3VuYW5vbicpID09IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdzdWJtaXR0ZWQnKSA9PSAxIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggISBjb25maXJtKE0uc3RyLnR1cm5pdGludG9vbHR3by5kaXNhYmxlYW5vbmNvbmZpcm0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuZWRpdGFibGUtb3BlbicpLmVkaXRhYmxlQ29udGFpbmVyKCdoaWRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0aW9uIG9ubHkgZmFpbHMgaWYgc3RyaW5nIGlzIHJldHVybmVkIChXZSBuZWVkIGEgc3RyaW5nKS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLm1zZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcjcmVmcmVzaF8nICsgcmVzcG9uc2UucGFydGlkKS5jbGljaygpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5leHBvcnRfb3B0aW9uID09IFwidGlpX2V4cG9ydF9vcHRpb25zX2hpZGVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2V4cG9ydF9vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmV4cG9ydF9kYXRhJykuaHRtbCgnPHNwYW4gY2xhc3M9XCJlbXB0eS1kYXNoXCI+LS08L3NwYW4+Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuZW1wdHktZGFzaCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2V4cG9ydF9vcHRpb25zJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2VkaXRhYmxlLWRpc2FibGVkJykpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERpc2FibGUgb3RoZXIgZWRpdGFibGUgZmllbGRzICYgR3JhZGluZyB0ZW1wbGF0ZSBzdWJtaXNzaW9ucyB3aGVuIGFuIGVkaXRhYmxlIGZvcm0gaXMgb3BlbmVkLlxuICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZSwgLmVkaXRhYmxlX3RleHQnKS5vbignc2hvd24nLCBmdW5jdGlvbihlLCBlZGl0YWJsZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAoJCh0aGlzKS5wcm9wKCdpZCcpKTtcbiAgICAgICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm5vdCgnIycgKyBjdXJyZW50KS5lZGl0YWJsZSgnZGlzYWJsZScpO1xuICAgICAgICAgICAgJCgnLnN1Ym1pdF9ub3RoaW5nJykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVuYWJsZSBvdGhlciBlZGl0YWJsZSBmaWVsZHMgJiBHcmFkaW5nIHRlbXBsYXRlIHN1Ym1pc3Npb25zIHdoZW4gYW4gZWRpdGFibGUgZm9ybSBpcyBjbG9zZWQuXG4gICAgICAgICQoJy5lZGl0YWJsZV9kYXRlLCAuZWRpdGFibGVfdGV4dCcpLm9uKCdoaWRkZW4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gKCQodGhpcykucHJvcCgnaWQnKSk7XG4gICAgICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZSwgLmVkaXRhYmxlX3RleHQnKS5ub3QoJyMnICsgY3VycmVudCkuZWRpdGFibGUoJ2VuYWJsZScpO1xuICAgICAgICAgICAgJCgnLnN1Ym1pdF9ub3RoaW5nJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgICQoJyNpbmJveF9mb3JtIGZvcm0sIC5sYXVuY2hfZm9ybSBmb3JtJykuc3VibWl0KCk7XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgRVVMQSAuXG4gICAgaWYgKCQoJy50dXJuaXRpbl9ldWxhX2xpbmsnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy50dXJuaXRpbl9ldWxhX2xpbmsnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI3NjZweFwiLCBoZWlnaHQ6XCI1OTZweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwiZXVsYV92aWV3XCIsIHNjcm9sbGluZzogXCJmYWxzZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHsgZ2V0TG9hZGluZ0dpZigpOyB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLm9uKFwibWVzc2FnZVwiLCBmdW5jdGlvbihldikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IHR5cGVvZiBldi5kYXRhID09PSAndW5kZWZpbmVkJyA/IGV2Lm9yaWdpbmFsRXZlbnQuZGF0YSA6IGV2LmRhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBNLmNmZy53d3dyb290ICsgXCIvbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJhY2NlcHR1c2VyYWdyZWVtZW50XCIsIG1lc3NhZ2U6IG1lc3NhZ2UsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkgeyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkgeyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7IH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBFbmFibGUgdGhlIGVkaXRpbmcgZmllbGRzIGluIHRoZSBpbmJveCBwYXJ0cyB0YWJsZS5cbiAgICBmdW5jdGlvbiBlbmFibGVFZGl0aW5nVGV4dChwYXJ0X2lkKSB7XG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZWRpdGFibGVfZGF0ZSwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV90ZXh0JykuZWRpdGFibGUoJ2VuYWJsZScpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUgdGhlIGVkaXRpbmcgZmllbGRzIGluIHRoZSBpbmJveCBwYXJ0cyB0YWJsZS5cbiAgICBmdW5jdGlvbiBkaXNhYmxlRWRpdGluZ1RleHQocGFydF9pZCkge1xuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX2RhdGUsICN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZWRpdGFibGVfdGV4dCcpLmVkaXRhYmxlKCdkaXNhYmxlJyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0TG9hZGluZ0dpZigpIHtcbiAgICAgICAgdmFyIGltZyA9ICc8ZGl2IGNsYXNzPVwibG9hZGluZ19naWZcIj48L2Rpdj4nO1xuICAgICAgICAkKCcjY2JveE92ZXJsYXknKS5hZnRlcihpbWcpO1xuICAgICAgICB2YXIgdG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgKCQod2luZG93KS5oZWlnaHQoKSAvIDIpO1xuICAgICAgICAkKCcubG9hZGluZ19naWYnKS5jc3MoJ3RvcCcsIHRvcCArICdweCcpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVMb2FkaW5nR2lmKCkge1xuICAgICAgICAkKCcubG9hZGluZ19naWYnKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRTdWJtaXNzaW9ucyh0YWJsZSwgYXNzaWdubWVudF9pZCwgcGFydF9pZCwgc3RhcnQsIHJlZnJlc2hfcmVxdWVzdGVkLCB0b3RhbCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBcImFzeW5jXCI6IHRydWUsXG4gICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJnZXRfc3VibWlzc2lvbnNcIiwgYXNzaWdubWVudDogYXNzaWdubWVudF9pZCwgcGFydDogcGFydF9pZCwgc3RhcnQ6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIHJlZnJlc2hfcmVxdWVzdGVkOiByZWZyZXNoX3JlcXVlc3RlZFtwYXJ0X2lkXSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleSwgdG90YWw6IHRvdGFsfSxcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBldmFsKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgc3RhcnQgPSByZXN1bHQuZW5kO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5hYURhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZS5mbkFkZERhdGEocmVzdWx0LmFhRGF0YSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5lbmQgPCByZXN1bHQudG90YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2V0U3VibWlzc2lvbnModGFibGUsIGFzc2lnbm1lbnRfaWQsIHBhcnRfaWQsIHN0YXJ0LCByZWZyZXNoX3JlcXVlc3RlZCwgcmVzdWx0LnRvdGFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyBcIl9wcm9jZXNzaW5nXCIpLmF0dHIoJ3N0eWxlJywgJ3Zpc2liaWxpdHk6IGhpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hfcmVxdWVzdGVkW3BhcnRfaWRdID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbHJlZnJlc2hlZCA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJlZnJlc2hfcmVxdWVzdGVkLCBmdW5jdGlvbihrLCB2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxscmVmcmVzaGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbHJlZnJlc2hlZCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucmVmcmVzaGluZ19saW5rJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlZnJlc2hfbGluaycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pdFZpc2liaWxpdHkoKTtcblxuICAgICAgICAgICAgICAgICAgICBlbmFibGVFZGl0aW5nVGV4dChwYXJ0X2lkKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBFbmFibGUgRW1haWwgbm9uIHN1Ym1pdHRlcnMgbGluayBpZiB0aGVyZSBpcyBhbnkgbm9uIHN1Ym1pdHRlcnMuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubm9uc3VibWl0dGVycyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5ub25zdWJtaXR0ZXJzX2xpbmsnKS5hdHRyKCdzdHlsZScsICdkaXNwbGF5OiBibG9jaycpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiZXJyb3JcIjogZnVuY3Rpb24oZGF0YSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyBcIl9wcm9jZXNzaW5nXCIpLmF0dHIoJ3N0eWxlJywgJ3Zpc2liaWxpdHk6IGhpZGRlbicpO1xuICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX2VtcHR5JykuaHRtbChNLnN0ci50dXJuaXRpbnRvb2x0d28udGlpc3VibWlzc2lvbnNnZXRlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3cgb3IgaGlkZSB0aGUgc3VibWlzc2lvbiBsaW5rIGRlcGVuZGluZyBvbiB3aGV0aGVyIHRoZSBFVUxBIGhhcyBiZWVuIGFjY2VwdGVkLlxuICAgIGZ1bmN0aW9uIHN1Ym1pdFZpc2liaWxpdHkoKSB7XG4gICAgICAgIGlmICgoJChcIi51cGxvYWRfYm94XCIpLmRhdGEoXCJ1c2VyLXR5cGVcIikgPT0gMSkgfHwgKCQoXCIudXBsb2FkX2JveFwiKS5kYXRhKFwiZXVsYVwiKSA9PSAxKSkge1xuICAgICAgICAgICAgJChcIi51cGxvYWRfYm94XCIpLnNob3coKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICQoXCIudXBsb2FkX2JveFwiKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHJ1YnJpY3MgYmVsb25naW5nIHRvIGEgdXNlciBmcm9tIFR1cm5pdGluIGFuZCByZWZyZXNoIG1lbnUgYWNjb3JkaW5nbHkuXG4gICAgZnVuY3Rpb24gcmVmcmVzaFJ1YnJpY1NlbGVjdCgpIHtcbiAgICAgICAgdmFyIHJ1YnJpY0VsZW1lbnRJZCA9ICgkKCcjaWRfcnVicmljJykubGVuZ3RoKSA/ICcjaWRfcnVicmljJyA6ICcjaWRfcGxhZ2lhcmlzbV9ydWJyaWMnO1xuICAgICAgICB2YXIgY3VycmVudFJ1YnJpYyA9ICQocnVicmljRWxlbWVudElkKS52YWwoKTtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgXCJ1cmxcIjogXCIuLi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJyZWZyZXNoX3J1YnJpY19zZWxlY3RcIiwgYXNzaWdubWVudDogJCgnaW5wdXRbbmFtZT1cImluc3RhbmNlXCJdJykudmFsKCksXG4gICAgICAgICAgICAgICAgbW9kdWxlbmFtZTogJCgnaW5wdXRbbmFtZT1cIm1vZHVsZW5hbWVcIl0nKS52YWwoKSwgY291cnNlOiAkKCdpbnB1dFtuYW1lPVwiY291cnNlXCJdJykudmFsKCl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJChydWJyaWNFbGVtZW50SWQpKS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25zID0gZGF0YTtcbiAgICAgICAgICAgICAgICAkLmVhY2gob3B0aW9ucywgZnVuY3Rpb24oaSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJChydWJyaWNFbGVtZW50SWQpKS5hcHBlbmQoJCgnPG9wdGlvbj4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQgOiB2YWxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICQocnVicmljRWxlbWVudElkICsgJyBvcHRpb25bdmFsdWU9XCInICsgY3VycmVudFJ1YnJpYyArICdcIl0nKS5hdHRyKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZWZyZXNoIHRoZSBudW1iZXIgb2YgbWVzc2FnZXMgaW4gdGhlIHVzZXIncyBUdXJuaXRpbiBpbmJveC5cbiAgICBmdW5jdGlvbiByZWZyZXNoVXNlck1lc3NhZ2VzKCkge1xuICAgICAgICAkKCcubWVzc2FnZXNfbG9hZGluZycpLnNob3coKTtcbiAgICAgICAgJCgnLm1lc3NhZ2VzX2Ftb3VudCcpLmh0bWwoJycpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdodG1sJyxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcInJlZnJlc2hfdXNlcl9tZXNzYWdlc1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2VzX2xvYWRpbmcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2VzX2Ftb3VudCcpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhpZGUgUGVlcm1hcmsgYXNzaWdubWVudHMgZm9yIHJlZnJlc2hpbmcuXG4gICAgZnVuY3Rpb24gcmVzZXRQZWVybWFya1NlY3Rpb24ocGFydF9pZCkge1xuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnRvZ2dsZV9wZWVybWFya3MnKS5oaWRlKCk7XG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfY291bnQnKS5odG1sKCcnKTtcbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFyay1sb2FkaW5nJykuc2hvdygpO1xuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvLyBSZWZyZXNoIHRoZSBQZWVybWFyayBBc3NpZ25tZW50cyBmcm9tIFR1cm5pdGluIGFuZCBzaG93IGluIFBhcnQgRGV0YWlscyBzZWN0aW9uIG9mIGluYm94LlxuICAgIGZ1bmN0aW9uIHJlZnJlc2hQZWVybWFya0Fzc2lnbm1lbnRzKHBhcnRfaWQsIHJlZnJlc2hfcmVxdWVzdGVkKSB7XG5cbiAgICAgICAgdmFyIHVzZXJfcm9sZSA9ICgkKCcudGlpX3BlZXJtYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkgPyAnSW5zdHJ1Y3RvcicgOiAnTGVhcm5lcidcblxuICAgICAgICBpZiAoJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgICAgIHJlc2V0UGVlcm1hcmtTZWN0aW9uKHBhcnRfaWQpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwicmVmcmVzaF9wZWVybWFya19hc3NpZ25tZW50c1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgcGFydDogcGFydF9pZCwgcmVmcmVzaF9yZXF1ZXN0ZWQ6IHJlZnJlc2hfcmVxdWVzdGVkLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuaHRtbChkYXRhLnBlZXJtYXJrX3RhYmxlKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrLWxvYWRpbmcnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfY291bnQnKS5odG1sKGRhdGEubm9fb2ZfcGVlcm1hcmtzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5ub19vZl9wZWVybWFya3MgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnRvZ2dsZV9wZWVybWFya3MnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnRvZ2dsZV9wZWVybWFya3MnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoKGRhdGEubm9fb2ZfcGVlcm1hcmtzID4gMCAmJiB1c2VyX3JvbGUgPT0gJ0luc3RydWN0b3InKSB8fCAoZGF0YS5wZWVybWFya3NfYWN0aXZlICYmIHVzZXJfcm9sZSA9PSAnTGVhcm5lcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnJvd19wZWVybWFya19yZXZpZXdzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpID09IFwidHJ1ZVwiICYmIGRhdGEubm9fb2ZfcGVlcm1hcmtzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmhpZGVfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2hvdyBsaWdodCBib3ggd2l0aCBmb3JtIHRvIHJldmVhbCB0aGUgc3R1ZGVudCdzIG5hbWUgb24gYW4gYW5vbnltaXNlZCBzdWJtaXNzaW9uLlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VVbmFub3ltaXNlRm9ybShzY29wZSwgYXNzaWdubWVudF9pZCwgc3VibWlzc2lvbl9pZCkge1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9ICdhLnVuYW5vbnltaXNlJztcbiAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSAnI3N1Ym1pc3Npb25fJyArIHN1Ym1pc3Npb25faWQ7XG4gICAgICAgIH1cbiAgICAgICAgJChpZGVudGlmaWVyKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpbmxpbmU6dHJ1ZSwgd2lkdGg6XCI1MCVcIiwgdG9wOiBcIjEwMHB4XCIsIGhlaWdodDpcIjI2MHB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJ0aWlfdW5hbm9ueW1pc2VfcmV2ZWFsX2Zvcm1cIixcbiAgICAgICAgICAgIG9uQ29tcGxldGUgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgaWYgKHN1Ym1pc3Npb25faWQgPT0gMCB8fCBzdWJtaXNzaW9uX2lkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWlzc2lvbl9pZCA9IGlkU3RyWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYXNzaWdubWVudF9pZCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnRfaWQgPSAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJChcIiNzdWJtaXNzaW9uX2lkXCIpLmh0bWwoc3VibWlzc2lvbl9pZCk7XG4gICAgICAgICAgICAgICAgJCgnI2Nib3hMb2FkZWRDb250ZW50IC51bmFub255bWlzZV9mb3JtJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyNpZF9yZXZlYWwnKS51bmJpbmQoXCJjbGlja1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjaWRfcmV2ZWFsJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcInJldmVhbF9zdWJtaXNzaW9uX25hbWVcIiwgYXNzaWdubWVudDogYXNzaWdubWVudF9pZCwgc3VibWlzc2lvbl9pZDogc3VibWlzc2lvbl9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IGVuY29kZVVSSUNvbXBvbmVudCgkKFwiI2lkX2Fub255bW91c19yZXZlYWxfcmVhc29uXCIpLnZhbCgpKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5jb2xvcmJveC5jbG9zZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkKS5hdHRyKCdocmVmJywgTS5jZmcud3d3cm9vdCArIFwiL3VzZXIvdmlldy5waHA/aWQ9XCIgKyBkYXRhLnVzZXJpZCArIFwiJmNvdXJzZT1cIiArIGRhdGEuY291cnNlaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZCkuaHRtbChkYXRhLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZCkucmVtb3ZlQ2xhc3MoJ3VuYW5vbnltaXNlIGNib3hFbGVtZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfbXNnID0gJCgnI3VuYW5vbnltaXNlX2Rlc2MnKS5odG1sO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdW5hbm9ueW1pc2VfZGVzYycpLmh0bWwoY3VycmVudF9tc2cgKyBcIiBcIiArIGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLnVuYW5vbnltaXNlX2Zvcm0nKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VVcGxvYWRCb3goc2NvcGUsIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSBcIi51cGxvYWRfYm94XCI7XG4gICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyID0gXCIjdXBsb2FkX1wiICsgc3VibWlzc2lvbl9pZCArIFwiX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb2xvckJveFdpZHRoID0gXCI4MCVcIjtcbiAgICAgICAgdmFyIGNvbG9yQm94SGVpZ2h0ID0gXCI4MCVcIjtcblxuICAgICAgICAkKGlkZW50aWZpZXIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlZDogZnVuY3Rpb24oKSB7IGhpZGVMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgcmVmcmVzaEluYm94Um93KFwidXBsb2FkXCIsIGlkU3RyWzFdLCBpZFN0clsyXSwgaWRTdHJbM10pO1xuXG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6Y29sb3JCb3hXaWR0aCwgaGVpZ2h0OmNvbG9yQm94SGVpZ2h0LCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwidXBsb2FkXCIsIHRyYW5zaXRpb246IFwibm9uZVwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpc2UgdGhlIGV2ZW50cyB0byBvcGVuIHRoZSB6aXAgZmlsZXMgY29udGFpbmVkIGluIHRoZSBwYXJ0IGRldGFpbHMgaW5mb3JtYXRpb24gdGFibGU6XG4gICAgLy8gSW5ib3ggaW4gWExTIGZvcm1hdFxuICAgIC8vIFpJUCBjb250YWluaW5nIGFsbCBmaWxlcyBhcyBQREZzXG4gICAgLy8gWklQIGNvbnRhaW5pbmcgYWxsIGZpbGVzIGluIG9yaWdpbmFsIGZvcm1hdC5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlWmlwRG93bmxvYWRzKHBhcnRfaWQpIHtcbiAgICAgICAgLy8gVW5iaW5kIHRoZSBldmVudCBmaXJzdCB0byBzdG9wIGl0IGJlaW5nIGJpbmRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnBkZl96aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC54bHNfaW5ib3hfb3BlbicpLnVuYmluZChcImNsaWNrXCIpO1xuXG4gICAgICAgIC8vIE9wZW4gYSBzcHJlYWRzaGVldCBvciBhIHppcCBmaWxlIGNvbnRhaW5pbmcgYWxsIHRoZSByZWxldmFudCBkYXRhLlxuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdfemlwX29wZW4sICN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGRmX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnhsc19pbmJveF9vcGVuJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICBkb3dubG9hZFppcEZpbGUoaWRTdHJbMF0gKyBcIl9cIiArIGlkU3RyWzFdLCBpZFN0clsyXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCB3aGljaCByZXF1ZXN0cyBhbGwgdGhlIHN1Ym1pc3Npb25zIGFzIHBkZnMgZnJvbSBUdXJuaXRpbi5cbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5kb3dubG9hZHBkZl9ib3gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI0MCVcIiwgaGVpZ2h0OlwiNjAlXCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJkb3dubG9hZHBkZl93aW5kb3dcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbG9zZWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hVc2VyTWVzc2FnZXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IHdoaWNoIHJlcXVlc3RzIHNlbGVjdGVkIHN1Ym1pc3Npb25zIGFzIHBkZnMgZnJvbSBUdXJuaXRpbi5cbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZ21wZGZ6aXBfYm94JywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgJCh0aGlzKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgb3Blbjp0cnVlLGlmcmFtZTp0cnVlLCB3aWR0aDpcIjc4NnB4XCIsIGhlaWdodDpcIjMwMHB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJnbXBkZnppcF93aW5kb3dcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgaHJlZjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pc3Npb25faWRzID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uX2lkcyArPSBcIiZzdWJtaXNzaW9uX2lkXCIgKyBpICsgXCI9XCIgKyAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5hdHRyKCdocmVmJykgKyBzdWJtaXNzaW9uX2lkcztcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7IGdldExvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkgeyBoaWRlTG9hZGluZ0dpZigpOyB9LFxuICAgICAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFVzZXJNZXNzYWdlcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWdodEJveENsb3NlQnV0dG9uKCkge1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwidGlpX2Nsb3NlX2JhclwiPjxhIGhyZWY9XCIjXCIgb25jbGljaz1cIiQuY29sb3Jib3guY2xvc2UoKTsgcmV0dXJuIGZhbHNlO1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28uY2xvc2VidXR0b24gKyAnPC9hPjwvZGl2PicpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VEaWdpdGFsUmVjZWlwdCgpIHtcbiAgICAgICAgaWYgKCQoJy50aWlfZGlnaXRhbF9yZWNlaXB0JykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgJCgnLnRpaV9kaWdpdGFsX3JlY2VpcHQnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiODMycHhcIiwgaGVpZ2h0OlwiNDgycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInJ1YnJpY192aWV3XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoJyN0aWlfcmVjZWlwdF9wcmludCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICB3aW5kb3cucHJpbnQoKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VIaWRkZW5aaXBEb3dubG9hZHMocGFydF9pZCkge1xuICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdjaGVja2VkX3ppcF9vcGVuJykudW5iaW5kKFwiY2xpY2tcIik7XG4gICAgICAgIC8vIFNlcGVyYXRlIGJpbmRlciBmb3IgaGlkZGVuIHppcCBmaWxlIGxpbmsuXG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ2NoZWNrZWRfemlwX29wZW4nKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgIGRvd25sb2FkWmlwRmlsZShpZFN0clswXSArIFwiX1wiICsgaWRTdHJbMV0sIHBhcnRfaWQpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlUmVmcmVzaFJvdyhzY29wZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9IFwiLnJlZnJlc2hfcm93IC5mYS1yZWZyZXNoXCI7XG4gICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyID0gXCIjcmVmcmVzaHJvd19cIiArIHN1Ym1pc3Npb25faWQgKyAnXycgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkICsgXCIgLmZhLXJlZnJlc2hcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICQoaWRlbnRpZmllcikudW5iaW5kKFwiY2xpY2tcIik7XG5cbiAgICAgICAgJChpZGVudGlmaWVyKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgJCh0aGlzKS5zaWJsaW5ncygnLmZhLXNwaW5uZXInKS5jc3MoXCJkaXNwbGF5XCIsXCJpbmxpbmUtYmxvY2tcIikuYWRkQ2xhc3MoJ2ZhLWxnJyk7XG4gICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLnBhcmVudCgpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICByZWZyZXNoSW5ib3hSb3coaWRTdHJbMF0sIGlkU3RyWzFdLCBpZFN0clsyXSwgaWRTdHJbM10pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXNlIHRoZSBldmVudHMgdG8gb3BlbiB0aGUgZG9jdW1lbnQgdmlld2VyIGFzIHRoZSBsaW5rcyBhcmUgbG9hZGVkIGFmdGVyIHRoZSBwYWdlLlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VEVkxhdW5jaGVycyhzY29wZSwgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9ICcjJyArIHBhcnRfaWQgKyAnIC5kb3dubG9hZF9vcmlnaW5hbF9vcGVuJztcbiAgICAgICAgaWYgKHNjb3BlID09IFwicm93XCIpIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSAnI2Rvd25sb2Fkb3JpZ2luYWxfJyArIHN1Ym1pc3Npb25faWQgKyAnXycgKyBwYXJ0X2lkICsgJ18nICsgdXNlcl9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICQoaWRlbnRpZmllcikudW5iaW5kKFwiY2xpY2tcIik7XG5cbiAgICAgICAgJChpZGVudGlmaWVyKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgIC8vIERvbid0IG9wZW4gT1IgRFYgaWYgc2NvcmUgaXMgcGVuZGluZy5cbiAgICAgICAgICAgIGlmICghJCh0aGlzKS5jaGlsZHJlbignLnNjb3JlX2NvbG91cicpLmhhc0NsYXNzKCdzY29yZV9jb2xvdXJfJykpIHtcbiAgICAgICAgICAgICAgICBkb3dubG9hZE9yaWdpbmFsRmlsZShpZFN0clswXSwgaWRTdHJbMV0sIGlkU3RyWzJdLCBpZFN0clszXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFB1dCB0aGUgZm9ybSBpbiB0byB0aGUgc3VibWlzc2lvbnMgdGFibGUgcm93IGFuZCBzdWJtaXQgaXQuXG4gICAgLy8gVGhpcyB3aWxsIGRvd25sb2FkIHRoZSByZWxldmFudCB6aXAgZmlsZS5cbiAgICBmdW5jdGlvbiBkb3dubG9hZFppcEZpbGUoZG93bmxvYWR0eXBlLCBwYXJ0X2lkKSB7XG4gICAgICAgIHZhciBzdWJtaXNzaW9uX2lkcyA9IFtdO1xuXG4gICAgICAgIGlmIChkb3dubG9hZHR5cGUgPT0gXCJvcmlnY2hlY2tlZF96aXBcIiB8fCBkb3dubG9hZHR5cGUgPT0gXCJnbXBkZl96aXBcIikge1xuICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5pbmJveF9jaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpKXtcbiAgICAgICAgICAgICAgICBzdWJtaXNzaW9uX2lkc1tpXSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YToge2FjdGlvbjogZG93bmxvYWR0eXBlLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgcGFydDogcGFydF9pZCwgc3VibWlzc2lvbl9pZHM6IHN1Ym1pc3Npb25faWRzfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgZG93bmxvYWR0eXBlICsgXCJfZm9ybV9cIiArIHBhcnRfaWQpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIGRvd25sb2FkdHlwZSArIFwiX2Zvcm1fXCIgKyBwYXJ0X2lkKS5jaGlsZHJlbihcImZvcm1cIikuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIGRvd25sb2FkdHlwZSArIFwiX2Zvcm1fXCIgKyBwYXJ0X2lkKS5odG1sKFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQdXQgdGhlIGZvcm0gaW4gdG8gdGhlIHN1Ym1pc3Npb25zIHRhYmxlIHJvdyBhbmQgc3VibWl0IGl0LlxuICAgIC8vIFRoaXMgd2lsbCBkb3dubG9hZCB0aGUgcmVsZXZhbnQgb3JpZ2luYWwgZmlsZS5cbiAgICBmdW5jdGlvbiBkb3dubG9hZE9yaWdpbmFsRmlsZShkdnR5cGUsIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgLy8gR2V0IGh0bWwgdG8gbGF1bmNoIERWLlxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IE0uY2ZnLnd3d3Jvb3QgKyBcIi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJodG1sXCIsXG4gICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBkdnR5cGUsIHN1Ym1pc3Npb246IHN1Ym1pc3Npb25faWQsIGFzc2lnbm1lbnQ6ICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKFwiI1wiICsgZHZ0eXBlICsgXCJfZm9ybV9cIiArIHN1Ym1pc3Npb25faWQpLmh0bWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIGR2dHlwZSArIFwiX2Zvcm1fXCIgKyBzdWJtaXNzaW9uX2lkKS5jaGlsZHJlbihcImZvcm1cIikuc3VibWl0KCk7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIGR2dHlwZSArIFwiX2Zvcm1fXCIgKyBzdWJtaXNzaW9uX2lkKS5odG1sKFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayB3aGV0aGVyIHRoZSBEViBpcyBzdGlsbCBvcGVuLCByZWZyZXNoIHRoZSBvcGVuaW5nIHdpbmRvdyB3aGVuIGl0IGNsb3Nlcy5cbiAgICBmdW5jdGlvbiBjaGVja0RWQ2xvc2VkKCBwYXJ0X2lkICkge1xuICAgICAgICBpZiAod2luZG93LmR2V2luZG93LmNsb3NlZCkge1xuICAgICAgICAgICAgJChcIiNyZWZyZXNoX1wiICsgcGFydF9pZCkuY2xpY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgY2hlY2tEVkNsb3NlZChwYXJ0X2lkKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBJbml0aWF0ZSBhIG5vdGhpbmcgc3VibWlzc2lvbi5cbiAgICBmdW5jdGlvbiBzdWJtaXROb3RoaW5nKCB1c2VyX2lkLCBwYXJ0X2lkICkge1xuICAgICAgICAkKFwiI3N1Ym1pdG5vdGhpbmdfMF9cIiArIHBhcnRfaWQgKyBcIl9cIiArIHVzZXJfaWQgKyBcIiBpXCIpLmF0dHIoJ2NsYXNzJywnZmEgZmEtc3BpbiBmYS1zcGlubmVyIGZhLWxnJyk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJzdWJtaXRfbm90aGluZ1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICBwYXJ0OiBwYXJ0X2lkLCB1c2VyOiB1c2VyX2lkLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgICQuY29va2llKCAnc3VibWl0bm90aGluZ2FjY2VwdCcsIHRydWUsIHsgZXhwaXJlczogMzY1IH0gKTtcbiAgICAgICAgICAgICAgICAkKCd0YWJsZSMnICsgcGFydF9pZCArICcgLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJChcIiNzdWJtaXRub3RoaW5nXzBfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkICsgXCIgaVwiKS5hdHRyKCdjbGFzcycsJ2ZhIGZhLXBlbmNpbCBmYS1sZycpO1xuICAgICAgICAgICAgICAgICQoXCIjc3VibWl0bm90aGluZ18wX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgYWxlcnQoIGRhdGEucmVzcG9uc2VUZXh0ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJlZnJlc2hJbmJveFJvdyggJ3N1Ym1pdG5vdGhpbmcnLCAwLCBwYXJ0X2lkLCB1c2VyX2lkICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlZnJlc2ggYSByb3cgaW4gdGhlIGluYm94IGFmdGVyIGEgc3VibWlzc2lvbiBoYXMgYmVlbiBtYWRlIG9yIERWIGNsb3NlZC5cbiAgICBmdW5jdGlvbiByZWZyZXNoSW5ib3hSb3cobGluaywgc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwicmVmcmVzaF9zdWJtaXNzaW9uX3Jvd1wiLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICBwYXJ0OiBwYXJ0X2lkLCB1c2VyOiB1c2VyX2lkLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKCd0YWJsZSMnICsgcGFydF9pZCArICcgLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkID09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGluayArPSBcIl8wXCI7XG4gICAgICAgICAgICAgICAgICAgIHN1Ym1pc3Npb25faWQgPSBkYXRhLnN1Ym1pc3Npb25faWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN1Ym1pc3Npb25faWQgPT0gbnVsbCAmJiBzdWJtaXNzaW9uX2lkICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGxpbmsgKyBcIl9cIiArIHN1Ym1pc3Npb25faWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGluayA9IGxpbmsgKyBcIl9cIiArIGRhdGEuc3VibWlzc2lvbl9pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2hvdyBleHBvcnQgbGlua3MuXG4gICAgICAgICAgICAgICAgaWYgKHN1Ym1pc3Npb25faWQgIT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAkKCcjZXhwb3J0X2xpbmtzJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbl9jbGFzcycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgcm93IGFuZCByZS1hZGQuXG4gICAgICAgICAgICAgICAgb1RhYmxlID0gJCgndGFibGUjJyArIHBhcnRfaWQpLmRhdGFUYWJsZSgpO1xuICAgICAgICAgICAgICAgIHZhciB0ciA9ICQoXCIjXCIgKyBsaW5rICsgXCJfXCIgKyBwYXJ0X2lkICsgJ18nICsgdXNlcl9pZCkucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd2luZGV4ID0gdHIuaW5kZXgoKTtcbiAgICAgICAgICAgICAgICBvVGFibGUuZm5EZWxldGVSb3codHIpO1xuICAgICAgICAgICAgICAgIG9UYWJsZS5mbkFkZERhdGEoZGF0YS5yb3cpO1xuXG4gICAgICAgICAgICAgICAgc3VibWl0VmlzaWJpbGl0eSgpO1xuXG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVVwbG9hZEJveChcInJvd1wiLCBkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VEVkxhdW5jaGVycyhcInJvd1wiLCBkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VSZWZyZXNoUm93KFwicm93XCIsIGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCwgdXNlcl9pZCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZUNoZWNrYm94ZXMoZGF0YS5zdWJtaXNzaW9uX2lkLCBwYXJ0X2lkKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0oXCJyb3dcIiwgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIGRhdGEuc3VibWlzc2lvbl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3cgZG93bmxvYWQgbGlua3Mgd2hlbiBjaGVja2JveGVzIGhhdmUgYmVlbiB0aWNrZWQuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUNoZWNrYm94ZXMoc3VibWlzc2lvbl9pZCwgcGFydF9pZCkge1xuICAgICAgICB2YXIgaWRlbnRpZmllciA9ICcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94JztcbiAgICAgICAgaWYgKHN1Ym1pc3Npb25faWQgIT0gMCkge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9ICdjaGVja18nICsgc3VibWlzc2lvbl9pZDtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJ3RhYmxlIycgKyBwYXJ0X2lkICsgJyAuc2VsZWN0X2FsbF9jaGVja2JveCcpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGlkZW50aWZpZXIgKyAnLCAuc2VsZWN0X2FsbF9jaGVja2JveCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlSGlkZGVuWmlwRG93bmxvYWRzKHBhcnRfaWQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ2NoZWNrZWRfemlwX29wZW4nKS51bmJpbmQoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IHRoZSBkYXRlIGFuZCBtYXJrcyBvcHRpb25zIGZvciB0aGUgcmVsZXZhbnQgbnVtYmVyIG9mIHBhcnRzIHdoZW4gY3JlYXRpbmcvZWRpdGluZyBhc3NpZ25tZW50LlxuICAgIGZ1bmN0aW9uIHNob3dQYXJ0RGF0ZXNCb3hlcygpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gNTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA8PSAkKFwiI2lkX251bXBhcnRzXCIpLnZhbCgpKSB7XG4gICAgICAgICAgICAgICAgJCgnZmllbGRzZXRbaWQkPVwicGFydGRhdGVzJyArIGkgKyAnXCJdJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJ2ZpZWxkc2V0W2lkJD1cInBhcnRkYXRlcycgKyBpICsgJ1wiXScpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoJy5zZWxlY3RfYWxsX2NoZWNrYm94Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpZCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkuYXR0cignaWQnKTtcblxuICAgICAgICBpZiAoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgaWYgKCAkKCcjJyArIGlkICsgJyAuaW5ib3hfY2hlY2tib3gnKS5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIGlkICsgJyAuemlwX2Rvd25sb2FkcycpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICggJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBpZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNldHRpbmdzIHBhZ2UgcGFydHMgd2FybmluZy5cbiAgICAkKCdbaWRePWZpdGVtX2lkX2R0cG9zdF0gc2VsZWN0JykuY2hhbmdlKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBHZXQgcGFydCBpZCBmcm9tIHRpdGxlLlxuICAgICAgICB2YXIgZGF0YUVsID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKTtcbiAgICAgICAgdmFyIHBvc3RfZGF0ZSA9IGJ1aWxkVW5peERhdGUoJyNmaXRlbV9pZF9kdHBvc3QnLCBkYXRhRWwuZGF0YSgncGFydElkJykpO1xuXG4gICAgICAgIGlmICggcG9zdF9kYXRlIDwgbW9tZW50KCkudW5peCgpICYmIGRhdGFFbC5kYXRhKCdhbm9uJykgPT0gMSAmJiBkYXRhRWwuZGF0YSgndW5hbm9uJykgPT0gMCAmJiBkYXRhRWwuZGF0YSgnc3VibWl0dGVkJykgPT0gMSApIHtcbiAgICAgICAgICAgIGFsZXJ0KE0uc3RyLnR1cm5pdGludG9vbHR3by5hbm9uYWxlcnQpO1xuICAgICAgICB9XG5cbiAgICB9KTtcblxuICAgIHZhciBidWlsZFVuaXhEYXRlID0gZnVuY3Rpb24oZWwsIHBhcnRfaWQpIHtcbiAgICAgICAgLy8gT3B0aW9uIGlkJ3MuXG4gICAgICAgIHZhciBzdGFydCA9IFsgJ19kYXknLCAnX21vbnRoJywgJ195ZWFyJywgJ19ob3VyJywgJ19taW51dGUnIF07XG5cbiAgICAgICAgJHRoaXMgPSAkKGVsICsgcGFydF9pZCk7XG5cbiAgICAgICAgLy8gQnVpbGQgZGF0ZTp0aW1lIHN0cmluZy5cbiAgICAgICAgdmFyIGRhdGUgPSAnJztcbiAgICAgICAgJC5lYWNoKHN0YXJ0LCBmdW5jdGlvbihrLCB2KSB7XG4gICAgICAgICAgICBkYXRlICs9ICR0aGlzLmZpbmQoJ1tpZCQ9JyArIHBhcnRfaWQgKyB2ICsgJ10gb3B0aW9uOnNlbGVjdGVkJykudGV4dCgpO1xuICAgICAgICAgICAgaWYgKHYgPT09ICdfeWVhcicpIHtcbiAgICAgICAgICAgICAgICBkYXRlICs9ICcgJztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodiA9PT0gJ19ob3VyJykge1xuICAgICAgICAgICAgICAgIGRhdGUgKz0gJzonO1xuICAgICAgICAgICAgfSBlbHNlIGlmICggdiAhPT0gJ19taW51dGUnKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSArPSAnLSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJldHVybiBjb252ZXJ0ZWQgbW9tZW50IG9iamVjdC5cbiAgICAgICAgcmV0dXJuIG1vbWVudChkYXRlLCBcIkRELU1NTU0tWVlZWSBoaDptbVwiKS51bml4KCk7XG4gICAgfVxufSk7XG4iLCJqUXVlcnkoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCQpIHtcbiAgICAvLyBBZGQgc3R5bGUgdG8gaGVhZGVyIHJvdy5cbiAgICAkKCcuc3VibWlzc2lvbnNEYXRhVGFibGUgdGhlYWQgdHIsICNjb3Vyc2VCcm93c2VyVGFibGUgdGhlYWQgdHInKS50b2dnbGVDbGFzcyhcImhlYWRlclwiKTtcblxuICAgIC8vIENvbmZpZ3VyZSBkYXRhdGFibGVzIGxhbmd1YWdlIHNldHRpbmdzLlxuICAgIHZhciBkYXRhVGFibGVzTGFuZyA9IHtcbiAgICAgICAgXCJub2ludGVncmF0aW9uXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5ub2ludGVncmF0aW9uLFxuICAgICAgICBcInNQcm9jZXNzaW5nXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zcHJvY2Vzc2luZyxcbiAgICAgICAgXCJzWmVyb1JlY29yZHNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnN6ZXJvcmVjb3JkcyxcbiAgICAgICAgXCJzSW5mb1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2luZm8sXG4gICAgICAgIFwic1NlYXJjaFwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3NlYXJjaCxcbiAgICAgICAgXCJzTGVuZ3RoTWVudVwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2xlbmd0aG1lbnUsXG4gICAgICAgIFwic0luZm9FbXB0eVwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2VtcHR5dGFibGUsXG4gICAgICAgIFwib1BhZ2luYXRlXCI6IHtcbiAgICAgICAgICAgIFwic05leHRcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNuZXh0LFxuICAgICAgICAgICAgXCJzUHJldmlvdXNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNwcmV2aW91c1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgdW5saW5rIGFuZCByZWxpbmsgdXNlcnMgZGF0YXRhYmxlIGluIHRoZSBwbHVnaW4gc2V0dGluZ3MgYXJlYS5cbiAgICAkKCcjdW5saW5rVXNlclRhYmxlJykuZGF0YVRhYmxlKHtcbiAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICBcImJTZXJ2ZXJTaWRlXCI6IHRydWUsXG4gICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICBcImFhU29ydGluZ1wiOiBbWyAyLCBcImFzY1wiIF1dLFxuICAgICAgICBcImFMZW5ndGhNZW51XCI6IFtbMTAsIDI1LCA1MCwgMTAwLCAtMV0sIFsxMCwgMjUsIDUwLCAxMDAsIFwiQWxsXCJdXSxcbiAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwP2FjdGlvbj1nZXRfdXNlcnNcIixcbiAgICAgICAgXCJhb0NvbHVtbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1wiYlNvcnRhYmxlXCI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkLCBzRGF0YSwgb0RhdGEsIGlSb3csIGlDb2wpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdjZW50ZXJlZF9jZWxsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAge1wiYURhdGFTb3J0XCI6IFsgMiwgMyBdfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcImFEYXRhU29ydFwiOiBbIDMsIDIgXX0sXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsXG4gICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICBcImZuRHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJzZWxlY3RhbGxjYlwiXScpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgZmlsZXMgZGF0YXRhYmxlIGluIHRoZSBwbHVnaW4gc2V0dGluZ3MgYXJlYSwgZ3JvdXAgdGhlIGZpbGVzIGJ5IGFzc2lnbm1lbnQuXG4gICAgJCgnI2ZpbGVzVGFibGUnKS5kYXRhVGFibGUoIHtcbiAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICBcImJTZXJ2ZXJTaWRlXCI6IHRydWUsXG4gICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICBcInNBamF4U291cmNlXCI6IFwiYWpheC5waHA/YWN0aW9uPWdldF9maWxlc1wiLFxuICAgICAgICBcImFvQ29sdW1uc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHtcInNDbGFzc1wiOiBcImZpbGVuYW1lIGMwXCIsIFwic1dpZHRoXCI6IFwiNDAlXCJ9LFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB7XCJzQ2xhc3NcIjogXCJmdWxsbmFtZSBjMVwiLCBcInNXaWR0aFwiOiBcIjM1JVwifSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAge1wic0NsYXNzXCI6IFwiY3JlYXRlZCBjMlwiLCBcInNXaWR0aFwiOiBcIjIyJVwifSxcbiAgICAgICAgICAgICAgICAgICAge1wic0NsYXNzXCI6IFwicmVtb3ZlIGMzXCIsIFwic1dpZHRoXCI6IFwiMyVcIn1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICBcImFvQ29sdW1uRGVmc1wiOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyAwIF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgMSBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDIgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDMgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyA0IF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyA1IF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgNiBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgNyBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgOCBdfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgIFwiZm5EcmF3Q2FsbGJhY2tcIjogZnVuY3Rpb24gKCBvU2V0dGluZ3MgKSB7XG4gICAgICAgICAgICBpZiAoIG9TZXR0aW5ncy5haURpc3BsYXkubGVuZ3RoID09IDAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG5UcnMgPSAkKCcjZmlsZXNUYWJsZSB0Ym9keSB0cicpO1xuICAgICAgICAgICAgdmFyIGlDb2xzcGFuID0gblRyc1swXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGQnKS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgc0xhc3RHcm91cCA9IFwiXCI7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5UcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaURpc3BsYXlJbmRleCA9IG9TZXR0aW5ncy5faURpc3BsYXlTdGFydCArIGk7XG4gICAgICAgICAgICAgICAgdmFyIHNHcm91cCA9IG9TZXR0aW5ncy5hb0RhdGFbIG9TZXR0aW5ncy5haURpc3BsYXlbaV0gXS5fYURhdGFbMF07XG4gICAgICAgICAgICAgICAgaWYgKCBzR3JvdXAgIT0gc0xhc3RHcm91cCApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbkdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RyJyApO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbkNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAndGQnICk7XG4gICAgICAgICAgICAgICAgICAgIG5DZWxsLmNvbFNwYW4gPSBpQ29sc3BhbjtcbiAgICAgICAgICAgICAgICAgICAgbkNlbGwuY2xhc3NOYW1lID0gXCJncm91cFwiO1xuICAgICAgICAgICAgICAgICAgICBuQ2VsbC5pbm5lckhUTUwgPSBzR3JvdXA7XG4gICAgICAgICAgICAgICAgICAgIG5Hcm91cC5hcHBlbmRDaGlsZCggbkNlbGwgKTtcbiAgICAgICAgICAgICAgICAgICAgblRyc1tpXS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggbkdyb3VwLCBuVHJzW2ldICk7XG4gICAgICAgICAgICAgICAgICAgIHNMYXN0R3JvdXAgPSBzR3JvdXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImFhU29ydGluZ0ZpeGVkXCI6IFtbIDAsICdhc2MnIF1dLFxuICAgICAgICBcImFhU29ydGluZ1wiOiBbWyAxLCAnYXNjJyBdXSxcbiAgICAgICAgXCJzRG9tXCI6ICdsZnI8XCJnaXZlSGVpZ2h0XCJ0PmlwJ1xuICAgIH0pO1xuXG4gICAgJC5kYXRlcGlja2VyLnJlZ2lvbmFsW1wiXCJdLmRhdGVGb3JtYXQgPSAnZCBNIHl5JztcbiAgICAkLmRhdGVwaWNrZXIuc2V0RGVmYXVsdHMoJC5kYXRlcGlja2VyLnJlZ2lvbmFsWycnXSk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIGNvdXJzZSBicm93c2VyIGRhdGEgdGFibGUgYW5kIHNob3cgY2xhc3NlcyBmcm9tIFR1cm5pdGluIGFjb2N1bnQuXG4gICAgdmFyIGNvdXJzZUJyb3dzZXJUYWJsZSA9ICQoJyNjb3Vyc2VCcm93c2VyVGFibGUnKS5kYXRhVGFibGUoe1xuICAgICAgICBcImJQcm9jZXNzaW5nXCI6IHRydWUsXG4gICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICBcImFhU29ydGluZ1wiOiBbWyA2LCAnYXNjJ11dLFxuICAgICAgICBcInNBamF4U291cmNlXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgXCJhb0NvbHVtbkRlZnNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiBmYWxzZSwgXCJiU29ydGFibGVcIjogZmFsc2UsIFwic1dpZHRoXCI6IFwiNSVcIiwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgMCBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmbkNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uIChuVGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5UZCkuYWRkQ2xhc3MoJ2NlbnRlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJzV2lkdGhcIjogXCI0NSVcIiwgXCJpRGF0YVNvcnRcIjogNiwgXCJhVGFyZ2V0c1wiOiBbIDEgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJzV2lkdGhcIjogXCIxMCVcIiwgXCJhVGFyZ2V0c1wiOiBbIDIgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJzV2lkdGhcIjogXCIyMCVcIiwgXCJpRGF0YVNvcnRcIjogNywgXCJhVGFyZ2V0c1wiOiBbIDMgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdyaWdodCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IGZhbHNlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwic1dpZHRoXCI6IFwiMTAlXCIsIFwiYVRhcmdldHNcIjogWyA0IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuQ3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKG5UZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoblRkKS5hZGRDbGFzcygncmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwic1dpZHRoXCI6IFwiMTAlXCIsIFwiYVRhcmdldHNcIjogWyA1IF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuQ3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKG5UZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoblRkKS5hZGRDbGFzcygnY2VudGVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDYgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyA3IF19XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgXCJmblNlcnZlckRhdGFcIjogZnVuY3Rpb24gKCBzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2sgKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBzU291cmNlLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcInNlYXJjaF9jbGFzc2VzXCIsIGNvdXJzZV90aXRsZTogJCgnI3NlYXJjaF9jb3Vyc2VfdGl0bGUnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgY291cnNlX2ludGVncmF0aW9uOiAkKCcjc2VhcmNoX2NvdXJzZV9pbnRlZ3JhdGlvbicpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VfZW5kX2RhdGU6ICQoJyNzZWFyY2hfY291cnNlX2VuZF9kYXRlJykudmFsKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZm5DYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBcImJTdGF0ZVNhdmVcIjogdHJ1ZSxcbiAgICAgICAgXCJmblN0YXRlU2F2ZVwiOiBmdW5jdGlvbiAob1NldHRpbmdzLCBvRGF0YSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggdWlkICsgJ0RhdGFUYWJsZXMnLCBKU09OLnN0cmluZ2lmeShvRGF0YSkgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImZuU3RhdGVMb2FkXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKHVpZCArICdEYXRhVGFibGVzJykgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcImZuRHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJzZWxlY3RhbGxjYlwiXScpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICBpbml0aWFsaXNlQ291cnNlUmVjcmVhdGlvbigpO1xuICAgICAgICAgICAgaW5pdGlhbGlzZUVkaXRFbmREYXRlKCk7XG4gICAgICAgICAgICAkKFwiI3NlYXJjaF9jb3Vyc2VzX2J1dHRvblwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKFwiI3NlYXJjaF9jb3Vyc2VzX2J1dHRvblwiKS5jbGljayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICQodGhpcykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgY291cnNlQnJvd3NlclRhYmxlLmZuUmVsb2FkQWpheCgpO1xuICAgICAgICBjb3Vyc2VCcm93c2VyVGFibGUuZm5TdGFuZGluZ1JlZHJhdygpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG5cbiAgICAkKCcjc2VhcmNoX2NvdXJzZV9lbmRfZGF0ZScpLmRhdGVwaWNrZXIoKTtcblxuICAgIC8vIEluaXRpYWxpc2UgYXNzaWdubWVudCBicm93c2VyIHRhYmxlLlxuICAgIHZhciBvVGFibGUgPSAkKCcjYXNzaWdubWVudEJyb3dzZXJUYWJsZScpLmRhdGFUYWJsZSh7XG4gICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICBcImZuU2VydmVyRGF0YVwiOiBmdW5jdGlvbiAoIHNTb3VyY2UsIGFvRGF0YSwgZm5DYWxsYmFjayApIHtcblxuICAgICAgICAgICAgLy8gRGlzYWJsZSBjb3Vyc2UgYnV0dG9ucy5cbiAgICAgICAgICAgICQoJyNpZF9jcmVhdGVfY291cnNlJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJCgnI2lkX3VwZGF0ZV9jb3Vyc2UnKS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICAgIC8vIE1vdmUgYm94IHdpdGhpbiBmb3JtLlxuICAgICAgICAgICAgaWYgKCQoXCIjYXNzaWdubWVudEJyb3dzZXJUYWJsZVwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJChcIi5zaWRlLXByZS1vbmx5ICNwYWdlLWNvbnRlbnQgI3JlZ2lvbi1tYWluXCIpLmNzcyh7J21hcmdpbi1sZWZ0JyA6ICcwcHgnfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKFwiI2lkX2Fzc2lnbm1lbnRuYW1lXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAkKFwiI2lkX2NyZWF0ZV9hc3NpZ25tZW50XCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBzU291cmNlLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImdldF9hc3NpZ25tZW50c1wiLCB0aWlfY291cnNlX2lkOiAkKFwiI3RpaV9jb3Vyc2VfaWRcIikuaHRtbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbGlzZUNvdXJzZUJyb3dzZXJCdXR0b25zKG9UYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2socmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoJChcIiNjb3Vyc2VfaWRcIikuaHRtbCgpICE9IFwiMFwiICYmIHJlc3VsdC5udW1iZXJfb2ZfYXNzaWdubWVudHMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2lkX2Fzc2lnbm1lbnRuYW1lXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2lkX2NyZWF0ZV9hc3NpZ25tZW50XCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmFzc2lnbm1lbnRpZHNfY2hlY2tcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDcmVhdGVBc3NpZ25tZW50QnV0dG9uKG9UYWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2lkX2Fzc2lnbm1lbnRuYW1lXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI2lkX2NyZWF0ZV9hc3NpZ25tZW50XCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiLmFzc2lnbm1lbnRpZHNfY2hlY2tcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuYWJsZSBjb3Vyc2UgYnV0dG9ucy5cbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX2NyZWF0ZV9jb3Vyc2UnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjaWRfdXBkYXRlX2NvdXJzZScpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiYW9Db2x1bW5EZWZzXCI6IFtcbiAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IGZhbHNlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyAwIF19LFxuICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgMSBdLFxuICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkKSB7XG4gICAgICAgICAgICAgICAgICAgICQoblRkKS5hZGRDbGFzcygnbm93cmFwJyk7XG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyAyIF19LFxuICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgMyBdfVxuICAgICAgICBdXG4gICAgfSk7XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggd2hpY2ggYWxsb3dzIHRoZSBjcmVhdGlvbiBvZiBjbGFzc2VzLlxuICAgICQoJyNjcmVhdGVfY2xhc3Nlc19idXR0b24nKS5jb2xvcmJveCh7XG4gICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDonNjAlJywgdG9wOiAnMjAwcHgnLCBoZWlnaHQ6JzEyNHB4Jywgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImNvdXJzZV9jcmVhdGlvblwiLFxuICAgICAgICBocmVmOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSAkKCcuY3JlYXRlX2NvdXJzZV9jYXRlZ29yeScpLnZhbCgpO1xuICAgICAgICAgICAgICAgIHZhciBhc3NpZ25tZW50cyA9ICgkKCcuY3JlYXRlX2Fzc2lnbm1lbnRfY2hlY2tib3gnKS5pcygnOmNoZWNrZWQnKSkgPyBcIjFcIiA6IFwiMFwiO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzX2lkcyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgICQoJy5icm93c2VyX2NoZWNrYm94OmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc19pZHMgKz0gXCImY2xhc3NfaWRcIiArIGkgKyBcIj1cIiArICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBwYWdldXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHBhZ2V1cmwucmVwbGFjZShcImNtZD1jb3Vyc2VzXCIsIFwiY21kPW11bHRpcGxlX2NsYXNzX3JlY3JlYXRpb25cIik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdXJsICsgXCImdmlld19jb250ZXh0PWJveCZjYXRlZ29yeT1cIiArIGNhdGVnb3J5ICsgXCImYXNzaWdubWVudHM9XCIgKyBhc3NpZ25tZW50cyArIGNsYXNzX2lkcyArIFwiJnNlc3NrZXk9XCIgKyBNLmNmZy5zZXNza2V5O1xuICAgICAgICB9LFxuICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoJCgnI2NsYXNzX2lkcycpLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAvLyBNb3ZlIGJveCB3aXRoaW4gZnJhbWUuXG4gICAgICAgICQoXCIuc2lkZS1wcmUtb25seSAjcGFnZS1jb250ZW50ICNyZWdpb24tbWFpblwiKS5jc3Moe1xuICAgICAgICAgICAgJ21hcmdpbi1sZWZ0JyA6ICcwcHgnXG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoXCIuaGFzLXJlZ2lvbi1zaWRlLXByZSAjcGFnZS1jb250ZW50ICNyZWdpb24tbWFpblwiKS5jc3Moe1xuICAgICAgICAgICAgJ3dpZHRoJzogJzEwMCUnLFxuICAgICAgICAgICAgJ21hcmdpbi10b3AnOiAnLTMwcHgnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjbGFzc19pZHMgPSAkKCcjY2xhc3NfaWRzJykuaHRtbCgpO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdodG1sJyxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImNyZWF0ZV9jb3Vyc2VzXCIsIGNsYXNzX2lkczogY2xhc3NfaWRzLCBjb3Vyc2VfY2F0ZWdvcnk6ICQoXCIjY291cnNlX2NhdGVnb3J5XCIpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICBjcmVhdGVfYXNzaWdubWVudHM6ICQoXCIjY3JlYXRlX2Fzc2lnbm1lbnRzXCIpLmh0bWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJCgnI2NvdXJzZV9jcmVhdGlvbl9zdGF0dXMnKS5odG1sKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IGxpZ2h0IGJveCB0byBjaGFuZ2UgdGhlIGVuZCBkYXRlIG9mIGEgY291cnNlLlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VFZGl0RW5kRGF0ZSgpIHtcbiAgICAgICAgJChcImEuZWRpdF9jb3Vyc2VfZW5kX2xpbmtcIikuY29sb3Jib3goe1xuICAgICAgICAgICAgaW5saW5lOnRydWUsIHdpZHRoOlwiNjAlXCIsIHRvcDogXCIxMDBweFwiLCBiYWNrZ3JvdW5kOiBcIiNmZmZcIiwgaGVpZ2h0OlwiMjYwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImVkaXRfZW5kX2RhdGVfZm9ybVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25Db21wbGV0ZSA6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gR2V0IGN1cnJlbnQgZGF0ZSBmcm9tIHRoZSBzcGFuIGlkIHdpdGhpbiB0aGUgbGluayBhbmQgc2V0XG4gICAgICAgICAgICAgICAgLy8gdGhlIGRhdGUgb2YgdGhlIGRhdGVwaWNrZXIgaW4gdGhlIGxpZ2h0Ym94IHRvIHRoYXQuXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRfZGF0ZSA9ICQoJyMnICsgJCh0aGlzKS5hdHRyKFwiaWRcIikgKyAnIHNwYW4nKS5hdHRyKFwiaWRcIik7XG4gICAgICAgICAgICAgICAgY3VycmVudF9kYXRlID0gY3VycmVudF9kYXRlLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICAkKCcjaWRfbmV3X2NvdXJzZV9lbmRfZGF0ZV9kYXknKS52YWwoY3VycmVudF9kYXRlWzFdKTtcbiAgICAgICAgICAgICAgICAkKCcjaWRfbmV3X2NvdXJzZV9lbmRfZGF0ZV9tb250aCcpLnZhbChjdXJyZW50X2RhdGVbMl0pO1xuICAgICAgICAgICAgICAgICQoJyNpZF9uZXdfY291cnNlX2VuZF9kYXRlX3llYXInKS52YWwoY3VycmVudF9kYXRlWzNdKTtcblxuICAgICAgICAgICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgdGlpX2NvdXJzZV9pZCA9IGlkU3RyWzJdO1xuICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ0aWlfY291cnNlX2lkXCJdJykudmFsKHRpaV9jb3Vyc2VfaWQpO1xuICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJ0aWlfY291cnNlX3RpdGxlXCJdJykudmFsKCQoJ2EjY291cnNlXycgKyB0aWlfY291cnNlX2lkKS5odG1sKCkpO1xuICAgICAgICAgICAgICAgICQoJyNjYm94TG9hZGVkQ29udGVudCAuZWRpdF9jb3Vyc2VfZW5kX2RhdGVfZm9ybScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjZGF0ZXNlbGVjdG9yLWNhbGVuZGFyLXBhbmVsJykuY3NzKCd6LWluZGV4JywgJzk5OTknKTtcblxuICAgICAgICAgICAgICAgICQoJyNpZF9zYXZlX2VuZF9kYXRlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImVkaXRfY291cnNlX2VuZF9kYXRlXCIsIHRpaV9jb3Vyc2VfaWQ6IHRpaV9jb3Vyc2VfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGlpX2NvdXJzZV90aXRsZTogJCgnYSNjb3Vyc2VfJyArIHRpaV9jb3Vyc2VfaWQpLmh0bWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRfZGF0ZV9kOiAkKCcjaWRfbmV3X2NvdXJzZV9lbmRfZGF0ZV9kYXknKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRfZGF0ZV9tOiAkKCcjaWRfbmV3X2NvdXJzZV9lbmRfZGF0ZV9tb250aCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZF9kYXRlX3k6ICQoJyNpZF9uZXdfY291cnNlX2VuZF9kYXRlX3llYXInKS52YWwoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnN0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuJC5mbi5jb2xvcmJveC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY291cnNlX2RhdGVfJyArIHRpaV9jb3Vyc2VfaWQgKyAnIHNwYW4nKS5odG1sKGRhdGEuZW5kX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X21zZyA9ICQoJyNlZGl0X2VuZF9kYXRlX2Rlc2MnKS5odG1sO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjZWRpdF9lbmRfZGF0ZV9kZXNjJykuaHRtbChjdXJyZW50X21zZyArIFwiIFwiICsgZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcuZWRpdF9jb3Vyc2VfZW5kX2RhdGVfZm9ybScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBsaWdodEJveENsb3NlQnV0dG9uKCkge1xuICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGlkPVwidGlpX2Nsb3NlX2JhclwiPjxhIGhyZWY9XCIjXCIgb25jbGljaz1cIiQuY29sb3Jib3guY2xvc2UoKTsgcmV0dXJuIGZhbHNlO1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28uY2xvc2VidXR0b24gKyAnPC9hPjwvZGl2PicpO1xuICAgIH1cblxuICAgIC8vIFNob3cgbGlnaHQgYm94IHdpdGggYSBmb3JtIHRvIGVpdGhlciBjcmVhdGUgYSBuZXcgY291cnNlIG9yIGxpbmsgYW4gdW5saW5rZWQgTW9vZGxlIGNvdXJzZVxuICAgIC8vIHRvIHRoZSBjbGlja2VkIFR1cm5pdGluIGNsYXNzLCB0aGVuIHN1YnNlcXVlbnRseSBjcmVhdGUgYSBNb29kbGUgYXNzaWdubWVudCB1c2luZyB0aGUgc2VsZWN0ZWRcbiAgICAvLyBleGlzdGluZyBhc3NpZ25tZW50cyBvbiBUdXJuaXRpbiBhcyBwYXJ0cy5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlQ291cnNlUmVjcmVhdGlvbigpIHtcblxuICAgICAgICB2YXIgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgICAgdmFyIGNvbG9yQm94V2lkdGggPSBcIjgwJVwiO1xuICAgICAgICBpZiAod2luZG93V2lkdGggPCAxMDAwKSB7XG4gICAgICAgICAgICBjb2xvckJveFdpZHRoID0gXCI4NjBweFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS53aWR0aCgpO1xuICAgICAgICB2YXIgY29sb3JCb3hIZWlnaHQgPSBcIjgwJVwiO1xuICAgICAgICBpZiAod2luZG93SGVpZ2h0IDwgNzAwKSB7XG4gICAgICAgICAgICBjb2xvckJveEhlaWdodCA9IFwiNjAwcHhcIjtcbiAgICAgICAgfVxuXG4gICAgICAgICQoXCJhLmNvdXJzZV9yZWNyZWF0ZVwiKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6Y29sb3JCb3hXaWR0aCwgaGVpZ2h0OmNvbG9yQm94SGVpZ2h0LCB0b3A6ICcxMDBweCcsIGNsYXNzTmFtZTogXCJtaWdyYXRpb25cIiwgb3BhY2l0eTogXCIwLjdcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCcuYnJvd3Nlcl9jaGVja2JveCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCQoJy5icm93c2VyX2NoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5jcmVhdGVfY2hlY2tib3hlcycpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTWFrZSB0aGUgYnV0dG9ucyBvbiB0aGUgY291cnNlIGNyZWF0aW9uL2xpbmsgZm9ybXMgY2xpY2thYmxlIGFuZCBjb25maWd1cmUgdGhlIHJlbGV2YW50IHRyaWdnZXJlZCBldmVudC5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlQ291cnNlQnJvd3NlckJ1dHRvbnMob1RhYmxlKSB7XG4gICAgICAgICQoJyNpZF9jcmVhdGVfY291cnNlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiY3JlYXRlX2NvdXJzZVwiLCB0aWlfY291cnNlX2lkOiAkKFwiI3RpaV9jb3Vyc2VfaWRcIikuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICB0aWlfY291cnNlX25hbWU6IGVuY29kZVVSSUNvbXBvbmVudCgkKFwiI3RpaV9jb3Vyc2VfbmFtZVwiKS5odG1sKCkpLFxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VfbmFtZTogZW5jb2RlVVJJQ29tcG9uZW50KCQoXCIjaWRfY291cnNlbmFtZVwiKS52YWwoKSksXG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZV9jYXRlZ29yeTogJChcIiNpZF9jb3Vyc2VjYXRlZ29yeVwiKS52YWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0galF1ZXJ5LnBhcnNlSlNPTihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUNvdXJzZUNyZWF0aW9uT3B0aW9ucyhvYmosIG9UYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNpZF91cGRhdGVfY291cnNlJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2h0bWwnLFxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwibGlua19jb3Vyc2VcIiwgdGlpX2NvdXJzZV9pZDogJChcIiN0aWlfY291cnNlX2lkXCIpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgdGlpX2NvdXJzZV9uYW1lOiAkKFwiI3RpaV9jb3Vyc2VfbmFtZVwiKS5odG1sKCksIGNvdXJzZV90b19saW5rOiAkKFwiI2lkX2NvdXJzZXRvbGlua1wiKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb2JqID0galF1ZXJ5LnBhcnNlSlNPTihkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgaGlkZUNvdXJzZUNyZWF0aW9uT3B0aW9ucyhvYmosIG9UYWJsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEhpZGUgdGhlIGNvdXJzZSBjcmVhdGlvbi9saW5raW5nIGZvcm0gb25jZSB0aGUgc2VsZWN0ZWQgVHVybml0aW5cbiAgICAvLyBjb3Vyc2UgaGFzIGJlZW4gY3JlYXRlZC9saW5rZWQgbG9jYWxseSBhbmQgaW5pdGlhbGlzZSB0aGUgY3JlYXRlIGFzc2lnbm1lbnQgYnV0dG9uLlxuICAgIGZ1bmN0aW9uIGhpZGVDb3Vyc2VDcmVhdGlvbk9wdGlvbnMob2JqLCBvVGFibGUpIHtcbiAgICAgICAgaWYgKG9iaiAhPSAwKSB7XG4gICAgICAgICAgICAkKFwiI2NvdXJzZV9pZFwiKS5odG1sKG9iai5jb3Vyc2VpZCk7XG5cbiAgICAgICAgICAgIHZhciBjYl9lbGVtZW50ID0gJ2lucHV0W25hbWU9XCJjaGVja18nICsgJCgnI3RpaV9jb3Vyc2VfaWQnKS5odG1sKCkgKyAnXCJdJztcbiAgICAgICAgICAgIHBhcmVudC4kKGNiX2VsZW1lbnQpLmhpZGUoKTtcbiAgICAgICAgICAgIHZhciB0aWNrX2VsZW1lbnQgPSAnI3RpY2tfJyArICQoJyN0aWlfY291cnNlX2lkJykuaHRtbCgpO1xuICAgICAgICAgICAgcGFyZW50LiQodGlja19lbGVtZW50KS5zaG93KCk7XG5cbiAgICAgICAgICAgICQoJ2ZpZWxkc2V0W2lkJD1cImNyZWF0ZV9jb3Vyc2VfZmllbGRzZXRcIl0nKS5wYXJlbnQoKS5zbGlkZVRvZ2dsZSgpO1xuICAgICAgICAgICAgJCgnZmllbGRzZXRbaWQkPVwidXBkYXRlX2NvdXJzZV9maWVsZHNldFwiXScpLnBhcmVudCgpLnNsaWRlVG9nZ2xlKCk7XG5cbiAgICAgICAgICAgICQoXCIjb3JfY29udGFpbmVyXCIpLmhpZGUoKTtcblxuICAgICAgICAgICAgJCgnI2V4aXN0aW5nX2NvdXJzZV90aXRsZV9zcGFuJykuaHRtbChvYmouY291cnNlbmFtZSk7XG4gICAgICAgICAgICAkKCcuZXhpc3RpbmdfY291cnNlX3RpdGxlX2gzJykucmVtb3ZlQ2xhc3MoJ2hpZGRlbl9jbGFzcycpO1xuXG4gICAgICAgICAgICBpZiAoJCgnLmFzc2lnbm1lbnRpZHNfY2hlY2snKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJChcIi5hc3NpZ25tZW50aWRzX2NoZWNrXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgJChcIiNpZF9hc3NpZ25tZW50bmFtZVwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICQoXCIjaWRfY3JlYXRlX2Fzc2lnbm1lbnRcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJCgnLmFzc2lnbm1lbnRpZHNfY2hlY2snKS5jaGFuZ2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoJCgnLmFzc2lnbm1lbnRpZHNfY2hlY2snKS5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RoID49IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5hc3NpZ25tZW50aWRzX2NoZWNrXCIpLm5vdCgnOmNoZWNrZWQnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIuYXNzaWdubWVudGlkc19jaGVja1wiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpbml0aWFsaXNlQ3JlYXRlQXNzaWdubWVudEJ1dHRvbihvVGFibGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQmluZCB0aGUgZXZlbnQgdG8gY3JlYXRlIGFuIGFzc2lnbm1lbnQgZnJvbSB0aGUgc2VsZWN0ZWQgcGFydHMuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUNyZWF0ZUFzc2lnbm1lbnRCdXR0b24ob1RhYmxlKSB7XG4gICAgICAgICQoJyNpZF9jcmVhdGVfYXNzaWdubWVudCcpLnVuYmluZChcImNsaWNrXCIpO1xuICAgICAgICAkKCcjaWRfY3JlYXRlX2Fzc2lnbm1lbnQnKS5jbGljayhmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgdmFyIHBhcnRzID0gXCJcIjtcbiAgICAgICAgICAgICQoJy5hc3NpZ25tZW50aWRzX2NoZWNrOmNoZWNrZWQnKS5lYWNoKGZ1bmN0aW9uKGkpe1xuICAgICAgICAgICAgICAgIHBhcnRzICs9ICQodGhpcykudmFsKCkgKyBcIixcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHBhcnRzLmNoYXJBdChwYXJ0cy5sZW5ndGggLSAxKSA9PSAnLCcpIHtcbiAgICAgICAgICAgICAgICBwYXJ0cy5zdWJzdHJpbmcoMCwgcGFydHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoXCIjaWRfY3JlYXRlX2Fzc2lnbm1lbnRcIikuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImNyZWF0ZV9hc3NpZ25tZW50XCIsIGNvdXJzZV9pZDogJChcIiNjb3Vyc2VfaWRcIikuaHRtbCgpLFxuICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50X25hbWU6ICQoXCIjaWRfYXNzaWdubWVudG5hbWVcIikudmFsKCksIHBhcnRzOiBwYXJ0cywgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBvVGFibGUuZm5SZWxvYWRBamF4KCk7XG4gICAgICAgICAgICAgICAgICAgIG9UYWJsZS5mblN0YW5kaW5nUmVkcmF3KCk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjaWRfYXNzaWdubWVudG5hbWVcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIiNpZF9jcmVhdGVfYXNzaWdubWVudFwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmFzc2lnbm1lbnRpZHNfY2hlY2tcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7IiwiLypcbiAqIFRoaXMgc21hbGwgcGllY2Ugb2Ygc2NyaXB0IGlzIGEgd29ya2Fyb3VuZCB0aGF0J3MgbmVlZGVkIHRvIGFkZCB0YWJzIGluIHRvXG4gKiB0aGUgc2V0dGluZ3MgcGFnZS4gVGhleSBuZWVkIHRvIGJlIHJlbW92ZWQgZnJvbSB0aGUgc2V0dGluZ3MgZm9ybSBhbmQgcGxhY2VkXG4gKiBvdXRzaWRlIHRoYXQgY29udGFpbmluZyBmaWVsZHNldC5cbiAqL1xualF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICAgaWYgKCQoJy5zZXR0aW5nc2Zvcm0gZmllbGRzZXQgZGl2LmZvcm1zZXR0aW5naGVhZGluZycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHRhYm1lbnUgPSAkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmc6Zmlyc3QnKS5odG1sKCk7XG4gICAgICAgIGlmICh0YWJtZW51LmluZGV4T2YoXCJ0YWJ0cmVlXCIpID49IDApIHtcbiAgICAgICAgICAgICQoJy5zZXR0aW5nc2Zvcm0gZmllbGRzZXQgZGl2LmZvcm1zZXR0aW5naGVhZGluZzpmaXJzdCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnLnNldHRpbmdzZm9ybSBoMjpmaXJzdCcpLmFmdGVyKHRhYm1lbnUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJCgnaW5wdXRbbmFtZT1cInNlbGVjdGFsbGNiXCJdJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSkge1xuICAgICAgICAgICAgJCgnLmJyb3dzZXJfY2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAoJCgnLmJyb3dzZXJfY2hlY2tib3g6Y2hlY2tlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAkKCcuY3JlYXRlX2NoZWNrYm94ZXMnKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnLmJyb3dzZXJfY2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVVcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKCcudGlpX3VwZ3JhZGVfY2hlY2snKS5jbGljayhmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQ2hhbmdlIFVybCBkZXBlbmRpbmcgb24gU2V0dGluZ3MgcGFnZS5cbiAgICAgICAgdmFyIHVybCA9IFwiYWpheC5waHBcIjtcbiAgICAgICAgaWYgKCQoJy5zZXR0aW5nc2Zvcm0gZmllbGRzZXQgZGl2LmZvcm1zZXR0aW5naGVhZGluZycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHVybCA9IFwiLi4vbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnLnRpaV91cGdyYWRlX2NoZWNrJykuaGlkZSgpO1xuICAgICAgICAkKCcudGlpX3VwZ3JhZGluZ19jaGVjaycpLmNzcygnZGlzcGxheScsICdpbmxpbmUtYmxvY2snKTtcbiAgICAgICAgdmFyIGN1cnJlbnRfdmVyc2lvbiA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgnXycpWzFdO1xuXG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJjaGVja191cGdyYWRlXCIsIGN1cnJlbnRfdmVyc2lvbjogY3VycmVudF92ZXJzaW9uLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9ICQucGFyc2VKU09OKGRhdGEpXG5cbiAgICAgICAgICAgICAgICBpZiAoZGF0YVsndXBkYXRlJ10gPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV91cGdyYWRlX2NoZWNrJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcudGlpX3VwZ3JhZGluZ19jaGVjaycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV9ub191cGdyYWRlJykuaHRtbCgnPGEgaHJlZj1cIicgKyBkYXRhWydmaWxlJ11bMF0gKyAnXCI+JyArIE0uc3RyLnR1cm5pdGludG9vbHR3by51cGdyYWRlYXZhaWxhYmxlICsgJzwvYT4nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKCcudGlpX3VwZ3JhZGluZ19jaGVjaycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV91cGdyYWRlX2NoZWNrJykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpZiAoJCgnLnRlc3RfY29ubmVjdGlvbicpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKCQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQnKS52YWwoKSAhPSAnJyB8fCAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fc2VjcmV0a2V5JykudmFsKCkgIT0gJycpIHtcbiAgICAgICAgICAgICQoJy50ZXN0X2Nvbm5lY3Rpb24nKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FjY291bnRpZCwgI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleSwgI2lkX3NfdHVybml0aW50b29sdHdvX2FwaXVybCcpLmtleXVwKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnI3Rlc3RpbmdfY29udGFpbmVyJykuaGlkZSgpO1xuXG4gICAgICAgICAgICB2YXIgYWNjb3VudGlkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FjY291bnRpZCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGFjY291bnRzaGFyZWQgPSAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fc2VjcmV0a2V5JykudmFsKCk7XG5cbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGV5IGFyZW4ndCBlbXB0eSBzdHJpbmdzLlxuICAgICAgICAgICAgYWNjb3VudGlkID0gYWNjb3VudGlkLnRyaW0oKTtcbiAgICAgICAgICAgIGFjY291bnRzaGFyZWQgPSBhY2NvdW50c2hhcmVkLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChhY2NvdW50aWQubGVuZ3RoID09IDAgfHwgYWNjb3VudHNoYXJlZC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcudGVzdF9jb25uZWN0aW9uJykuaGlkZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcudGVzdF9jb25uZWN0aW9uJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoJyN0ZXN0X2xpbmsnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyN0ZXN0X2xpbmsnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJ2lucHV0LCAjaWRfc190dXJuaXRpbnRvb2x0d29fYXBpdXJsJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICQoJyN0ZXN0X2xpbmsnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiI3Rlc3RfcmVzdWx0XCIpLmNzcygnb3BhY2l0eScsICcnKTtcbiAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLnJlbW92ZUNsYXNzKCd0ZXN0X2xpbmtfc3VjY2VzcyB0ZXN0X2xpbmtfZmFpbCcpO1xuICAgICAgICAgICAgJCgnI3Rlc3RpbmdfY29udGFpbmVyJykuc2hvdygpO1xuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgVXJsIGRlcGVuZGluZyBvbiBTZXR0aW5ncyBwYWdlLlxuICAgICAgICAgICAgdmFyIHVybCA9IFwiYWpheC5waHBcIjtcbiAgICAgICAgICAgIGlmICgkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmcnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdXJsID0gXCIuLi9tb2QvdHVybml0aW50b29sdHdvL2FqYXgucGhwXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBhY2NvdW50aWQgPSAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fYWNjb3VudGlkJykudmFsKCk7XG4gICAgICAgICAgICB2YXIgYWNjb3VudHNoYXJlZCA9ICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19zZWNyZXRrZXknKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBhY2NvdW50dXJsID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FwaXVybCcpLnZhbCgpO1xuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBcInRlc3RfY29ubmVjdGlvblwiLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5LCBhY2NvdW50aWQ6IGFjY291bnRpZCwgYWNjb3VudHNoYXJlZDogYWNjb3VudHNoYXJlZCwgdXJsOiBhY2NvdW50dXJsfSxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RpbmdfY29udGFpbmVyJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvbm5lY3Rpb25fc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5hZGRDbGFzcygndGVzdF9saW5rX3N1Y2Nlc3MnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmFkZENsYXNzKCd0ZXN0X2xpbmtfZmFpbCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RfcmVzdWx0JykuaHRtbChkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RfbGluaycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXQsICNpZF9zX3R1cm5pdGludG9vbHR3b19hcGl1cmwnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufSk7Il19
