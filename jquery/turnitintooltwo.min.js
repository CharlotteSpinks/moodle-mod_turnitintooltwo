jQuery(document).ready(function($){function enableEditingText(e){$("#tabs-"+e+" .editable_date, #tabs-"+e+" .editable_text").editable("enable")}function disableEditingText(e){$("#tabs-"+e+" .editable_date, #tabs-"+e+" .editable_text").editable("disable")}function getLoadingGif(){var e='<div class="loading_gif"></div>';$("#cboxOverlay").after(e);var t=$(window).scrollTop()+$(window).height()/2;$(".loading_gif").css("top",t+"px")}function hideLoadingGif(){$(".loading_gif").remove()}function getSubmissions(table,assignment_id,part_id,start,refresh_requested,total){$.ajax({dataType:"json",type:"POST",url:"ajax.php",async:!0,data:{action:"get_submissions",assignment:assignment_id,part:part_id,start:start,refresh_requested:refresh_requested[part_id],sesskey:M.cfg.sesskey,total:total},success:function(result){if(eval(result),start=result.end,result.aaData.length>0&&table.fnAddData(result.aaData),result.end<result.total)getSubmissions(table,assignment_id,part_id,start,refresh_requested,result.total);else{$("#"+part_id+"_processing").attr("style","visibility: hidden"),refresh_requested[part_id]=0;var allrefreshed=1;$.each(refresh_requested,function(e,t){1==t&&(allrefreshed=0)}),1==allrefreshed&&($(".refreshing_link").hide(),$(".refresh_link").show()),submitVisibility(),enableEditingText(part_id),result.nonsubmitters>0&&$(".nonsubmitters_link").attr("style","display: block")}},error:function(e,t){$("#"+part_id+"_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.tiisubmissionsgeterror)}})}function submitVisibility(){1==$(".upload_box").data("user-type")||1==$(".upload_box").data("eula")?$(".upload_box").show():$(".upload_box").hide()}function refreshRubricSelect(){var e=$("#id_rubric").length?"#id_rubric":"#id_plagiarism_rubric",t=$(e).val();$.ajax({dataType:"json",type:"POST",url:"../mod/turnitintooltwo/ajax.php",data:{action:"refresh_rubric_select",assignment:$('input[name="instance"]').val(),modulename:$('input[name="modulename"]').val(),course:$('input[name="course"]').val()},success:function(i){$($(e)).empty();var a=i;$.each(a,function(t,i){$($(e)).append($("<option>",{value:t,text:i}))}),$(e+' option[value="'+t+'"]').attr("selected","selected")}})}function refreshUserMessages(){$(".messages_loading").show(),$(".messages_amount").html(""),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"refresh_user_messages",assignment:$("#assignment_id").html()},success:function(e){$(".messages_loading").hide(),$(".messages_amount").html(e)}})}function resetPeermarkSection(e){$("#tabs-"+e+" .toggle_peermarks").hide(),$("#tabs-"+e+" .peermark_count").html(""),$("#tabs-"+e+" .peermark-loading").show(),$("#tabs-"+e+" .peermark_assignments_container").hide()}function refreshPeermarkAssignments(part_id,refresh_requested){var user_role=$(".tii_peermark_manager_launch").length>0?"Instructor":"Learner";$("#tabs-"+part_id+" .peermark_assignments_container").length>0&&(resetPeermarkSection(part_id),$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"refresh_peermark_assignments",assignment:$("#assignment_id").html(),part:part_id,refresh_requested:refresh_requested,sesskey:M.cfg.sesskey},success:function(data){eval(data),$("#tabs-"+part_id+" .peermark_assignments_container").html(data.peermark_table),$("#tabs-"+part_id+" .peermark-loading").hide(),$("#tabs-"+part_id+" .peermark_count").html(data.no_of_peermarks),data.no_of_peermarks>0?$("#tabs-"+part_id+" .toggle_peermarks").show():$("#tabs-"+part_id+" .toggle_peermarks").hide(),(data.no_of_peermarks>0&&"Instructor"==user_role||data.peermarks_active&&"Learner"==user_role)&&$("#tabs-"+part_id+" .row_peermark_reviews").show(),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())&&data.no_of_peermarks>0?($(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())}}))}function initialiseUnanoymiseForm(scope,assignment_id,submission_id){var identifier="a.unanonymise";"row"==scope&&(identifier="#submission_"+submission_id),$(identifier).colorbox({inline:!0,width:"50%",top:"100px",height:"260px",opacity:"0.7",className:"tii_unanonymise_reveal_form",onComplete:function(){var idStr=$(this).attr("id").split("_");if(0==submission_id||void 0==submission_id)var submission_id=idStr[1];0==assignment_id&&(assignment_id=$("#assignment_id").html()),$("#submission_id").html(submission_id),$("#cboxLoadedContent .unanonymise_form").show(),$("#id_reveal").unbind("click"),$("#id_reveal").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"reveal_submission_name",assignment:assignment_id,submission_id:submission_id,reason:encodeURIComponent($("#id_anonymous_reveal_reason").val()),sesskey:M.cfg.sesskey},success:function(data){if(eval(data),"success"==data.status)$.colorbox.close(),$("#submission_"+submission_id).attr("href",M.cfg.wwwroot+"/user/view.php?id="+data.userid+"&course="+data.courseid),$("#submission_"+submission_id).html(data.name),$("#submission_"+submission_id).removeClass("unanonymise cboxElement");else{var current_msg=$("#unanonymise_desc").html;$("#unanonymise_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".unanonymise_form").hide()}})}function initialiseUploadBox(e,t,i,a){var s=".upload_box";"row"==e&&(s="#upload_"+t+"_"+i+"_"+a);var n="80%",o="80%";$(s).colorbox({onLoad:function(){getLoadingGif(),lightBoxCloseButton(),$(this).hide()},onClosed:function(){hideLoadingGif()},onCleanup:function(){hideLoadingGif();var e=$(this).attr("id").split("_");refreshInboxRow("upload",e[1],e[2],e[3]),$("#tii_close_bar").remove()},iframe:!0,width:n,height:o,opacity:"0.7",className:"upload",transition:"none"})}function initialiseZipDownloads(e){$("#tabs-"+e+" .orig_zip_open, #tabs-"+e+" .pdf_zip_open, #tabs-"+e+" .xls_inbox_open").unbind("click"),$("#tabs-"+e+" .orig_zip_open, #tabs-"+e+" .pdf_zip_open, #tabs-"+e+" .xls_inbox_open").click(function(){var e=$(this).attr("id").split("_");downloadZipFile(e[0]+"_"+e[1],e[2])}),$("#tabs-"+e+" .downloadpdf_box").colorbox({iframe:!0,width:"40%",height:"60%",opacity:"0.7",className:"downloadpdf_window",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),$(document).on("click","#tabs-"+e+" .gmpdfzip_box",function(t){return $(this).colorbox({open:!0,iframe:!0,width:"786px",height:"300px",opacity:"0.7",className:"gmpdfzip_window",transition:"none",href:function(){var t="";return $("#tabs-"+e+" .inbox_checkbox:checked").each(function(e){t+="&submission_id"+e+"="+$(this).val(),e++}),$(this).attr("href")+t},onLoad:function(){getLoadingGif()},onCleanup:function(){hideLoadingGif()},onClosed:function(){refreshUserMessages()}}),!1})}function lightBoxCloseButton(){$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseDigitalReceipt(){$(".tii_digital_receipt").length>0&&$(".tii_digital_receipt").colorbox({iframe:!0,width:"832px",height:"482px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}})}function initialiseHiddenZipDownloads(e){$("#tabs-"+e+" .origchecked_zip_open").unbind("click"),$("#tabs-"+e+" .origchecked_zip_open").click(function(){var t=$(this).attr("id").split("_");return downloadZipFile(t[0]+"_"+t[1],e),!1})}function initialiseRefreshRow(e,t,i,a){var s=".refresh_row .fa-refresh";"row"==e&&(s="#refreshrow_"+t+"_"+i+"_"+a+" .fa-refresh"),$(s).unbind("click"),$(s).click(function(){$(this).hide(),$(this).siblings(".fa-spinner").css("display","inline-block").addClass("fa-lg");var e=$(this).parent().attr("id").split("_");refreshInboxRow(e[0],e[1],e[2],e[3])})}function initialiseDVLaunchers(e,t,i,a){var s="#"+i+" .download_original_open";"row"==e&&(s="#downloadoriginal_"+t+"_"+i+"_"+a),$(s).unbind("click"),$(s).click(function(){var e=$(this).attr("id").split("_");$(this).children(".score_colour").hasClass("score_colour_")||downloadOriginalFile(e[0],e[1],e[2],e[3])})}function downloadZipFile(e,t){var i=[];"origchecked_zip"!=e&&"gmpdf_zip"!=e||$("#tabs-"+t+" .inbox_checkbox:checked").each(function(e){i[e]=$(this).val()}),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:e,assignment:$("#assignment_id").html(),part:t,submission_ids:i},success:function(i){$("#"+e+"_form_"+t).html(i),$("#"+e+"_form_"+t).children("form").submit(),$("#"+e+"_form_"+t).html("")}})}function downloadOriginalFile(e,t,i,a){$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"html",data:{action:e,submission:t,assignment:$("#assignment_id").html()},success:function(i){$("#"+e+"_form_"+t).html(i),$("#"+e+"_form_"+t).children("form").submit(),$("#"+e+"_form_"+t).html("")}})}function checkDVClosed(e){window.dvWindow.closed?$("#refresh_"+e).click():setTimeout(function(){checkDVClosed(e)},500)}function submitNothing(user_id,part_id){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-spin fa-spinner fa-lg"),$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"submit_nothing",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){eval(data),$.cookie("submitnothingaccept",!0,{expires:365}),$("table#"+part_id+" .select_all_checkbox").attr("checked",!1)},error:function(e){$("#submitnothing_0_"+part_id+"_"+user_id+" i").attr("class","fa fa-pencil fa-lg"),$("#submitnothing_0_"+part_id+"_"+user_id).removeClass("disabled"),alert(e.responseText)},complete:function(){refreshInboxRow("submitnothing",0,part_id,user_id)}})}function refreshInboxRow(link,submission_id,part_id,user_id){$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"refresh_submission_row",assignment:$("#assignment_id").html(),part:part_id,user:user_id,sesskey:M.cfg.sesskey},success:function(data){$("table#"+part_id+" .select_all_checkbox").attr("checked",!1),eval(data);var i=0;0==submission_id?(link+="_0",submission_id=data.submission_id):link=null==data.submission_id&&0!=submission_id?link+"_"+submission_id:link+"_"+data.submission_id,0!=submission_id&&$("#export_links").removeClass("hidden_class"),oTable=$("table#"+part_id).dataTable();var tr=$("#"+link+"_"+part_id+"_"+user_id).parent().parent(),rowindex=tr.index();oTable.fnDeleteRow(tr),oTable.fnAddData(data.row),submitVisibility(),initialiseUploadBox("row",data.submission_id,part_id,user_id),initialiseDVLaunchers("row",data.submission_id,part_id,user_id),initialiseRefreshRow("row",data.submission_id,part_id,user_id),initialiseCheckboxes(data.submission_id,part_id),initialiseUnanoymiseForm("row",$("#assignment_id").html(),data.submission_id)}})}function initialiseCheckboxes(e,t){var i="#tabs-"+t+" .inbox_checkbox";0!=e&&(i="check_"+e),$("#tabs-"+t+" .inbox_checkbox").click(function(){$("table#"+t+" .select_all_checkbox").attr("checked",!1)}),$(document).on("click",i+", .select_all_checkbox",function(){$("#tabs-"+t+" .inbox_checkbox:checked").length>0?($("#tabs-"+t+" .zip_downloads").slideDown(),initialiseHiddenZipDownloads(t)):($("#tabs-"+t+" .origchecked_zip_open").unbind("click"),$("#tabs-"+t+" .zip_downloads").slideUp())})}function showPartDatesBoxes(){for(var e=0;5>=e;e++)e<=$("#id_numparts").val()?$('fieldset[id$="partdates'+e+'"]').slideDown():$('fieldset[id$="partdates'+e+'"]').slideUp()}if($(".js_required").show(),$(".js_hide").hide(),1==$("#id_submissiontype").val()&&$("#id_submissiontext").parent().parent().hide(),2==$("#id_submissiontype").val()&&$("#id_submissionfile").parent().parent().hide(),$("#id_submissionagreement").length&&$("#id_submitbutton").attr("disabled","disabled"),$("#id_submissionagreement").on("click",function(){$(this).is(":checked")?$("#id_submissionagreement").each(function(){$("#id_submitbutton").removeAttr("disabled")}):$("#id_submissionagreement").each(function(){$("#id_submitbutton").attr("disabled","disabled")})}),$(document).on("click",".delete_paper",function(){var e=$(this).data("confirm"),t=M.str.turnitintooltwo[e].replace(/\\n/g,"\n"),i=confirm(t);i&&$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"deletesubmission",sesskey:M.cfg.sesskey,paper:$(this).data("paper"),part:$(this).data("part"),assignment:$(this).data("assignment")},success:function(){window.location.href=window.location.href}})}),$(document).on("click",".submit_nothing",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var e=$(this).prop("id").split("_")[2],t=$(this).prop("id").split("_")[3],i=M.str.turnitintooltwo.submitnothingwarning.replace(/<br>/g,"\n").replace(/&#39;/g,"'"),a=$.cookie("submitnothingaccept");a||confirm(i)?submitNothing(t,e):$(this).removeClass("disabled")}}),$(document).on("change","#id_submissiontype",function(){1==$("#id_submissiontype").val()&&($("#id_submissiontext").parent().parent().hide(),$("#id_submissionfile").parent().parent().show()),2==$("#id_submissiontype").val()&&($("#id_submissionfile").parent().parent().hide(),$("#id_submissiontext").parent().parent().show())}),$(document).on("submit",".submission_form_container form",function(){return $("#id_submissiontitle").val().length>0?($("#general").slideUp("slow"),$(".mod_turnitintooltwo .noticebox").slideUp("slow"),$(".submission_form_container form").slideUp("slow"),$("#submitting_loader").slideDown("slow"),!0):!1}),$(".toggle_summary").length>0&&($.cookie("show_summary_"+$("#assignment_id").html())||$.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_summary_"+$("#assignment_id").html())?($(".hide_summary_"+$("#assignment_id").html()).show(),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideDown()):($(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp()),$(".toggle_summary i").click(function(){$(this).hasClass("show_summary_"+$("#assignment_id").html())?($.cookie("show_summary_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).hide(),$(".hide_summary_"+$("#assignment_id").html()).show(),$(".introduction").slideDown()):($.cookie("show_summary_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_summary_"+$("#assignment_id").html()).show(),$(".hide_summary_"+$("#assignment_id").html()).hide(),$(".introduction").slideUp())})),$(".toggle_peermarks").length>0&&($.cookie("show_peermarks_"+$("#assignment_id").html())||$.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),"true"==$.cookie("show_peermarks_"+$("#assignment_id").html())?($(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideDown()):($(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp()),$(".toggle_peermarks i").click(function(){$(this).hasClass("show_peermarks_"+$("#assignment_id").html())?($.cookie("show_peermarks_"+$("#assignment_id").html(),!0,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).hide(),$(".hide_peermarks_"+$("#assignment_id").html()).show(),$(".peermark_assignments_container").slideDown()):($.cookie("show_peermarks_"+$("#assignment_id").html(),!1,{expires:30}),$(".show_peermarks_"+$("#assignment_id").html()).show(),$(".hide_peermarks_"+$("#assignment_id").html()).hide(),$(".peermark_assignments_container").slideUp())})),$(document).on("click",".show_peermark_instructions, .hide_peermark_instructions",function(){var e=$(this).attr("id").split("_");"show"==e[0]?($("#show_peermark_instructions_"+e[3]).hide(),$("#hide_peermark_instructions_"+e[3]).show(),$("#peermark_instructions_"+e[3]).slideDown()):($("#show_peermark_instructions_"+e[3]).show(),$("#hide_peermark_instructions_"+e[3]).hide(),$("#peermark_instructions_"+e[3]).slideUp())}),showPartDatesBoxes(),$(document).on("change","#id_numparts",function(){showPartDatesBoxes()}),$("#dataTable").length>0&&$("#dataTable").dataTable(),"undefined"!=typeof M.str.turnitintooltwo)var dataTablesLang={sProcessing:'<span class="loading-message">'+M.str.turnitintooltwo.sprocessing+"</span>",sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};if($("#tabs").length>0){var activeTab=0;$("#tab_position").length>0&&(activeTab=$("#tab_position").text()),$("#tabs").tabs({active:activeTab,show:function(){var e=$.fn.dataTable.fnTables(!0);e.length>0&&$(e).dataTable().fnAdjustColumnSizing()}})}$(".enrolledMembers").length>0&&$(".enrolledMembers").dataTable({bProcessing:!0,sAjaxSource:"ajax.php",aoColumnDefs:[{bSortable:!1,sClass:"centered_cell",aTargets:[0]},{sClass:"left",aTargets:[1]}],oLanguage:dataTablesLang,fnServerData:function(e,t,i){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"get_members",assignment:$("#assignment_id").html(),role:$("#user_role").html()},success:function(e){i(e)},error:function(e,t){$(".dataTables_processing").attr("style","visibility: hidden"),$(".dataTables_empty").html(M.str.turnitintooltwo.membercheckerror)}})}});for(var submissionsDataTableColumns=[],visibleCols=[],noOfColumns=$("table.submissionsDataTable th").length/$("table.submissionsDataTable").length,showOrigReport=$("table.submissionsDataTable th.creport").length>0,useGradeMark=$("table.submissionsDataTable th.cgrade").length>0,multipleParts=$("table.submissionsDataTable th.coverallgrade").length>0,i=0;noOfColumns>i;i++)2==i?(submissionsDataTableColumns.push(null),visibleCols.push(!0)):4==i?(submissionsDataTableColumns.push({iDataSort:i-1,sType:"string"}),visibleCols.push(!0)):5==i?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):7==i||9==i&&showOrigReport||9==i&&!showOrigReport||11==i&&useGradeMark?(submissionsDataTableColumns.push({sClass:"right",iDataSort:i-1,sType:"numeric"}),visibleCols.push(!0)):12==i&&showOrigReport||11==i&&!showOrigReport?(submissionsDataTableColumns.push({sClass:"right"}),visibleCols.push(!0)):1==i||i>=8&&!showOrigReport&&!useGradeMark||i>=10&&(!showOrigReport&&useGradeMark||showOrigReport&&!useGradeMark)||i>=12&&showOrigReport&&useGradeMark?(submissionsDataTableColumns.push({sClass:"center",bSortable:!1}),visibleCols.push(!0)):(0==i||3==i||6==i||8==i&&showOrigReport||8==i&&!showOrigReport||10==i&&useGradeMark)&&(submissionsDataTableColumns.push({bVisible:!1}),visibleCols.push(!1));var partTables=[],refreshRequested=[];$("table.submissionsDataTable").each(function(){var e=$(this).attr("id");refreshRequested[e]=0,partTables[e]=$("table#"+e).dataTable({bProcessing:!0,aoColumns:submissionsDataTableColumns,aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],aaSorting:[[2,"asc"],[4,"asc"]],sAjaxSource:"ajax.php",oLanguage:dataTablesLang,sDom:'r<"listbar-container"<"top listbar clearfix"lf>><"dt_pagination clearfix"pi>t<"bottom"><"dt_pagination clearfix"pi>',fnServerData:function(t,i,a){$.ajax({dataType:"json",type:"POST",url:t,data:{action:"initialise_redraw"},success:function(t){disableEditingText(e),a(t),$("#"+e+"_processing").attr("style","visibility: visible"),getSubmissions(partTables[e],$("#assignment_id").html(),e,0,refreshRequested,0)}})},bStateSave:!0,fnStateSave:function(t,i){try{localStorage.setItem(e+"DataTables",JSON.stringify(i))}catch(a){}},fnStateSaveParams:function(e,t){t.abVisCols=visibleCols},fnStateLoad:function(t){try{return JSON.parse(localStorage.getItem(e+"DataTables"))}catch(i){}},fnStateLoadParams:function(e,t){t.abVisCols=visibleCols},fnDrawCallback:function(t){initialiseDigitalReceipt(),initialiseDVLaunchers("all",0,e,0),initialiseRefreshRow("all",0,e,0),initialiseUploadBox("all",0,0,0),initialiseZipDownloads(e),initialiseCheckboxes(0,e),initialiseUnanoymiseForm("all",0,0)}})}),$("table.submissionsDataTable").each(function(){var e=$(this).attr("id");refreshPeermarkAssignments(e,0)}),$(".messages_amount").length>0&&refreshUserMessages(),$(".tii_table_functions").each(function(){var e=$(this).attr("id").split("tii_table_functions_")[1],t=$("#tii_table_functions_"+e).html();$("#tii_table_functions_"+e).remove(),$("#"+e+"_length").after(t),$(".messages_inbox").show(),$("#refresh_"+e).show(),$("#refreshing_"+e).hide()});var zip_downloads=$(".zip_downloads");if($.each(zip_downloads,function(){var e=$(this).attr("id").split("_")[1];$(this).remove(),$("#"+e+"_length").after($(this))}),"Learner"==$("#user_role").html()&&$(".dataTables_length, .dataTables_filter, .dt_pagination").hide(),$(".refresh_link").click(function(){return $(this).is(":visible")&&($(".refresh_link").hide(),$(".refreshing_link").show(),$("table.submissionsDataTable").each(function(){refreshRequested[$(this).attr("id")]=1,partTables[$(this).attr("id")].fnReloadAjax(),partTables[$(this).attr("id")].fnStandingRedraw()})),!1}),$(".submission_failure_msg").length>0&&window.parent.$(".upload_box").colorbox.resize({width:"800px",height:"240px"}),$(".enrol_link").click(function(){$("#enrolling_error").hide(),$(".enrol_link").hide(),$(".enrolling_container").show(),$.ajax({type:"POST",url:"ajax.php",dataType:"html",data:{action:"enrol_all_students",assignment:$("#assignment_id").html(),sesskey:M.cfg.sesskey},success:function(e){window.location.href=window.location.href},error:function(e,t){$(".enrol_link").show(),$(".enrolling_container").hide(),$("#enrolling_error").show()}})}),$(".rubric_manager_launch").length>0&&$(".rubric_manager_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){hideLoadingGif(),"rubric_manager_inbox_launch"!=$(this).attr("id")&&refreshRubricSelect(),$("#tii_close_bar").remove()}}),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$("#id_rubric, #id_plagiarism_rubric").focus(function(){""!=$('input[name="instance"]').val()&&"Y"!=$('input[name="rubric_warning_seen"]').val()&&confirm(M.str.turnitintooltwo.changerubricwarning)&&$('input[name="rubric_warning_seen"]').val("Y")}),($(".quickmark_manager_launch").length>0||$(".plagiarism_turnitin_quickmark_manager_launch").length>0)&&$(".quickmark_manager_launch, .plagiarism_turnitin_quickmark_manager_launch").colorbox({iframe:!0,width:"770px",height:"600px",opacity:"0.7",className:"quickmark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".tii_peermark_manager_launch").length>0&&$(".tii_peermark_manager_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_manager",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()},onClosed:function(){var e=$(this).attr("id").split("_");refreshPeermarkAssignments(e[2],1)}}),$(".tii_peermark_reviews_launch").length>0&&$(".tii_peermark_reviews_launch").colorbox({iframe:!0,width:"802px",height:"772px",opacity:"0.7",className:"peermark_reviews",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".messages_inbox").length>0&&$(".messages_inbox").colorbox({iframe:!0,width:"772px",height:"772px",opacity:"0.7",className:"messages",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmitters_link").length>0&&$(".nonsubmitters_link").colorbox({iframe:!0,width:"740px",height:"540px",opacity:"0.7",className:"nonsubmitters",transition:"none",closeButton:!1,onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(".nonsubmittersformsuccessmsg").length>0&&(hideLoadingGif(),window.parent.$(".nonsubmitters").colorbox.resize({width:"740px",height:"120px"})),$(".rubric_view_launch").length>0&&$(".rubric_view_launch").colorbox({iframe:!0,width:"832px",height:"682px",opacity:"0.7",className:"rubric_view",transition:"none",onLoad:function(){lightBoxCloseButton(),getLoadingGif()},onCleanup:function(){$("#tii_close_bar").remove(),hideLoadingGif()}}),$(document).on("click",".default_open, .origreport_open, .grademark_open",function(){var e=!0,t=$(this).attr("id").split("_"),i=$("#date_due_"+t[2]).html(),a=moment(i).unix(),s=t[0],n=t[1],o=t[2];if(a>moment().unix()&&$(this).hasClass("graded_warning")&&(confirm(M.str.turnitintooltwo.resubmissiongradewarn)||(e=!1)),e){dvWindow=window.open("","_blank");var r='<div style="text-align:center;">';r+='<img src="'+M.cfg.wwwroot+'/mod/turnitintooltwo/pix/tiiIcon.svg" style="width:100px; height: 100px">',r+='<p style="font-family: Arial, Helvetica, sans-serif;">'+M.str.turnitintooltwo.loadingdv+"</p>",r+="</div>",$(dvWindow.document.body).html(r),$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:s,submission:n,assignment:$("#assignment_id").html()},success:function(e){$(dvWindow.document.body).html(r+e),dvWindow.document.forms[0].submit(),dvWindow.document.close(),checkDVClosed(o)}})}}),$("#id_rubric, #id_plagiarism_rubric").length>0&&refreshRubricSelect(),self!=top&&"box"==$("#view_context").html()?$("html").css("background","none"):self!=top&&"box_solid"==$("#view_context").html()&&$("html").css("background","#FFF"),$(".editable_postdue").on("click",function(){1==$(this).data("anon")&&alert(M.str.turnitintooltwo.postdate_warning)}),$(".editable_text").length>0){$.fn.editable.defaults.mode="inline",$.fn.editable.defaults.url="ajax.php",$.fn.editable.defaults.onblur="submit",$.fn.editable.defaults.showbuttons=!1,$.fn.editable.defaults.ajaxOptions={dataType:"json"},$(".editable_text").editable({validate:function(e){return $(this).attr("id").indexOf("marks_")>=0&&(Math.floor(e)!=e||!$.isNumeric(e)||-1!=e.indexOf("."))?M.str.turnitintooltwo.maxmarkserror:void 0},success:function(e,t){if(!e.success)return e.msg;if("maxmarks"==e.field)$("#refresh_"+e.partid).click();else if("partname"==e.field){var i=$(this).parentsUntil(".ui-tabs-panel").parent().attr("aria-labelledby");$("#"+i).text(t)}}}),$("#export_options").hasClass("tii_export_options_hide")&&($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')),$(".editable_postdue").on("click",function(){var e=$(this);$.ajax({type:"POST",url:"ajax.php",dataType:"json",data:{action:"check_anon",part:e.data("pk"),assignment:$("#assignment_id").html()},success:function(t){e.data("anon",t.anon),e.data("unanon",t.unanon),e.data("submitted",t.submitted)}})});var theDate=new Date;$(".editable_date").editable({type:"combodate",format:"YYYY-MM-DD HH:mm",viewformat:"D MMM YYYY, HH:mm",template:"D MMM YYYY  HH:mm",combodate:{minuteStep:1,minYear:2e3,maxYear:theDate.getFullYear()+2,smartDays:!0},validate:function(e){return e.format("X")<moment().unix()&&$(this).hasClass("editable_postdue")&&1==$(this).data("anon")&&0==$(this).data("unanon")&&1==$(this).data("submitted")&&!confirm(M.str.turnitintooltwo.disableanonconfirm)?($(".editable-open").editableContainer("hide")," "):void 0},success:function(e,t){return e.success?($("#refresh_"+e.partid).click(),void("tii_export_options_hide"==e.export_option?($("#export_options").hide(),$(".export_data").html('<span class="empty-dash">--</span>')):($(".empty-dash").remove(),$("#export_options").show()))):e.msg}}),$(".editable_date").click(function(){return $(this).hasClass("editable-disabled")?!1:void 0}),$(".editable_date, .editable_text").on("shown",function(e,t){var i=$(this).prop("id");$(".editable_date, .editable_text").not("#"+i).editable("disable"),$(".submit_nothing").addClass("disabled")}),$(".editable_date, .editable_text").on("hidden",function(){var e=$(this).prop("id");$(".editable_date, .editable_text").not("#"+e).editable("enable"),$(".submit_nothing").removeClass("disabled")})}$("#inbox_form form, .launch_form form").submit(),$(".turnitin_eula_link").length>0&&$(".turnitin_eula_link").colorbox({iframe:!0,width:"766px",height:"596px",opacity:"0.7",className:"eula_view",scrolling:"false",onLoad:function(){getLoadingGif()},onComplete:function(){$(window).on("message",function(e){var t="undefined"==typeof e.data?e.originalEvent.data:e.data;$.ajax({type:"POST",url:M.cfg.wwwroot+"/mod/turnitintooltwo/ajax.php",dataType:"json",data:{action:"acceptuseragreement",message:t,sesskey:M.cfg.sesskey},success:function(e){window.location.reload()},error:function(e){window.location.reload()}})})},onCleanup:function(){hideLoadingGif()}}),$("#tii_receipt_print").click(function(){window.print()}),$(".select_all_checkbox").on("click",function(){var e=$(this).parent().parent().parent().parent().attr("id");$(this).is(":checked")?($("#"+e+" .inbox_checkbox").length&&$("#tabs-"+e+" .zip_downloads").slideDown(),$("#"+e+" .inbox_checkbox").each(function(){$(this).prop("checked",!0)})):($("#"+e+" .inbox_checkbox").each(function(){$(this).prop("checked",!1)}),$("#"+e+" .inbox_checkbox").length&&$("#tabs-"+e+" .zip_downloads").slideUp())}),$("[id^=fitem_id_dtpost] select").change(function(){var e=$(this).parent().parent().parent(),t=buildUnixDate("#fitem_id_dtpost",e.data("partId"));t<moment().unix()&&1==e.data("anon")&&0==e.data("unanon")&&1==e.data("submitted")&&alert(M.str.turnitintooltwo.anonalert)});var buildUnixDate=function(e,t){var i=["_day","_month","_year","_hour","_minute"];$this=$(e+t);var a="";return $.each(i,function(e,i){a+=$this.find("[id$="+t+i+"] option:selected").text(),"_year"===i?a+=" ":"_hour"===i?a+=":":"_minute"!==i&&(a+="-")}),moment(a,"DD-MMMM-YYYY hh:mm").unix()}}),jQuery(document).ready(function($){function initialiseEditEndDate(){$("a.edit_course_end_link").colorbox({inline:!0,width:"60%",top:"100px",background:"#fff",height:"260px",opacity:"0.7",className:"edit_end_date_form",onLoad:function(){lightBoxCloseButton()},onComplete:function(){var current_date=$("#"+$(this).attr("id")+" span").attr("id");current_date=current_date.split("_"),$("#id_new_course_end_date_day").val(current_date[1]),$("#id_new_course_end_date_month").val(current_date[2]),$("#id_new_course_end_date_year").val(current_date[3]);var idStr=$(this).attr("id").split("_"),tii_course_id=idStr[2];$('input[name="tii_course_id"]').val(tii_course_id),$('input[name="tii_course_title"]').val($("a#course_"+tii_course_id).html()),$("#cboxLoadedContent .edit_course_end_date_form").show(),$("#dateselector-calendar-panel").css("z-index","9999"),$("#id_save_end_date").click(function(){$.ajax({dataType:"json",type:"POST",url:"ajax.php",data:{action:"edit_course_end_date",tii_course_id:tii_course_id,tii_course_title:$("a#course_"+tii_course_id).html(),sesskey:M.cfg.sesskey,end_date_d:$("#id_new_course_end_date_day").val(),end_date_m:$("#id_new_course_end_date_month").val(),end_date_y:$("#id_new_course_end_date_year").val()},success:function(data){if(eval(data),"success"==data.status)parent.$.fn.colorbox.close(),$("#course_date_"+tii_course_id+" span").html(data.end_date);else{var current_msg=$("#edit_end_date_desc").html;$("#edit_end_date_desc").html(current_msg+" "+data.msg)}}})})},onCleanup:function(){$(".edit_course_end_date_form").hide(),$("#tii_close_bar").remove()}})}function lightBoxCloseButton(){
$("body").append('<div id="tii_close_bar"><a href="#" onclick="$.colorbox.close(); return false;">'+M.str.turnitintooltwo.closebutton+"</a></div>")}function initialiseCourseRecreation(){var e=$(window).width(),t="80%";1e3>e&&(t="860px");var i=$(window).width(),a="80%";700>i&&(a="600px"),$("a.course_recreate").colorbox({iframe:!0,width:t,height:a,top:"100px",className:"migration",opacity:"0.7",onLoad:function(){lightBoxCloseButton()},onCleanup:function(){$("#tii_close_bar").remove()}}),$(".browser_checkbox").click(function(){$(".browser_checkbox:checked").length>0?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()})}function initialiseCourseBrowserButtons(e){$("#id_create_course").click(function(){$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_course",tii_course_id:$("#tii_course_id").html(),tii_course_name:encodeURIComponent($("#tii_course_name").html()),course_name:encodeURIComponent($("#id_coursename").val()),course_category:$("#id_coursecategory").val(),sesskey:M.cfg.sesskey},success:function(t){var i=jQuery.parseJSON(t);hideCourseCreationOptions(i,e)}})}),$("#id_update_course").click(function(){$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"link_course",tii_course_id:$("#tii_course_id").html(),tii_course_name:$("#tii_course_name").html(),course_to_link:$("#id_coursetolink").val(),sesskey:M.cfg.sesskey},success:function(t){var i=jQuery.parseJSON(t);hideCourseCreationOptions(i,e)}})})}function hideCourseCreationOptions(e,t){if(0!=e){$("#course_id").html(e.courseid);var i='input[name="check_'+$("#tii_course_id").html()+'"]';parent.$(i).hide();var a="#tick_"+$("#tii_course_id").html();parent.$(a).show(),$('fieldset[id$="create_course_fieldset"]').parent().slideToggle(),$('fieldset[id$="update_course_fieldset"]').parent().slideToggle(),$("#or_container").hide(),$("#existing_course_title_span").html(e.coursename),$(".existing_course_title_h3").removeClass("hidden_class"),$(".assignmentids_check").length>0&&($(".assignmentids_check").removeAttr("disabled"),$("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled")),$(".assignmentids_check").change(function(){$(".assignmentids_check").filter(":checked").length>=5?$(".assignmentids_check").not(":checked").attr("disabled","disabled"):$(".assignmentids_check").removeAttr("disabled")}),initialiseCreateAssignmentButton(t)}}function initialiseCreateAssignmentButton(e){$("#id_create_assignment").unbind("click"),$("#id_create_assignment").click(function(){var t="";$(".assignmentids_check:checked").each(function(e){t+=$(this).val()+","}),","==t.charAt(t.length-1)&&t.substring(0,t.length-1),$("#id_create_assignment").attr("disabled","disabled"),$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_assignment",course_id:$("#course_id").html(),assignment_name:$("#id_assignmentname").val(),parts:t,sesskey:M.cfg.sesskey},success:function(t){e.fnReloadAjax(),e.fnStandingRedraw(),$("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled"),$(".assignmentids_check").removeAttr("disabled")}})})}$(".submissionsDataTable thead tr, #courseBrowserTable thead tr").toggleClass("header");var dataTablesLang={nointegration:M.str.turnitintooltwo.nointegration,sProcessing:M.str.turnitintooltwo.sprocessing,sZeroRecords:M.str.turnitintooltwo.szerorecords,sInfo:M.str.turnitintooltwo.sinfo,sSearch:M.str.turnitintooltwo.ssearch,sLengthMenu:M.str.turnitintooltwo.slengthmenu,sInfoEmpty:M.str.turnitintooltwo.semptytable,oPaginate:{sNext:M.str.turnitintooltwo.snext,sPrevious:M.str.turnitintooltwo.sprevious}};$("#unlinkUserTable").dataTable({bProcessing:!0,bServerSide:!0,oLanguage:dataTablesLang,aaSorting:[[2,"asc"]],aLengthMenu:[[10,25,50,100,-1],[10,25,50,100,"All"]],sAjaxSource:"ajax.php?action=get_users",aoColumns:[{bSortable:!1,fnCreatedCell:function(e,t,i,a,s){$(e).addClass("centered_cell")}},null,{aDataSort:[2,3]},{aDataSort:[3,2]},null],fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1)}}),$("#filesTable").dataTable({bProcessing:!0,bServerSide:!0,oLanguage:dataTablesLang,sAjaxSource:"ajax.php?action=get_files",aoColumns:[null,null,null,{sClass:"filename c0",sWidth:"40%"},null,{sClass:"fullname c1",sWidth:"35%"},null,{sClass:"created c2",sWidth:"22%"},{sClass:"remove c3",sWidth:"3%"}],aoColumnDefs:[{bSearchable:!0,bVisible:!1,aTargets:[0]},{bSearchable:!0,bVisible:!1,aTargets:[1]},{bSearchable:!0,bVisible:!1,aTargets:[2]},{bSearchable:!0,bVisible:!0,aTargets:[3]},{bSearchable:!0,bVisible:!1,aTargets:[4]},{bSearchable:!0,bVisible:!0,aTargets:[5]},{bSearchable:!0,bVisible:!1,aTargets:[6]},{bSearchable:!0,bVisible:!0,aTargets:[7]},{bSearchable:!0,bVisible:!0,aTargets:[8]}],fnDrawCallback:function(e){if(0!=e.aiDisplay.length)for(var t=$("#filesTable tbody tr"),i=t[0].getElementsByTagName("td").length,a="",s=0;s<t.length;s++){var n=(e._iDisplayStart+s,e.aoData[e.aiDisplay[s]]._aData[0]);if(n!=a){var o=document.createElement("tr"),r=document.createElement("td");r.colSpan=i,r.className="group",r.innerHTML=n,o.appendChild(r),t[s].parentNode.insertBefore(o,t[s]),a=n}}},aaSortingFixed:[[0,"asc"]],aaSorting:[[1,"asc"]],sDom:'lfr<"giveHeight"t>ip'}),$.datepicker.regional[""].dateFormat="d M yy",$.datepicker.setDefaults($.datepicker.regional[""]);var courseBrowserTable=$("#courseBrowserTable").dataTable({bProcessing:!0,oLanguage:dataTablesLang,aaSorting:[[6,"asc"]],sAjaxSource:"ajax.php",aoColumnDefs:[{bSearchable:!1,bSortable:!1,sWidth:"5%",bVisible:!0,aTargets:[0],fnCreatedCell:function(e){$(e).addClass("center")}},{bSearchable:!0,bVisible:!0,sWidth:"45%",iDataSort:6,aTargets:[1]},{bSearchable:!0,bVisible:!0,sWidth:"10%",aTargets:[2]},{bSearchable:!0,bVisible:!0,sWidth:"20%",iDataSort:7,aTargets:[3],fnCreatedCell:function(e){$(e).addClass("right")}},{bSearchable:!1,bVisible:!0,sWidth:"10%",aTargets:[4],fnCreatedCell:function(e){$(e).addClass("right")}},{bSearchable:!0,bVisible:!0,sWidth:"10%",aTargets:[5],fnCreatedCell:function(e){$(e).addClass("center")}},{bSearchable:!0,bVisible:!1,aTargets:[6]},{bSearchable:!0,bVisible:!1,aTargets:[7]}],fnServerData:function(e,t,i){$.ajax({dataType:"json",type:"POST",url:e,data:{action:"search_classes",course_title:$("#search_course_title").val(),course_integration:$("#search_course_integration").val(),course_end_date:$("#search_course_end_date").val(),sesskey:M.cfg.sesskey},success:function(e){i(e)}})},bStateSave:!0,fnStateSave:function(e,t){try{localStorage.setItem(uid+"DataTables",JSON.stringify(t))}catch(i){}},fnStateLoad:function(e){try{return JSON.parse(localStorage.getItem(uid+"DataTables"))}catch(t){}},fnDrawCallback:function(){$('input[name="selectallcb"]').attr("checked",!1),initialiseCourseRecreation(),initialiseEditEndDate(),$("#search_courses_button").removeAttr("disabled")}});$("#search_courses_button").click(function(){return $(this).attr("disabled","disabled"),courseBrowserTable.fnReloadAjax(),courseBrowserTable.fnStandingRedraw(),!1}),$("#search_course_end_date").datepicker();var oTable=$("#assignmentBrowserTable").dataTable({bProcessing:!0,oLanguage:dataTablesLang,sAjaxSource:"ajax.php",fnServerData:function(sSource,aoData,fnCallback){$("#id_create_course").attr("disabled","disabled"),$("#id_update_course").attr("disabled","disabled"),$("#assignmentBrowserTable").length>0&&$(".side-pre-only #page-content #region-main").css({"margin-left":"0px"}),$("#id_assignmentname").attr("disabled","disabled"),$("#id_create_assignment").attr("disabled","disabled"),$.ajax({dataType:"json",type:"POST",url:sSource,data:{action:"get_assignments",tii_course_id:$("#tii_course_id").html(),sesskey:M.cfg.sesskey},success:function(result){eval(result),initialiseCourseBrowserButtons(oTable),fnCallback(result),"0"!=$("#course_id").html()&&result.number_of_assignments>0?($("#id_assignmentname").removeAttr("disabled"),$("#id_create_assignment").removeAttr("disabled"),$(".assignmentids_check").removeAttr("disabled"),initialiseCreateAssignmentButton(oTable)):($("#id_assignmentname").attr("disabled","disabled"),$("#id_create_assignment").attr("disabled","disabled"),$(".assignmentids_check").attr("disabled","disabled")),$("#id_create_course").removeAttr("disabled"),$("#id_update_course").removeAttr("disabled")}})},aoColumnDefs:[{bSearchable:!1,bVisible:!0,aTargets:[0]},{bSearchable:!0,bVisible:!0,aTargets:[1],fnCreatedCell:function(e){$(e).addClass("nowrap")}},{bSearchable:!0,bVisible:!0,aTargets:[2]},{bSearchable:!0,bVisible:!0,aTargets:[3]}]});if($("#create_classes_button").colorbox({iframe:!0,width:"60%",top:"200px",height:"124px",opacity:"0.7",className:"course_creation",href:function(){var e=$(".create_course_category").val(),t=$(".create_assignment_checkbox").is(":checked")?"1":"0",i="";$(".browser_checkbox:checked").each(function(e){i+="&class_id"+e+"="+$(this).val(),e++});var a=window.location.href,s=a.replace("cmd=courses","cmd=multiple_class_recreation");return s+"&view_context=box&category="+e+"&assignments="+t+i+"&sesskey="+M.cfg.sesskey},onCleanup:function(){window.location=window.location}}),$("#class_ids").length>0){$(".side-pre-only #page-content #region-main").css({"margin-left":"0px"}),$(".has-region-side-pre #page-content #region-main").css({width:"100%","margin-top":"-30px"});var class_ids=$("#class_ids").html();$.ajax({dataType:"html",type:"POST",url:"ajax.php",data:{action:"create_courses",class_ids:class_ids,course_category:$("#course_category").html(),create_assignments:$("#create_assignments").html(),sesskey:M.cfg.sesskey},success:function(e){$("#course_creation_status").html(e)}})}}),jQuery(document).ready(function($){if($(".settingsform fieldset div.formsettingheading").length>0){var tabmenu=$(".settingsform fieldset div.formsettingheading:first").html();tabmenu.indexOf("tabtree")>=0&&($(".settingsform fieldset div.formsettingheading:first").remove(),$(".settingsform h2:first").after(tabmenu))}$('input[name="selectallcb"]').click(function(){$(this).prop("checked")?($(".browser_checkbox").prop("checked",!0),$(".browser_checkbox:checked").length>0?$(".create_checkboxes").slideDown():$(".create_checkboxes").slideUp()):($(".browser_checkbox").prop("checked",!1),$(".create_checkboxes").slideUp())}),$(".tii_upgrade_check").click(function(e){e.preventDefault();var t="ajax.php";$(".settingsform fieldset div.formsettingheading").length>0&&(t="../mod/turnitintooltwo/ajax.php"),$(".tii_upgrade_check").hide(),$(".tii_upgrading_check").css("display","inline-block");var i=$(this).attr("id").split("_")[1];$.ajax({type:"POST",url:t,dataType:"html",data:{action:"check_upgrade",current_version:i,sesskey:M.cfg.sesskey},success:function(e){var e=$.parseJSON(e);1===e.update?($(".tii_upgrade_check").hide(),$(".tii_upgrading_check").hide(),$(".tii_no_upgrade").html('<a href="'+e.file[0]+'">'+M.str.turnitintooltwo.upgradeavailable+"</a>")):($(".tii_upgrading_check").hide(),$(".tii_upgrade_check").show())}})}),$(".test_connection").length>0&&(""==$("#id_s_turnitintooltwo_accountid").val()&&""==$("#id_s_turnitintooltwo_secretkey").val()||($(".test_connection").show(),$("#test_link").show()),$("#id_s_turnitintooltwo_accountid, #id_s_turnitintooltwo_secretkey, #id_s_turnitintooltwo_apiurl").keyup(function(){$("#testing_container").hide();var e=$("#id_s_turnitintooltwo_accountid").val(),t=$("#id_s_turnitintooltwo_secretkey").val();e=e.trim(),t=t.trim(),0==e.length||0==t.length?($("#test_result").hide(),$(".test_connection").hide()):($(".test_connection").show(),$("#test_link").show())}),$("#test_link").click(function(){$("#test_result").hide(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!0),$("#test_link").hide(),$("#test_result").css("opacity",""),$("#test_result").removeClass("test_link_success test_link_fail"),$("#testing_container").show();var url="ajax.php";$(".settingsform fieldset div.formsettingheading").length>0&&(url="../mod/turnitintooltwo/ajax.php");var accountid=$("#id_s_turnitintooltwo_accountid").val(),accountshared=$("#id_s_turnitintooltwo_secretkey").val(),accounturl=$("#id_s_turnitintooltwo_apiurl").val();$.ajax({type:"POST",url:url,dataType:"json",data:{action:"test_connection",sesskey:M.cfg.sesskey,accountid:accountid,accountshared:accountshared,url:accounturl},success:function(data){eval(data),$("#testing_container").hide(),"success"==data.connection_status?$("#test_result").addClass("test_link_success"):$("#test_result").addClass("test_link_fail"),$("#test_result").html(data.msg),$("#test_result").show(),$("#test_link").show(),$("input, #id_s_turnitintooltwo_apiurl").prop("disabled",!1)}})}))});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInR1cm5pdGludG9vbHR3by5qcyIsInR1cm5pdGludG9vbHR3b19leHRyYS5qcyIsInR1cm5pdGludG9vbHR3b19zZXR0aW5ncy5qcyJdLCJuYW1lcyI6WyJqUXVlcnkiLCJkb2N1bWVudCIsInJlYWR5IiwiJCIsImVuYWJsZUVkaXRpbmdUZXh0IiwicGFydF9pZCIsImVkaXRhYmxlIiwiZGlzYWJsZUVkaXRpbmdUZXh0IiwiZ2V0TG9hZGluZ0dpZiIsImltZyIsImFmdGVyIiwidG9wIiwid2luZG93Iiwic2Nyb2xsVG9wIiwiaGVpZ2h0IiwiY3NzIiwiaGlkZUxvYWRpbmdHaWYiLCJyZW1vdmUiLCJnZXRTdWJtaXNzaW9ucyIsInRhYmxlIiwiYXNzaWdubWVudF9pZCIsInN0YXJ0IiwicmVmcmVzaF9yZXF1ZXN0ZWQiLCJ0b3RhbCIsImFqYXgiLCJkYXRhVHlwZSIsInR5cGUiLCJ1cmwiLCJhc3luYyIsImRhdGEiLCJhY3Rpb24iLCJhc3NpZ25tZW50IiwicGFydCIsInNlc3NrZXkiLCJNIiwiY2ZnIiwic3VjY2VzcyIsInJlc3VsdCIsImV2YWwiLCJlbmQiLCJhYURhdGEiLCJsZW5ndGgiLCJmbkFkZERhdGEiLCJhdHRyIiwiYWxscmVmcmVzaGVkIiwiZWFjaCIsImsiLCJ2IiwiaGlkZSIsInNob3ciLCJzdWJtaXRWaXNpYmlsaXR5Iiwibm9uc3VibWl0dGVycyIsImVycm9yIiwicmVzcG9uc2UiLCJodG1sIiwic3RyIiwidHVybml0aW50b29sdHdvIiwidGlpc3VibWlzc2lvbnNnZXRlcnJvciIsInJlZnJlc2hSdWJyaWNTZWxlY3QiLCJydWJyaWNFbGVtZW50SWQiLCJjdXJyZW50UnVicmljIiwidmFsIiwibW9kdWxlbmFtZSIsImNvdXJzZSIsImVtcHR5Iiwib3B0aW9ucyIsImkiLCJhcHBlbmQiLCJ2YWx1ZSIsInRleHQiLCJyZWZyZXNoVXNlck1lc3NhZ2VzIiwicmVzZXRQZWVybWFya1NlY3Rpb24iLCJyZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyIsInVzZXJfcm9sZSIsInBlZXJtYXJrX3RhYmxlIiwibm9fb2ZfcGVlcm1hcmtzIiwicGVlcm1hcmtzX2FjdGl2ZSIsImNvb2tpZSIsInNsaWRlRG93biIsInNsaWRlVXAiLCJpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0iLCJzY29wZSIsInN1Ym1pc3Npb25faWQiLCJpZGVudGlmaWVyIiwiY29sb3Jib3giLCJpbmxpbmUiLCJ3aWR0aCIsIm9wYWNpdHkiLCJjbGFzc05hbWUiLCJvbkNvbXBsZXRlIiwiaWRTdHIiLCJ0aGlzIiwic3BsaXQiLCJ1bmRlZmluZWQiLCJ1bmJpbmQiLCJjbGljayIsInJlYXNvbiIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0YXR1cyIsImNsb3NlIiwid3d3cm9vdCIsInVzZXJpZCIsImNvdXJzZWlkIiwibmFtZSIsInJlbW92ZUNsYXNzIiwiY3VycmVudF9tc2ciLCJtc2ciLCJvbkNsZWFudXAiLCJpbml0aWFsaXNlVXBsb2FkQm94IiwidXNlcl9pZCIsImNvbG9yQm94V2lkdGgiLCJjb2xvckJveEhlaWdodCIsIm9uTG9hZCIsImxpZ2h0Qm94Q2xvc2VCdXR0b24iLCJvbkNsb3NlZCIsInJlZnJlc2hJbmJveFJvdyIsImlmcmFtZSIsInRyYW5zaXRpb24iLCJpbml0aWFsaXNlWmlwRG93bmxvYWRzIiwiZG93bmxvYWRaaXBGaWxlIiwib24iLCJlIiwib3BlbiIsImhyZWYiLCJzdWJtaXNzaW9uX2lkcyIsImNsb3NlYnV0dG9uIiwiaW5pdGlhbGlzZURpZ2l0YWxSZWNlaXB0IiwiaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyIsImluaXRpYWxpc2VSZWZyZXNoUm93Iiwic2libGluZ3MiLCJhZGRDbGFzcyIsInBhcmVudCIsImluaXRpYWxpc2VEVkxhdW5jaGVycyIsImNoaWxkcmVuIiwiaGFzQ2xhc3MiLCJkb3dubG9hZE9yaWdpbmFsRmlsZSIsImRvd25sb2FkdHlwZSIsInN1Ym1pdCIsImR2dHlwZSIsInN1Ym1pc3Npb24iLCJjaGVja0RWQ2xvc2VkIiwiZHZXaW5kb3ciLCJjbG9zZWQiLCJzZXRUaW1lb3V0Iiwic3VibWl0Tm90aGluZyIsInVzZXIiLCJleHBpcmVzIiwiYWxlcnQiLCJyZXNwb25zZVRleHQiLCJjb21wbGV0ZSIsImxpbmsiLCJvVGFibGUiLCJkYXRhVGFibGUiLCJ0ciIsInJvd2luZGV4IiwiaW5kZXgiLCJmbkRlbGV0ZVJvdyIsInJvdyIsImluaXRpYWxpc2VDaGVja2JveGVzIiwic2hvd1BhcnREYXRlc0JveGVzIiwiaXMiLCJyZW1vdmVBdHRyIiwiY29uZmlybXN0cm5hbWUiLCJjb25maXJtc3RyIiwicmVwbGFjZSIsImNvbmZpcm1yZXN1bHQiLCJjb25maXJtIiwicGFwZXIiLCJsb2NhdGlvbiIsInByb3AiLCJzdHVkZW50X2lkIiwibWVzc2FnZSIsInN1Ym1pdG5vdGhpbmd3YXJuaW5nIiwiY29va2llc2VlbiIsImRhdGFUYWJsZXNMYW5nIiwic1Byb2Nlc3NpbmciLCJzcHJvY2Vzc2luZyIsInNaZXJvUmVjb3JkcyIsInN6ZXJvcmVjb3JkcyIsInNJbmZvIiwic2luZm8iLCJzU2VhcmNoIiwic3NlYXJjaCIsInNMZW5ndGhNZW51Iiwic2xlbmd0aG1lbnUiLCJvUGFnaW5hdGUiLCJzTmV4dCIsInNuZXh0Iiwic1ByZXZpb3VzIiwic3ByZXZpb3VzIiwiYWN0aXZlVGFiIiwidGFicyIsImFjdGl2ZSIsImZuIiwiZm5UYWJsZXMiLCJmbkFkanVzdENvbHVtblNpemluZyIsImJQcm9jZXNzaW5nIiwic0FqYXhTb3VyY2UiLCJhb0NvbHVtbkRlZnMiLCJiU29ydGFibGUiLCJzQ2xhc3MiLCJhVGFyZ2V0cyIsIm9MYW5ndWFnZSIsImZuU2VydmVyRGF0YSIsInNTb3VyY2UiLCJhb0RhdGEiLCJmbkNhbGxiYWNrIiwicm9sZSIsIm1lbWJlcmNoZWNrZXJyb3IiLCJzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMiLCJ2aXNpYmxlQ29scyIsIm5vT2ZDb2x1bW5zIiwic2hvd09yaWdSZXBvcnQiLCJ1c2VHcmFkZU1hcmsiLCJtdWx0aXBsZVBhcnRzIiwicHVzaCIsImlEYXRhU29ydCIsInNUeXBlIiwiYlZpc2libGUiLCJwYXJ0VGFibGVzIiwicmVmcmVzaFJlcXVlc3RlZCIsImFvQ29sdW1ucyIsImFMZW5ndGhNZW51IiwiYWFTb3J0aW5nIiwic0RvbSIsImJTdGF0ZVNhdmUiLCJmblN0YXRlU2F2ZSIsIm9TZXR0aW5ncyIsIm9EYXRhIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmblN0YXRlU2F2ZVBhcmFtcyIsImFiVmlzQ29scyIsImZuU3RhdGVMb2FkIiwicGFyc2UiLCJnZXRJdGVtIiwiZm5TdGF0ZUxvYWRQYXJhbXMiLCJmbkRyYXdDYWxsYmFjayIsInRpaV90YWJsZV9mdW5jdGlvbnMiLCJ6aXBfZG93bmxvYWRzIiwiZm5SZWxvYWRBamF4IiwiZm5TdGFuZGluZ1JlZHJhdyIsInJlc2l6ZSIsImZvY3VzIiwiY2hhbmdlcnVicmljd2FybmluZyIsImNsb3NlQnV0dG9uIiwicHJvY2VlZCIsImR1ZV9kYXRlIiwiZHVlX2RhdGVfdW5peCIsIm1vbWVudCIsInVuaXgiLCJyZXN1Ym1pc3Npb25ncmFkZXdhcm4iLCJsb2FkaW5nIiwibG9hZGluZ2R2IiwiYm9keSIsImZvcm1zIiwic2VsZiIsInBvc3RkYXRlX3dhcm5pbmciLCJkZWZhdWx0cyIsIm1vZGUiLCJvbmJsdXIiLCJzaG93YnV0dG9ucyIsImFqYXhPcHRpb25zIiwidmFsaWRhdGUiLCJpbmRleE9mIiwiTWF0aCIsImZsb29yIiwiaXNOdW1lcmljIiwibWF4bWFya3NlcnJvciIsIm5ld1ZhbHVlIiwiZmllbGQiLCJwYXJ0aWQiLCJ0YWJJZCIsInBhcmVudHNVbnRpbCIsIiR0aGlzIiwidGhlRGF0ZSIsIkRhdGUiLCJmb3JtYXQiLCJ2aWV3Zm9ybWF0IiwidGVtcGxhdGUiLCJjb21ib2RhdGUiLCJtaW51dGVTdGVwIiwibWluWWVhciIsIm1heFllYXIiLCJnZXRGdWxsWWVhciIsInNtYXJ0RGF5cyIsImRpc2FibGVhbm9uY29uZmlybSIsImVkaXRhYmxlQ29udGFpbmVyIiwiZXhwb3J0X29wdGlvbiIsImN1cnJlbnQiLCJub3QiLCJzY3JvbGxpbmciLCJldiIsIm9yaWdpbmFsRXZlbnQiLCJyZWxvYWQiLCJwcmludCIsImlkIiwiY2hhbmdlIiwiZGF0YUVsIiwicG9zdF9kYXRlIiwiYnVpbGRVbml4RGF0ZSIsImFub25hbGVydCIsImVsIiwiZGF0ZSIsImZpbmQiLCJpbml0aWFsaXNlRWRpdEVuZERhdGUiLCJiYWNrZ3JvdW5kIiwiY3VycmVudF9kYXRlIiwidGlpX2NvdXJzZV9pZCIsInRpaV9jb3Vyc2VfdGl0bGUiLCJlbmRfZGF0ZV9kIiwiZW5kX2RhdGVfbSIsImVuZF9kYXRlX3kiLCJlbmRfZGF0ZSIsImluaXRpYWxpc2VDb3Vyc2VSZWNyZWF0aW9uIiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJpbml0aWFsaXNlQ291cnNlQnJvd3NlckJ1dHRvbnMiLCJ0aWlfY291cnNlX25hbWUiLCJjb3Vyc2VfbmFtZSIsImNvdXJzZV9jYXRlZ29yeSIsIm9iaiIsInBhcnNlSlNPTiIsImhpZGVDb3Vyc2VDcmVhdGlvbk9wdGlvbnMiLCJjb3Vyc2VfdG9fbGluayIsImNiX2VsZW1lbnQiLCJ0aWNrX2VsZW1lbnQiLCJzbGlkZVRvZ2dsZSIsImNvdXJzZW5hbWUiLCJmaWx0ZXIiLCJpbml0aWFsaXNlQ3JlYXRlQXNzaWdubWVudEJ1dHRvbiIsInBhcnRzIiwiY2hhckF0Iiwic3Vic3RyaW5nIiwiY291cnNlX2lkIiwiYXNzaWdubWVudF9uYW1lIiwidG9nZ2xlQ2xhc3MiLCJub2ludGVncmF0aW9uIiwic0luZm9FbXB0eSIsInNlbXB0eXRhYmxlIiwiYlNlcnZlclNpZGUiLCJmbkNyZWF0ZWRDZWxsIiwiblRkIiwic0RhdGEiLCJpUm93IiwiaUNvbCIsImFEYXRhU29ydCIsInNXaWR0aCIsImJTZWFyY2hhYmxlIiwiYWlEaXNwbGF5IiwiblRycyIsImlDb2xzcGFuIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzTGFzdEdyb3VwIiwic0dyb3VwIiwiX2lEaXNwbGF5U3RhcnQiLCJfYURhdGEiLCJuR3JvdXAiLCJjcmVhdGVFbGVtZW50IiwibkNlbGwiLCJjb2xTcGFuIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJwYXJlbnROb2RlIiwiaW5zZXJ0QmVmb3JlIiwiYWFTb3J0aW5nRml4ZWQiLCJkYXRlcGlja2VyIiwicmVnaW9uYWwiLCJkYXRlRm9ybWF0Iiwic2V0RGVmYXVsdHMiLCJjb3Vyc2VCcm93c2VyVGFibGUiLCJjb3Vyc2VfdGl0bGUiLCJjb3Vyc2VfaW50ZWdyYXRpb24iLCJjb3Vyc2VfZW5kX2RhdGUiLCJ1aWQiLCJtYXJnaW4tbGVmdCIsIm51bWJlcl9vZl9hc3NpZ25tZW50cyIsImNhdGVnb3J5IiwiYXNzaWdubWVudHMiLCJjbGFzc19pZHMiLCJwYWdldXJsIiwibWFyZ2luLXRvcCIsImNyZWF0ZV9hc3NpZ25tZW50cyIsInRhYm1lbnUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJlbnRfdmVyc2lvbiIsInVwZ3JhZGVhdmFpbGFibGUiLCJrZXl1cCIsImFjY291bnRpZCIsImFjY291bnRzaGFyZWQiLCJ0cmltIiwiYWNjb3VudHVybCIsImNvbm5lY3Rpb25fc3RhdHVzIl0sIm1hcHBpbmdzIjoiQUFBQUEsT0FBQUMsVUFBQUMsTUFBQSxTQUFBQyxHQXV3QkEsUUFBQUMsbUJBQUFDLEdBQ0FGLEVBQUEsU0FBQUUsRUFBQSwwQkFBQUEsRUFBQSxtQkFBQUMsU0FBQSxVQUlBLFFBQUFDLG9CQUFBRixHQUNBRixFQUFBLFNBQUFFLEVBQUEsMEJBQUFBLEVBQUEsbUJBQUFDLFNBQUEsV0FHQSxRQUFBRSxpQkFDQSxHQUFBQyxHQUFBLGlDQUNBTixHQUFBLGdCQUFBTyxNQUFBRCxFQUNBLElBQUFFLEdBQUFSLEVBQUFTLFFBQUFDLFlBQUFWLEVBQUFTLFFBQUFFLFNBQUEsQ0FDQVgsR0FBQSxnQkFBQVksSUFBQSxNQUFBSixFQUFBLE1BR0EsUUFBQUssa0JBQ0FiLEVBQUEsZ0JBQUFjLFNBR0EsUUFBQUMsZ0JBQUFDLE1BQUFDLGNBQUFmLFFBQUFnQixNQUFBQyxrQkFBQUMsT0FDQXBCLEVBQUFxQixNQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsSUFBQSxXQUNBQyxPQUFBLEVBQ0FDLE1BQUFDLE9BQUEsa0JBQUFDLFdBQUFYLGNBQUFZLEtBQUEzQixRQUFBZ0IsTUFBQUEsTUFDQUMsa0JBQUFBLGtCQUFBakIsU0FBQTRCLFFBQUFDLEVBQUFDLElBQUFGLFFBQUFWLE1BQUFBLE9BQ0FhLFFBQUEsU0FBQUMsUUFRQSxHQVBBQyxLQUFBRCxRQUNBaEIsTUFBQWdCLE9BQUFFLElBRUFGLE9BQUFHLE9BQUFDLE9BQUEsR0FDQXRCLE1BQUF1QixVQUFBTCxPQUFBRyxRQUdBSCxPQUFBRSxJQUFBRixPQUFBZCxNQUNBTCxlQUFBQyxNQUFBQyxjQUFBZixRQUFBZ0IsTUFBQUMsa0JBQUFlLE9BQUFkLFdBQ0EsQ0FDQXBCLEVBQUEsSUFBQUUsUUFBQSxlQUFBc0MsS0FBQSxRQUFBLHNCQUVBckIsa0JBQUFqQixTQUFBLENBQ0EsSUFBQXVDLGNBQUEsQ0FFQXpDLEdBQUEwQyxLQUFBdkIsa0JBQUEsU0FBQXdCLEVBQUFDLEdBQ0EsR0FBQUEsSUFDQUgsYUFBQSxLQUlBLEdBQUFBLGVBQ0F6QyxFQUFBLG9CQUFBNkMsT0FDQTdDLEVBQUEsaUJBQUE4QyxRQUdBQyxtQkFFQTlDLGtCQUFBQyxTQUdBZ0MsT0FBQWMsY0FBQSxHQUNBaEQsRUFBQSx1QkFBQXdDLEtBQUEsUUFBQSxvQkFJQVMsTUFBQSxTQUFBdkIsRUFBQXdCLEdBQ0FsRCxFQUFBLElBQUFFLFFBQUEsZUFBQXNDLEtBQUEsUUFBQSxzQkFDQXhDLEVBQUEscUJBQUFtRCxLQUFBcEIsRUFBQXFCLElBQUFDLGdCQUFBQywyQkFNQSxRQUFBUCxvQkFDQSxHQUFBL0MsRUFBQSxlQUFBMEIsS0FBQSxjQUFBLEdBQUExQixFQUFBLGVBQUEwQixLQUFBLFFBQ0ExQixFQUFBLGVBQUE4QyxPQUdBOUMsRUFBQSxlQUFBNkMsT0FLQSxRQUFBVSx1QkFDQSxHQUFBQyxHQUFBeEQsRUFBQSxjQUFBLE9BQUEsYUFBQSx3QkFDQXlELEVBQUF6RCxFQUFBd0QsR0FBQUUsS0FDQTFELEdBQUFxQixNQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsSUFBQSxrQ0FDQUUsTUFBQUMsT0FBQSx3QkFBQUMsV0FBQTVCLEVBQUEsMEJBQUEwRCxNQUNBQyxXQUFBM0QsRUFBQSw0QkFBQTBELE1BQUFFLE9BQUE1RCxFQUFBLHdCQUFBMEQsT0FDQXpCLFFBQUEsU0FBQVAsR0FDQTFCLEVBQUFBLEVBQUF3RCxJQUFBSyxPQUNBLElBQUFDLEdBQUFwQyxDQUNBMUIsR0FBQTBDLEtBQUFvQixFQUFBLFNBQUFDLEVBQUFMLEdBQ0ExRCxFQUFBQSxFQUFBd0QsSUFBQVEsT0FBQWhFLEVBQUEsWUFDQWlFLE1BQUFGLEVBQ0FHLEtBQUFSLE9BR0ExRCxFQUFBd0QsRUFBQSxrQkFBQUMsRUFBQSxNQUFBakIsS0FBQSxXQUFBLGVBTUEsUUFBQTJCLHVCQUNBbkUsRUFBQSxxQkFBQThDLE9BQ0E5QyxFQUFBLG9CQUFBbUQsS0FBQSxJQUVBbkQsRUFBQXFCLE1BQ0FDLFNBQUEsT0FDQUMsS0FBQSxPQUNBQyxJQUFBLFdBQ0FFLE1BQUFDLE9BQUEsd0JBQUFDLFdBQUE1QixFQUFBLGtCQUFBbUQsUUFDQWxCLFFBQUEsU0FBQVAsR0FDQTFCLEVBQUEscUJBQUE2QyxPQUNBN0MsRUFBQSxvQkFBQW1ELEtBQUF6QixNQU1BLFFBQUEwQyxzQkFBQWxFLEdBQ0FGLEVBQUEsU0FBQUUsRUFBQSxzQkFBQTJDLE9BQ0E3QyxFQUFBLFNBQUFFLEVBQUEsb0JBQUFpRCxLQUFBLElBQ0FuRCxFQUFBLFNBQUFFLEVBQUEsc0JBQUE0QyxPQUNBOUMsRUFBQSxTQUFBRSxFQUFBLG9DQUFBMkMsT0FJQSxRQUFBd0IsNEJBQUFuRSxRQUFBaUIsbUJBRUEsR0FBQW1ELFdBQUF0RSxFQUFBLGdDQUFBc0MsT0FBQSxFQUFBLGFBQUEsU0FFQXRDLEdBQUEsU0FBQUUsUUFBQSxvQ0FBQW9DLE9BQUEsSUFFQThCLHFCQUFBbEUsU0FFQUYsRUFBQXFCLE1BQ0FDLFNBQUEsT0FDQUMsS0FBQSxPQUNBQyxJQUFBLFdBQ0FFLE1BQUFDLE9BQUEsK0JBQUFDLFdBQUE1QixFQUFBLGtCQUFBbUQsT0FDQXRCLEtBQUEzQixRQUFBaUIsa0JBQUFBLGtCQUFBVyxRQUFBQyxFQUFBQyxJQUFBRixTQUNBRyxRQUFBLFNBQUFQLE1BQ0FTLEtBQUFULE1BQ0ExQixFQUFBLFNBQUFFLFFBQUEsb0NBQUFpRCxLQUFBekIsS0FBQTZDLGdCQUVBdkUsRUFBQSxTQUFBRSxRQUFBLHNCQUFBMkMsT0FDQTdDLEVBQUEsU0FBQUUsUUFBQSxvQkFBQWlELEtBQUF6QixLQUFBOEMsaUJBRUE5QyxLQUFBOEMsZ0JBQUEsRUFDQXhFLEVBQUEsU0FBQUUsUUFBQSxzQkFBQTRDLE9BRUE5QyxFQUFBLFNBQUFFLFFBQUEsc0JBQUEyQyxRQUdBbkIsS0FBQThDLGdCQUFBLEdBQUEsY0FBQUYsV0FBQTVDLEtBQUErQyxrQkFBQSxXQUFBSCxZQUNBdEUsRUFBQSxTQUFBRSxRQUFBLDBCQUFBNEMsT0FHQSxRQUFBOUMsRUFBQTBFLE9BQUEsa0JBQUExRSxFQUFBLGtCQUFBbUQsU0FBQXpCLEtBQUE4QyxnQkFBQSxHQUNBeEUsRUFBQSxtQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFOLE9BQ0E3QyxFQUFBLG1CQUFBQSxFQUFBLGtCQUFBbUQsUUFBQUwsT0FDQTlDLEVBQUEsbUNBQUEyRSxjQUVBM0UsRUFBQSxtQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFMLE9BQ0E5QyxFQUFBLG1CQUFBQSxFQUFBLGtCQUFBbUQsUUFBQU4sT0FDQTdDLEVBQUEsbUNBQUE0RSxlQVFBLFFBQUFDLDBCQUFBQyxNQUFBN0QsY0FBQThELGVBQ0EsR0FBQUMsWUFBQSxlQUNBLFFBQUFGLFFBQ0FFLFdBQUEsZUFBQUQsZUFFQS9FLEVBQUFnRixZQUFBQyxVQUNBQyxRQUFBLEVBQUFDLE1BQUEsTUFBQTNFLElBQUEsUUFBQUcsT0FBQSxRQUFBeUUsUUFBQSxNQUFBQyxVQUFBLDhCQUNBQyxXQUFBLFdBQ0EsR0FBQUMsT0FBQXZGLEVBQUF3RixNQUFBaEQsS0FBQSxNQUFBaUQsTUFBQSxJQUNBLElBQUEsR0FBQVYsZUFBQVcsUUFBQVgsY0FDQSxHQUFBQSxlQUFBUSxNQUFBLEVBRUEsSUFBQXRFLGdCQUNBQSxjQUFBakIsRUFBQSxrQkFBQW1ELFFBRUFuRCxFQUFBLGtCQUFBbUQsS0FBQTRCLGVBQ0EvRSxFQUFBLHdDQUFBOEMsT0FDQTlDLEVBQUEsY0FBQTJGLE9BQUEsU0FDQTNGLEVBQUEsY0FBQTRGLE1BQUEsV0FDQTVGLEVBQUFxQixNQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsSUFBQSxXQUNBRSxNQUFBQyxPQUFBLHlCQUFBQyxXQUFBWCxjQUFBOEQsY0FBQUEsY0FDQWMsT0FBQUMsbUJBQUE5RixFQUFBLCtCQUFBMEQsT0FBQTVCLFFBQUFDLEVBQUFDLElBQUFGLFNBQ0FHLFFBQUEsU0FBQVAsTUFFQSxHQURBUyxLQUFBVCxNQUNBLFdBQUFBLEtBQUFxRSxPQUNBL0YsRUFBQWlGLFNBQUFlLFFBQ0FoRyxFQUFBLGVBQUErRSxlQUFBdkMsS0FBQSxPQUFBVCxFQUFBQyxJQUFBaUUsUUFBQSxxQkFBQXZFLEtBQUF3RSxPQUFBLFdBQUF4RSxLQUFBeUUsVUFDQW5HLEVBQUEsZUFBQStFLGVBQUE1QixLQUFBekIsS0FBQTBFLE1BQ0FwRyxFQUFBLGVBQUErRSxlQUFBc0IsWUFBQSwrQkFDQSxDQUNBLEdBQUFDLGFBQUF0RyxFQUFBLHFCQUFBbUQsSUFDQW5ELEdBQUEscUJBQUFtRCxLQUFBbUQsWUFBQSxJQUFBNUUsS0FBQTZFLFlBTUFDLFVBQUEsV0FDQXhHLEVBQUEscUJBQUE2QyxVQUtBLFFBQUE0RCxxQkFBQTNCLEVBQUFDLEVBQUE3RSxFQUFBd0csR0FDQSxHQUFBMUIsR0FBQSxhQUNBLFFBQUFGLElBQ0FFLEVBQUEsV0FBQUQsRUFBQSxJQUFBN0UsRUFBQSxJQUFBd0csRUFHQSxJQUFBQyxHQUFBLE1BQ0FDLEVBQUEsS0FFQTVHLEdBQUFnRixHQUFBQyxVQUNBNEIsT0FBQSxXQUNBeEcsZ0JBQ0F5RyxzQkFDQTlHLEVBQUF3RixNQUFBM0MsUUFFQWtFLFNBQUEsV0FBQWxHLGtCQUNBMkYsVUFBQSxXQUNBM0YsZ0JBQ0EsSUFBQTBFLEdBQUF2RixFQUFBd0YsTUFBQWhELEtBQUEsTUFBQWlELE1BQUEsSUFDQXVCLGlCQUFBLFNBQUF6QixFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxJQUVBdkYsRUFBQSxrQkFBQWMsVUFFQW1HLFFBQUEsRUFBQTlCLE1BQUF3QixFQUFBaEcsT0FBQWlHLEVBQUF4QixRQUFBLE1BQUFDLFVBQUEsU0FBQTZCLFdBQUEsU0FRQSxRQUFBQyx3QkFBQWpILEdBRUFGLEVBQUEsU0FBQUUsRUFBQSwwQkFBQUEsRUFBQSx5QkFBQUEsRUFBQSxvQkFBQXlGLE9BQUEsU0FHQTNGLEVBQUEsU0FBQUUsRUFBQSwwQkFBQUEsRUFBQSx5QkFBQUEsRUFBQSxvQkFBQTBGLE1BQUEsV0FDQSxHQUFBTCxHQUFBdkYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLElBQ0EyQixpQkFBQTdCLEVBQUEsR0FBQSxJQUFBQSxFQUFBLEdBQUFBLEVBQUEsTUFJQXZGLEVBQUEsU0FBQUUsRUFBQSxxQkFBQStFLFVBQ0FnQyxRQUFBLEVBQUE5QixNQUFBLE1BQUF4RSxPQUFBLE1BQUF5RSxRQUFBLE1BQUFDLFVBQUEscUJBQUE2QixXQUFBLE9BQ0FMLE9BQUEsV0FDQUMsc0JBQ0F6RyxpQkFFQW1HLFVBQUEsV0FDQXhHLEVBQUEsa0JBQUFjLFNBQ0FELGtCQUVBa0csU0FBQSxXQUNBNUMseUJBS0FuRSxFQUFBRixVQUFBdUgsR0FBQSxRQUFBLFNBQUFuSCxFQUFBLGlCQUFBLFNBQUFvSCxHQW9CQSxNQW5CQXRILEdBQUF3RixNQUFBUCxVQUNBc0MsTUFBQSxFQUFBTixRQUFBLEVBQUE5QixNQUFBLFFBQUF4RSxPQUFBLFFBQUF5RSxRQUFBLE1BQUFDLFVBQUEsa0JBQUE2QixXQUFBLE9BQ0FNLEtBQUEsV0FDQSxHQUFBQyxHQUFBLEVBUUEsT0FMQXpILEdBQUEsU0FBQUUsRUFBQSw0QkFBQXdDLEtBQUEsU0FBQXFCLEdBQ0EwRCxHQUFBLGlCQUFBMUQsRUFBQSxJQUFBL0QsRUFBQXdGLE1BQUE5QixNQUNBSyxNQUdBL0QsRUFBQXdGLE1BQUFoRCxLQUFBLFFBQUFpRixHQUVBWixPQUFBLFdBQUF4RyxpQkFDQW1HLFVBQUEsV0FBQTNGLGtCQUNBa0csU0FBQSxXQUNBNUMsMEJBR0EsSUFJQSxRQUFBMkMsdUJBQ0E5RyxFQUFBLFFBQUFnRSxPQUFBLG1GQUFBakMsRUFBQXFCLElBQUFDLGdCQUFBcUUsWUFBQSxjQUdBLFFBQUFDLDRCQUNBM0gsRUFBQSx3QkFBQXNDLE9BQUEsR0FDQXRDLEVBQUEsd0JBQUFpRixVQUNBZ0MsUUFBQSxFQUFBOUIsTUFBQSxRQUFBeEUsT0FBQSxRQUFBeUUsUUFBQSxNQUFBQyxVQUFBLGNBQUE2QixXQUFBLE9BQ0FMLE9BQUEsV0FDQUMsc0JBQ0F6RyxpQkFFQW1HLFVBQUEsV0FDQXhHLEVBQUEsa0JBQUFjLFNBQ0FELG9CQVVBLFFBQUErRyw4QkFBQTFILEdBRUFGLEVBQUEsU0FBQUUsRUFBQSwwQkFBQXlGLE9BQUEsU0FFQTNGLEVBQUEsU0FBQUUsRUFBQSwwQkFBQTBGLE1BQUEsV0FDQSxHQUFBTCxHQUFBdkYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLElBRUEsT0FEQTJCLGlCQUFBN0IsRUFBQSxHQUFBLElBQUFBLEVBQUEsR0FBQXJGLElBQ0EsSUFJQSxRQUFBMkgsc0JBQUEvQyxFQUFBQyxFQUFBN0UsRUFBQXdHLEdBQ0EsR0FBQTFCLEdBQUEsMEJBQ0EsUUFBQUYsSUFDQUUsRUFBQSxlQUFBRCxFQUFBLElBQUE3RSxFQUFBLElBQUF3RyxFQUFBLGdCQUlBMUcsRUFBQWdGLEdBQUFXLE9BQUEsU0FFQTNGLEVBQUFnRixHQUFBWSxNQUFBLFdBQ0E1RixFQUFBd0YsTUFBQTNDLE9BQ0E3QyxFQUFBd0YsTUFBQXNDLFNBQUEsZUFBQWxILElBQUEsVUFBQSxnQkFBQW1ILFNBQUEsUUFDQSxJQUFBeEMsR0FBQXZGLEVBQUF3RixNQUFBd0MsU0FBQXhGLEtBQUEsTUFBQWlELE1BQUEsSUFDQXVCLGlCQUFBekIsRUFBQSxHQUFBQSxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxNQUtBLFFBQUEwQyx1QkFBQW5ELEVBQUFDLEVBQUE3RSxFQUFBd0csR0FDQSxHQUFBMUIsR0FBQSxJQUFBOUUsRUFBQSwwQkFDQSxRQUFBNEUsSUFDQUUsRUFBQSxxQkFBQUQsRUFBQSxJQUFBN0UsRUFBQSxJQUFBd0csR0FJQTFHLEVBQUFnRixHQUFBVyxPQUFBLFNBRUEzRixFQUFBZ0YsR0FBQVksTUFBQSxXQUNBLEdBQUFMLEdBQUF2RixFQUFBd0YsTUFBQWhELEtBQUEsTUFBQWlELE1BQUEsSUFFQXpGLEdBQUF3RixNQUFBMEMsU0FBQSxpQkFBQUMsU0FBQSxrQkFDQUMscUJBQUE3QyxFQUFBLEdBQUFBLEVBQUEsR0FBQUEsRUFBQSxHQUFBQSxFQUFBLE1BT0EsUUFBQTZCLGlCQUFBaUIsRUFBQW5JLEdBQ0EsR0FBQXVILEtBRUEsb0JBQUFZLEdBQUEsYUFBQUEsR0FDQXJJLEVBQUEsU0FBQUUsRUFBQSw0QkFBQXdDLEtBQUEsU0FBQXFCLEdBQ0EwRCxFQUFBMUQsR0FBQS9ELEVBQUF3RixNQUFBOUIsUUFJQTFELEVBQUFxQixNQUNBRSxLQUFBLE9BQ0FDLElBQUEsV0FDQUYsU0FBQSxPQUNBSSxNQUFBQyxPQUFBMEcsRUFBQXpHLFdBQUE1QixFQUFBLGtCQUFBbUQsT0FBQXRCLEtBQUEzQixFQUFBdUgsZUFBQUEsR0FDQXhGLFFBQUEsU0FBQVAsR0FDQTFCLEVBQUEsSUFBQXFJLEVBQUEsU0FBQW5JLEdBQUFpRCxLQUFBekIsR0FDQTFCLEVBQUEsSUFBQXFJLEVBQUEsU0FBQW5JLEdBQUFnSSxTQUFBLFFBQUFJLFNBQ0F0SSxFQUFBLElBQUFxSSxFQUFBLFNBQUFuSSxHQUFBaUQsS0FBQSxPQU9BLFFBQUFpRixzQkFBQUcsRUFBQXhELEVBQUE3RSxFQUFBd0csR0FFQTFHLEVBQUFxQixNQUNBRSxLQUFBLE9BQ0FDLElBQUFPLEVBQUFDLElBQUFpRSxRQUFBLGdDQUNBM0UsU0FBQSxPQUNBSSxNQUFBQyxPQUFBNEcsRUFBQUMsV0FBQXpELEVBQUFuRCxXQUFBNUIsRUFBQSxrQkFBQW1ELFFBQ0FsQixRQUFBLFNBQUFQLEdBQ0ExQixFQUFBLElBQUF1SSxFQUFBLFNBQUF4RCxHQUFBNUIsS0FBQXpCLEdBQ0ExQixFQUFBLElBQUF1SSxFQUFBLFNBQUF4RCxHQUFBbUQsU0FBQSxRQUFBSSxTQUNBdEksRUFBQSxJQUFBdUksRUFBQSxTQUFBeEQsR0FBQTVCLEtBQUEsT0FNQSxRQUFBc0YsZUFBQXZJLEdBQ0FPLE9BQUFpSSxTQUFBQyxPQUNBM0ksRUFBQSxZQUFBRSxHQUFBMEYsUUFFQWdELFdBQUEsV0FDQUgsY0FBQXZJLElBQ0EsS0FLQSxRQUFBMkksZUFBQW5DLFFBQUF4RyxTQUNBRixFQUFBLG9CQUFBRSxRQUFBLElBQUF3RyxRQUFBLE1BQUFsRSxLQUFBLFFBQUEsK0JBQ0F4QyxFQUFBcUIsTUFDQUUsS0FBQSxPQUNBQyxJQUFBLFdBQ0FGLFNBQUEsT0FDQUksTUFBQUMsT0FBQSxpQkFBQUMsV0FBQTVCLEVBQUEsa0JBQUFtRCxPQUNBdEIsS0FBQTNCLFFBQUE0SSxLQUFBcEMsUUFBQTVFLFFBQUFDLEVBQUFDLElBQUFGLFNBQ0FHLFFBQUEsU0FBQVAsTUFDQVMsS0FBQVQsTUFDQTFCLEVBQUEwRSxPQUFBLHVCQUFBLEdBQUFxRSxRQUFBLE1BQ0EvSSxFQUFBLFNBQUFFLFFBQUEseUJBQUFzQyxLQUFBLFdBQUEsSUFFQVMsTUFBQSxTQUFBdkIsR0FDQTFCLEVBQUEsb0JBQUFFLFFBQUEsSUFBQXdHLFFBQUEsTUFBQWxFLEtBQUEsUUFBQSxzQkFDQXhDLEVBQUEsb0JBQUFFLFFBQUEsSUFBQXdHLFNBQUFMLFlBQUEsWUFDQTJDLE1BQUF0SCxFQUFBdUgsZUFFQUMsU0FBQSxXQUNBbEMsZ0JBQUEsZ0JBQUEsRUFBQTlHLFFBQUF3RyxZQU1BLFFBQUFNLGlCQUFBbUMsS0FBQXBFLGNBQUE3RSxRQUFBd0csU0FDQTFHLEVBQUFxQixNQUNBRSxLQUFBLE9BQ0FDLElBQUEsV0FDQUYsU0FBQSxPQUNBSSxNQUFBQyxPQUFBLHlCQUFBQyxXQUFBNUIsRUFBQSxrQkFBQW1ELE9BQ0F0QixLQUFBM0IsUUFBQTRJLEtBQUFwQyxRQUFBNUUsUUFBQUMsRUFBQUMsSUFBQUYsU0FDQUcsUUFBQSxTQUFBUCxNQUNBMUIsRUFBQSxTQUFBRSxRQUFBLHlCQUFBc0MsS0FBQSxXQUFBLEdBQ0FMLEtBQUFULEtBQ0EsSUFBQXFDLEdBQUEsQ0FDQSxJQUFBZ0IsZUFDQW9FLE1BQUEsS0FDQXBFLGNBQUFyRCxLQUFBcUQsZUFFQW9FLEtBREEsTUFBQXpILEtBQUFxRCxlQUFBLEdBQUFBLGNBQ0FvRSxLQUFBLElBQUFwRSxjQUVBb0UsS0FBQSxJQUFBekgsS0FBQXFELGNBR0EsR0FBQUEsZUFDQS9FLEVBQUEsaUJBQUFxRyxZQUFBLGdCQUlBK0MsT0FBQXBKLEVBQUEsU0FBQUUsU0FBQW1KLFdBQ0EsSUFBQUMsSUFBQXRKLEVBQUEsSUFBQW1KLEtBQUEsSUFBQWpKLFFBQUEsSUFBQXdHLFNBQUFzQixTQUFBQSxTQUNBdUIsU0FBQUQsR0FBQUUsT0FDQUosUUFBQUssWUFBQUgsSUFDQUYsT0FBQTdHLFVBQUFiLEtBQUFnSSxLQUVBM0csbUJBRUEwRCxvQkFBQSxNQUFBL0UsS0FBQXFELGNBQUE3RSxRQUFBd0csU0FDQXVCLHNCQUFBLE1BQUF2RyxLQUFBcUQsY0FBQTdFLFFBQUF3RyxTQUNBbUIscUJBQUEsTUFBQW5HLEtBQUFxRCxjQUFBN0UsUUFBQXdHLFNBQ0FpRCxxQkFBQWpJLEtBQUFxRCxjQUFBN0UsU0FDQTJFLHlCQUFBLE1BQUE3RSxFQUFBLGtCQUFBbUQsT0FBQXpCLEtBQUFxRCxrQkFNQSxRQUFBNEUsc0JBQUE1RSxFQUFBN0UsR0FDQSxHQUFBOEUsR0FBQSxTQUFBOUUsRUFBQSxrQkFDQSxJQUFBNkUsSUFDQUMsRUFBQSxTQUFBRCxHQUdBL0UsRUFBQSxTQUFBRSxFQUFBLG9CQUFBMEYsTUFBQSxXQUNBNUYsRUFBQSxTQUFBRSxFQUFBLHlCQUFBc0MsS0FBQSxXQUFBLEtBR0F4QyxFQUFBRixVQUFBdUgsR0FBQSxRQUFBckMsRUFBQSx5QkFBQSxXQUNBaEYsRUFBQSxTQUFBRSxFQUFBLDRCQUFBb0MsT0FBQSxHQUNBdEMsRUFBQSxTQUFBRSxFQUFBLG1CQUFBeUUsWUFDQWlELDZCQUFBMUgsS0FFQUYsRUFBQSxTQUFBRSxFQUFBLDBCQUFBeUYsT0FBQSxTQUNBM0YsRUFBQSxTQUFBRSxFQUFBLG1CQUFBMEUsYUFNQSxRQUFBZ0Ysc0JBQ0EsSUFBQSxHQUFBN0YsR0FBQSxFQUFBLEdBQUFBLEVBQUFBLElBQ0FBLEdBQUEvRCxFQUFBLGdCQUFBMEQsTUFDQTFELEVBQUEsMEJBQUErRCxFQUFBLE1BQUFZLFlBRUEzRSxFQUFBLDBCQUFBK0QsRUFBQSxNQUFBYSxVQXRsQ0EsR0E3TEE1RSxFQUFBLGdCQUFBOEMsT0FDQTlDLEVBQUEsWUFBQTZDLE9BR0EsR0FBQTdDLEVBQUEsc0JBQUEwRCxPQUNBMUQsRUFBQSxzQkFBQWdJLFNBQUFBLFNBQUFuRixPQUdBLEdBQUE3QyxFQUFBLHNCQUFBMEQsT0FDQTFELEVBQUEsc0JBQUFnSSxTQUFBQSxTQUFBbkYsT0FJQTdDLEVBQUEsMkJBQUEsUUFDQUEsRUFBQSxvQkFBQXdDLEtBQUEsV0FBQSxZQUlBeEMsRUFBQSwyQkFBQXFILEdBQUEsUUFBQSxXQUNBckgsRUFBQXdGLE1BQUFxRSxHQUFBLFlBQ0E3SixFQUFBLDJCQUFBMEMsS0FBQSxXQUNBMUMsRUFBQSxvQkFBQThKLFdBQUEsY0FHQTlKLEVBQUEsMkJBQUEwQyxLQUFBLFdBQ0ExQyxFQUFBLG9CQUFBd0MsS0FBQSxXQUFBLGdCQUtBeEMsRUFBQUYsVUFBQXVILEdBQUEsUUFBQSxnQkFBQSxXQUVBLEdBQUEwQyxHQUFBL0osRUFBQXdGLE1BQUE5RCxLQUFBLFdBQ0FzSSxFQUFBakksRUFBQXFCLElBQUFDLGdCQUFBMEcsR0FBQUUsUUFBQSxPQUFBLE1BQ0FDLEVBQUFDLFFBQUFILEVBRUFFLElBQ0FsSyxFQUFBcUIsTUFDQUUsS0FBQSxPQUNBQyxJQUFBLFdBQ0FGLFNBQUEsT0FDQUksTUFDQUMsT0FBQSxtQkFDQUcsUUFBQUMsRUFBQUMsSUFBQUYsUUFDQXNJLE1BQUFwSyxFQUFBd0YsTUFBQTlELEtBQUEsU0FDQUcsS0FBQTdCLEVBQUF3RixNQUFBOUQsS0FBQSxRQUNBRSxXQUFBNUIsRUFBQXdGLE1BQUE5RCxLQUFBLGVBRUFPLFFBQUEsV0FDQXhCLE9BQUE0SixTQUFBN0MsS0FBQS9HLE9BQUE0SixTQUFBN0MsVUFNQXhILEVBQUFGLFVBQUF1SCxHQUFBLFFBQUEsa0JBQUEsV0FDQSxJQUFBckgsRUFBQXdGLE1BQUEyQyxTQUFBLFlBQUEsQ0FHQW5JLEVBQUF3RixNQUFBdUMsU0FBQSxXQUNBLElBQUE3SCxHQUFBRixFQUFBd0YsTUFBQThFLEtBQUEsTUFBQTdFLE1BQUEsS0FBQSxHQUNBOEUsRUFBQXZLLEVBQUF3RixNQUFBOEUsS0FBQSxNQUFBN0UsTUFBQSxLQUFBLEdBQ0ErRSxFQUFBekksRUFBQXFCLElBQUFDLGdCQUFBb0gscUJBQUFSLFFBQUEsUUFBQSxNQUFBQSxRQUFBLFNBQUEsS0FDQVMsRUFBQTFLLEVBQUEwRSxPQUFBLHNCQUNBZ0csSUFBQVAsUUFBQUssR0FDQTNCLGNBQUEwQixFQUFBckssR0FFQUYsRUFBQXdGLE1BQUFhLFlBQUEsZUFNQXJHLEVBQUFGLFVBQUF1SCxHQUFBLFNBQUEscUJBQUEsV0FDQSxHQUFBckgsRUFBQSxzQkFBQTBELFFBQ0ExRCxFQUFBLHNCQUFBZ0ksU0FBQUEsU0FBQW5GLE9BQ0E3QyxFQUFBLHNCQUFBZ0ksU0FBQUEsU0FBQWxGLFFBR0EsR0FBQTlDLEVBQUEsc0JBQUEwRCxRQUNBMUQsRUFBQSxzQkFBQWdJLFNBQUFBLFNBQUFuRixPQUNBN0MsRUFBQSxzQkFBQWdJLFNBQUFBLFNBQUFsRixVQUtBOUMsRUFBQUYsVUFBQXVILEdBQUEsU0FBQSxrQ0FBQSxXQUNBLE1BQUFySCxHQUFBLHVCQUFBMEQsTUFBQXBCLE9BQUEsR0FDQXRDLEVBQUEsWUFBQTRFLFFBQUEsUUFDQTVFLEVBQUEsbUNBQUE0RSxRQUFBLFFBQ0E1RSxFQUFBLG1DQUFBNEUsUUFBQSxRQUNBNUUsRUFBQSxzQkFBQTJFLFVBQUEsU0FFQSxJQUVBLElBS0EzRSxFQUFBLG1CQUFBc0MsT0FBQSxJQUNBdEMsRUFBQTBFLE9BQUEsZ0JBQUExRSxFQUFBLGtCQUFBbUQsU0FDQW5ELEVBQUEwRSxPQUFBLGdCQUFBMUUsRUFBQSxrQkFBQW1ELFFBQUEsR0FBQTRGLFFBQUEsS0FHQSxRQUFBL0ksRUFBQTBFLE9BQUEsZ0JBQUExRSxFQUFBLGtCQUFBbUQsU0FDQW5ELEVBQUEsaUJBQUFBLEVBQUEsa0JBQUFtRCxRQUFBTCxPQUNBOUMsRUFBQSxpQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFOLE9BQ0E3QyxFQUFBLGlCQUFBMkUsY0FFQTNFLEVBQUEsaUJBQUFBLEVBQUEsa0JBQUFtRCxRQUFBTCxPQUNBOUMsRUFBQSxpQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFOLE9BQ0E3QyxFQUFBLGlCQUFBNEUsV0FJQTVFLEVBQUEscUJBQUE0RixNQUFBLFdBQ0E1RixFQUFBd0YsTUFBQTJDLFNBQUEsZ0JBQUFuSSxFQUFBLGtCQUFBbUQsU0FDQW5ELEVBQUEwRSxPQUFBLGdCQUFBMUUsRUFBQSxrQkFBQW1ELFFBQUEsR0FBQTRGLFFBQUEsS0FDQS9JLEVBQUEsaUJBQUFBLEVBQUEsa0JBQUFtRCxRQUFBTixPQUNBN0MsRUFBQSxpQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFMLE9BQ0E5QyxFQUFBLGlCQUFBMkUsY0FFQTNFLEVBQUEwRSxPQUFBLGdCQUFBMUUsRUFBQSxrQkFBQW1ELFFBQUEsR0FBQTRGLFFBQUEsS0FDQS9JLEVBQUEsaUJBQUFBLEVBQUEsa0JBQUFtRCxRQUFBTCxPQUNBOUMsRUFBQSxpQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFOLE9BQ0E3QyxFQUFBLGlCQUFBNEUsY0FNQTVFLEVBQUEscUJBQUFzQyxPQUFBLElBQ0F0QyxFQUFBMEUsT0FBQSxrQkFBQTFFLEVBQUEsa0JBQUFtRCxTQUNBbkQsRUFBQTBFLE9BQUEsa0JBQUExRSxFQUFBLGtCQUFBbUQsUUFBQSxHQUFBNEYsUUFBQSxLQUdBLFFBQUEvSSxFQUFBMEUsT0FBQSxrQkFBQTFFLEVBQUEsa0JBQUFtRCxTQUNBbkQsRUFBQSxtQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFMLE9BQ0E5QyxFQUFBLG1CQUFBQSxFQUFBLGtCQUFBbUQsUUFBQU4sT0FDQTdDLEVBQUEsbUNBQUEyRSxjQUVBM0UsRUFBQSxtQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFMLE9BQ0E5QyxFQUFBLG1CQUFBQSxFQUFBLGtCQUFBbUQsUUFBQU4sT0FDQTdDLEVBQUEsbUNBQUE0RSxXQUlBNUUsRUFBQSx1QkFBQTRGLE1BQUEsV0FDQTVGLEVBQUF3RixNQUFBMkMsU0FBQSxrQkFBQW5JLEVBQUEsa0JBQUFtRCxTQUNBbkQsRUFBQTBFLE9BQUEsa0JBQUExRSxFQUFBLGtCQUFBbUQsUUFBQSxHQUFBNEYsUUFBQSxLQUNBL0ksRUFBQSxtQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFOLE9BQ0E3QyxFQUFBLG1CQUFBQSxFQUFBLGtCQUFBbUQsUUFBQUwsT0FDQTlDLEVBQUEsbUNBQUEyRSxjQUVBM0UsRUFBQTBFLE9BQUEsa0JBQUExRSxFQUFBLGtCQUFBbUQsUUFBQSxHQUFBNEYsUUFBQSxLQUNBL0ksRUFBQSxtQkFBQUEsRUFBQSxrQkFBQW1ELFFBQUFMLE9BQ0E5QyxFQUFBLG1CQUFBQSxFQUFBLGtCQUFBbUQsUUFBQU4sT0FDQTdDLEVBQUEsbUNBQUE0RSxjQUtBNUUsRUFBQUYsVUFBQXVILEdBQUEsUUFBQSwyREFBQSxXQUNBLEdBQUE5QixHQUFBdkYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLElBRUEsU0FBQUYsRUFBQSxJQUNBdkYsRUFBQSwrQkFBQXVGLEVBQUEsSUFBQTFDLE9BQ0E3QyxFQUFBLCtCQUFBdUYsRUFBQSxJQUFBekMsT0FDQTlDLEVBQUEsMEJBQUF1RixFQUFBLElBQUFaLGNBRUEzRSxFQUFBLCtCQUFBdUYsRUFBQSxJQUFBekMsT0FDQTlDLEVBQUEsK0JBQUF1RixFQUFBLElBQUExQyxPQUNBN0MsRUFBQSwwQkFBQXVGLEVBQUEsSUFBQVgsYUFLQWdGLHFCQUNBNUosRUFBQUYsVUFBQXVILEdBQUEsU0FBQSxlQUFBLFdBQ0F1Qyx1QkFJQTVKLEVBQUEsY0FBQXNDLE9BQUEsR0FDQXRDLEVBQUEsY0FBQXFKLFlBSUEsbUJBQUF0SCxHQUFBcUIsSUFBQUMsZ0JBQ0EsR0FBQXNILGlCQUNBQyxZQUFBLGlDQUFBN0ksRUFBQXFCLElBQUFDLGdCQUFBd0gsWUFBQSxVQUNBQyxhQUFBL0ksRUFBQXFCLElBQUFDLGdCQUFBMEgsYUFDQUMsTUFBQWpKLEVBQUFxQixJQUFBQyxnQkFBQTRILE1BQ0FDLFFBQUFuSixFQUFBcUIsSUFBQUMsZ0JBQUE4SCxRQUNBQyxZQUFBckosRUFBQXFCLElBQUFDLGdCQUFBZ0ksWUFDQUMsV0FDQUMsTUFBQXhKLEVBQUFxQixJQUFBQyxnQkFBQW1JLE1BQ0FDLFVBQUExSixFQUFBcUIsSUFBQUMsZ0JBQUFxSSxXQU1BLElBQUExTCxFQUFBLFNBQUFzQyxPQUFBLEVBQUEsQ0FFQSxHQUFBcUosV0FBQSxDQUNBM0wsR0FBQSxpQkFBQXNDLE9BQUEsSUFDQXFKLFVBQUEzTCxFQUFBLGlCQUFBa0UsUUFFQWxFLEVBQUEsU0FBQTRMLE1BQ0FDLE9BQUFGLFVBQ0E3SSxLQUFBLFdBQ0EsR0FBQTlCLEdBQUFoQixFQUFBOEwsR0FBQXpDLFVBQUEwQyxVQUFBLEVBQ0EvSyxHQUFBc0IsT0FBQSxHQUNBdEMsRUFBQWdCLEdBQUFxSSxZQUFBMkMsMEJBT0FoTSxFQUFBLG9CQUFBc0MsT0FBQSxHQUNBdEMsRUFBQSxvQkFBQXFKLFdBQ0E0QyxhQUFBLEVBQ0FDLFlBQUEsV0FDQUMsZUFDQUMsV0FBQSxFQUFBQyxPQUFBLGdCQUFBQyxVQUFBLEtBQ0FELE9BQUEsT0FBQUMsVUFBQSxLQUVBQyxVQUFBNUIsZUFDQTZCLGFBQUEsU0FBQUMsRUFBQUMsRUFBQUMsR0FDQTNNLEVBQUFxQixNQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsSUFBQWlMLEVBQ0EvSyxNQUFBQyxPQUFBLGNBQUFDLFdBQUE1QixFQUFBLGtCQUFBbUQsT0FBQXlKLEtBQUE1TSxFQUFBLGNBQUFtRCxRQUNBbEIsUUFBQSxTQUFBQyxHQUNBeUssRUFBQXpLLElBRUFlLE1BQUEsU0FBQXZCLEVBQUF3QixHQUNBbEQsRUFBQSwwQkFBQXdDLEtBQUEsUUFBQSxzQkFDQXhDLEVBQUEscUJBQUFtRCxLQUFBcEIsRUFBQXFCLElBQUFDLGdCQUFBd0osdUJBaUJBLEtBQUEsR0FOQUMsZ0NBQ0FDLGVBQ0FDLFlBQUFoTixFQUFBLGlDQUFBc0MsT0FBQXRDLEVBQUEsOEJBQUFzQyxPQUNBMkssZUFBQWpOLEVBQUEseUNBQUFzQyxPQUFBLEVBQ0E0SyxhQUFBbE4sRUFBQSx3Q0FBQXNDLE9BQUEsRUFDQTZLLGNBQUFuTixFQUFBLCtDQUFBc0MsT0FBQSxFQUNBeUIsRUFBQSxFQUFBaUosWUFBQWpKLEVBQUFBLElBQ0EsR0FBQUEsR0FDQStJLDRCQUFBTSxLQUFBLE1BQ0FMLFlBQUFLLE1BQUEsSUFDQSxHQUFBckosR0FDQStJLDRCQUFBTSxNQUFBQyxVQUFBdEosRUFBQSxFQUFBdUosTUFBQSxXQUNBUCxZQUFBSyxNQUFBLElBQ0EsR0FBQXJKLEdBQ0ErSSw0QkFBQU0sTUFBQWYsT0FBQSxVQUNBVSxZQUFBSyxNQUFBLElBQ0EsR0FBQXJKLEdBQUEsR0FBQUEsR0FBQWtKLGdCQUFBLEdBQUFsSixJQUFBa0osZ0JBQUEsSUFBQWxKLEdBQUFtSixjQUNBSiw0QkFBQU0sTUFBQWYsT0FBQSxRQUFBZ0IsVUFBQXRKLEVBQUEsRUFBQXVKLE1BQUEsWUFDQVAsWUFBQUssTUFBQSxJQUNBLElBQUFySixHQUFBa0osZ0JBQUEsSUFBQWxKLElBQUFrSixnQkFDQUgsNEJBQUFNLE1BQUFmLE9BQUEsVUFDQVUsWUFBQUssTUFBQSxJQUNBLEdBQUFySixHQUFBQSxHQUFBLElBQUFrSixpQkFBQUMsY0FDQW5KLEdBQUEsTUFBQWtKLGdCQUFBQyxjQUFBRCxpQkFBQUMsZUFDQW5KLEdBQUEsSUFBQWtKLGdCQUFBQyxjQUNBSiw0QkFBQU0sTUFBQWYsT0FBQSxTQUFBRCxXQUFBLElBQ0FXLFlBQUFLLE1BQUEsS0FDQSxHQUFBckosR0FBQSxHQUFBQSxHQUFBLEdBQUFBLEdBQUEsR0FBQUEsR0FBQWtKLGdCQUFBLEdBQUFsSixJQUFBa0osZ0JBQUEsSUFBQWxKLEdBQUFtSixnQkFDQUosNEJBQUFNLE1BQUFHLFVBQUEsSUFDQVIsWUFBQUssTUFBQSxHQUlBLElBQUFJLGVBQ0FDLG1CQUNBek4sR0FBQSw4QkFBQTBDLEtBQUEsV0FFQSxHQUFBeEMsR0FBQUYsRUFBQXdGLE1BQUFoRCxLQUFBLEtBQ0FpTCxrQkFBQXZOLEdBQUEsRUFFQXNOLFdBQUF0TixHQUFBRixFQUFBLFNBQUFFLEdBQUFtSixXQUNBNEMsYUFBQSxFQUNBeUIsVUFBQVosNEJBQ0FhLGNBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsUUFDQUMsWUFBQSxFQUFBLFFBQUEsRUFBQSxRQUNBMUIsWUFBQSxXQUNBSyxVQUFBNUIsZUFDQWtELEtBQUEsc0hBQ0FyQixhQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEdBQ0EzTSxFQUFBcUIsTUFDQUMsU0FBQSxPQUNBQyxLQUFBLE9BQ0FDLElBQUFpTCxFQUNBL0ssTUFBQUMsT0FBQSxxQkFDQU0sUUFBQSxTQUFBQyxHQUNBOUIsbUJBQUFGLEdBRUF5TSxFQUFBekssR0FDQWxDLEVBQUEsSUFBQUUsRUFBQSxlQUFBc0MsS0FBQSxRQUFBLHVCQUNBekIsZUFBQXlNLFdBQUF0TixHQUFBRixFQUFBLGtCQUFBbUQsT0FBQWpELEVBQUEsRUFBQXVOLGlCQUFBLE9BSUFLLFlBQUEsRUFDQUMsWUFBQSxTQUFBQyxFQUFBQyxHQUNBLElBQ0FDLGFBQUFDLFFBQUFqTyxFQUFBLGFBQUFrTyxLQUFBQyxVQUFBSixJQUNBLE1BQUEzRyxNQUdBZ0gsa0JBQUEsU0FBQU4sRUFBQUMsR0FDQUEsRUFBQU0sVUFBQXhCLGFBRUF5QixZQUFBLFNBQUFSLEdBQ0EsSUFDQSxNQUFBSSxNQUFBSyxNQUFBUCxhQUFBUSxRQUFBeE8sRUFBQSxlQUNBLE1BQUFvSCxNQUdBcUgsa0JBQUEsU0FBQVgsRUFBQUMsR0FDQUEsRUFBQU0sVUFBQXhCLGFBRUE2QixlQUFBLFNBQUFaLEdBQ0FyRywyQkFDQU0sc0JBQUEsTUFBQSxFQUFBL0gsRUFBQSxHQUNBMkgscUJBQUEsTUFBQSxFQUFBM0gsRUFBQSxHQUNBdUcsb0JBQUEsTUFBQSxFQUFBLEVBQUEsR0FDQVUsdUJBQUFqSCxHQUNBeUoscUJBQUEsRUFBQXpKLEdBQ0EyRSx5QkFBQSxNQUFBLEVBQUEsUUFLQTdFLEVBQUEsOEJBQUEwQyxLQUFBLFdBQ0EsR0FBQXhDLEdBQUFGLEVBQUF3RixNQUFBaEQsS0FBQSxLQUdBNkIsNEJBQUFuRSxFQUFBLEtBR0FGLEVBQUEsb0JBQUFzQyxPQUFBLEdBQ0E2QixzQkFJQW5FLEVBQUEsd0JBQUEwQyxLQUFBLFdBQ0EsR0FBQXhDLEdBQUFGLEVBQUF3RixNQUFBaEQsS0FBQSxNQUFBaUQsTUFBQSx3QkFBQSxHQUVBb0osRUFBQTdPLEVBQUEsd0JBQUFFLEdBQUFpRCxNQUNBbkQsR0FBQSx3QkFBQUUsR0FBQVksU0FDQWQsRUFBQSxJQUFBRSxFQUFBLFdBQUFLLE1BQUFzTyxHQUNBN08sRUFBQSxtQkFBQThDLE9BRUE5QyxFQUFBLFlBQUFFLEdBQUE0QyxPQUNBOUMsRUFBQSxlQUFBRSxHQUFBMkMsUUFHQSxJQUFBaU0sZUFBQTlPLEVBQUEsaUJBd1FBLElBdFFBQSxFQUFBMEMsS0FBQW9NLGNBQUEsV0FDQSxHQUFBNU8sR0FBQUYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLEtBQUEsRUFDQXpGLEdBQUF3RixNQUFBMUUsU0FDQWQsRUFBQSxJQUFBRSxFQUFBLFdBQUFLLE1BQUFQLEVBQUF3RixTQUdBLFdBQUF4RixFQUFBLGNBQUFtRCxRQUNBbkQsRUFBQSwwREFBQTZDLE9BSUE3QyxFQUFBLGlCQUFBNEYsTUFBQSxXQVdBLE1BVkE1RixHQUFBd0YsTUFBQXFFLEdBQUEsY0FDQTdKLEVBQUEsaUJBQUE2QyxPQUNBN0MsRUFBQSxvQkFBQThDLE9BRUE5QyxFQUFBLDhCQUFBMEMsS0FBQSxXQUNBK0ssaUJBQUF6TixFQUFBd0YsTUFBQWhELEtBQUEsT0FBQSxFQUNBZ0wsV0FBQXhOLEVBQUF3RixNQUFBaEQsS0FBQSxPQUFBdU0sZUFDQXZCLFdBQUF4TixFQUFBd0YsTUFBQWhELEtBQUEsT0FBQXdNLHVCQUdBLElBSUFoUCxFQUFBLDJCQUFBc0MsT0FBQSxHQUNBN0IsT0FBQXVILE9BQUFoSSxFQUFBLGVBQUFpRixTQUFBZ0ssUUFDQTlKLE1BQUEsUUFDQXhFLE9BQUEsVUFLQVgsRUFBQSxlQUFBNEYsTUFBQSxXQUNBNUYsRUFBQSxvQkFBQTZDLE9BQ0E3QyxFQUFBLGVBQUE2QyxPQUNBN0MsRUFBQSx3QkFBQThDLE9BQ0E5QyxFQUFBcUIsTUFDQUUsS0FBQSxPQUNBQyxJQUFBLFdBQ0FGLFNBQUEsT0FDQUksTUFBQUMsT0FBQSxxQkFBQUMsV0FBQTVCLEVBQUEsa0JBQUFtRCxPQUFBckIsUUFBQUMsRUFBQUMsSUFBQUYsU0FDQUcsUUFBQSxTQUFBUCxHQUNBakIsT0FBQTRKLFNBQUE3QyxLQUFBL0csT0FBQTRKLFNBQUE3QyxNQUVBdkUsTUFBQSxTQUFBdkIsRUFBQXdCLEdBQ0FsRCxFQUFBLGVBQUE4QyxPQUNBOUMsRUFBQSx3QkFBQTZDLE9BQ0E3QyxFQUFBLG9CQUFBOEMsWUFNQTlDLEVBQUEsMEJBQUFzQyxPQUFBLEdBQ0F0QyxFQUFBLDBCQUFBaUYsVUFDQWdDLFFBQUEsRUFBQTlCLE1BQUEsUUFBQXhFLE9BQUEsUUFBQXlFLFFBQUEsTUFBQUMsVUFBQSxpQkFBQTZCLFdBQUEsT0FDQUwsT0FBQSxXQUNBQyxzQkFDQXpHLGlCQUVBbUcsVUFBQSxXQUNBM0YsaUJBRUEsK0JBQUFiLEVBQUF3RixNQUFBaEQsS0FBQSxPQUNBZSxzQkFFQXZELEVBQUEsa0JBQUFjLFlBTUFkLEVBQUEsdUJBQUFzQyxPQUFBLEdBQ0F0QyxFQUFBLHVCQUFBaUYsVUFDQWdDLFFBQUEsRUFBQTlCLE1BQUEsUUFBQXhFLE9BQUEsUUFBQXlFLFFBQUEsTUFBQUMsVUFBQSxjQUFBNkIsV0FBQSxPQUNBTCxPQUFBLFdBQ0FDLHNCQUNBekcsaUJBRUFtRyxVQUFBLFdBQ0F4RyxFQUFBLGtCQUFBYyxTQUNBRCxvQkFNQWIsRUFBQSxxQ0FBQWtQLE1BQUEsV0FDQSxJQUFBbFAsRUFBQSwwQkFBQTBELE9BQUEsS0FBQTFELEVBQUEscUNBQUEwRCxPQUNBeUcsUUFBQXBJLEVBQUFxQixJQUFBQyxnQkFBQThMLHNCQUNBblAsRUFBQSxxQ0FBQTBELElBQUEsUUFNQTFELEVBQUEsNkJBQUFzQyxPQUFBLEdBQUF0QyxFQUFBLGlEQUFBc0MsT0FBQSxJQUNBdEMsRUFBQSw0RUFBQWlGLFVBQ0FnQyxRQUFBLEVBQUE5QixNQUFBLFFBQUF4RSxPQUFBLFFBQUF5RSxRQUFBLE1BQUFDLFVBQUEsb0JBQUE2QixXQUFBLE9BQ0FMLE9BQUEsV0FDQUMsc0JBQ0F6RyxpQkFFQW1HLFVBQUEsV0FDQXhHLEVBQUEsa0JBQUFjLFNBQ0FELG9CQU1BYixFQUFBLGdDQUFBc0MsT0FBQSxHQUNBdEMsRUFBQSxnQ0FBQWlGLFVBQ0FnQyxRQUFBLEVBQUE5QixNQUFBLFFBQUF4RSxPQUFBLFFBQUF5RSxRQUFBLE1BQUFDLFVBQUEsbUJBQUE2QixXQUFBLE9BQ0FMLE9BQUEsV0FDQUMsc0JBQ0F6RyxpQkFFQW1HLFVBQUEsV0FDQXhHLEVBQUEsa0JBQUFjLFNBQ0FELGtCQUVBa0csU0FBQSxXQUNBLEdBQUF4QixHQUFBdkYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLElBQ0FwQiw0QkFBQWtCLEVBQUEsR0FBQSxNQU1BdkYsRUFBQSxnQ0FBQXNDLE9BQUEsR0FDQXRDLEVBQUEsZ0NBQUFpRixVQUNBZ0MsUUFBQSxFQUFBOUIsTUFBQSxRQUFBeEUsT0FBQSxRQUFBeUUsUUFBQSxNQUFBQyxVQUFBLG1CQUFBNkIsV0FBQSxPQUNBTCxPQUFBLFdBQ0FDLHNCQUNBekcsaUJBRUFtRyxVQUFBLFdBQ0F4RyxFQUFBLGtCQUFBYyxTQUNBRCxvQkFNQWIsRUFBQSxtQkFBQXNDLE9BQUEsR0FDQXRDLEVBQUEsbUJBQUFpRixVQUNBZ0MsUUFBQSxFQUFBOUIsTUFBQSxRQUFBeEUsT0FBQSxRQUFBeUUsUUFBQSxNQUFBQyxVQUFBLFdBQUE2QixXQUFBLE9BQUFrSSxhQUFBLEVBQ0F2SSxPQUFBLFdBQ0FDLHNCQUNBekcsaUJBRUFtRyxVQUFBLFdBQ0F4RyxFQUFBLGtCQUFBYyxTQUNBRCxvQkFNQWIsRUFBQSx1QkFBQXNDLE9BQUEsR0FDQXRDLEVBQUEsdUJBQUFpRixVQUNBZ0MsUUFBQSxFQUFBOUIsTUFBQSxRQUFBeEUsT0FBQSxRQUFBeUUsUUFBQSxNQUFBQyxVQUFBLGdCQUFBNkIsV0FBQSxPQUFBa0ksYUFBQSxFQUNBdkksT0FBQSxXQUNBQyxzQkFDQXpHLGlCQUVBbUcsVUFBQSxXQUNBeEcsRUFBQSxrQkFBQWMsU0FDQUQsb0JBTUFiLEVBQUEsZ0NBQUFzQyxPQUFBLElBQ0F6QixpQkFDQUosT0FBQXVILE9BQUFoSSxFQUFBLGtCQUFBaUYsU0FBQWdLLFFBQ0E5SixNQUFBLFFBQ0F4RSxPQUFBLFdBS0FYLEVBQUEsdUJBQUFzQyxPQUFBLEdBQ0F0QyxFQUFBLHVCQUFBaUYsVUFDQWdDLFFBQUEsRUFBQTlCLE1BQUEsUUFBQXhFLE9BQUEsUUFBQXlFLFFBQUEsTUFBQUMsVUFBQSxjQUFBNkIsV0FBQSxPQUNBTCxPQUFBLFdBQ0FDLHNCQUNBekcsaUJBRUFtRyxVQUFBLFdBQ0F4RyxFQUFBLGtCQUFBYyxTQUNBRCxvQkFNQWIsRUFBQUYsVUFBQXVILEdBQUEsUUFBQSxtREFBQSxXQUNBLEdBQUFnSSxJQUFBLEVBQ0E5SixFQUFBdkYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLEtBQ0E2SixFQUFBdFAsRUFBQSxhQUFBdUYsRUFBQSxJQUFBcEMsT0FDQW9NLEVBQUFDLE9BQUFGLEdBQUFHLE9BRUFsSCxFQUFBaEQsRUFBQSxHQUNBUixFQUFBUSxFQUFBLEdBQ0FyRixFQUFBcUYsRUFBQSxFQVdBLElBUkFnSyxFQUFBQyxTQUFBQyxRQUNBelAsRUFBQXdGLE1BQUEyQyxTQUFBLG9CQUNBZ0MsUUFBQXBJLEVBQUFxQixJQUFBQyxnQkFBQXFNLHlCQUNBTCxHQUFBLElBS0FBLEVBQUEsQ0FDQTNHLFNBQUFqSSxPQUFBOEcsS0FBQSxHQUFBLFNBQ0EsSUFBQW9JLEdBQUEsa0NBQ0FBLElBQUEsYUFBQTVOLEVBQUFDLElBQUFpRSxRQUFBLDRFQUNBMEosR0FBQSx5REFBQTVOLEVBQUFxQixJQUFBQyxnQkFBQXVNLFVBQUEsT0FDQUQsR0FBQSxTQUNBM1AsRUFBQTBJLFNBQUE1SSxTQUFBK1AsTUFBQTFNLEtBQUF3TSxHQUdBM1AsRUFBQXFCLE1BQ0FFLEtBQUEsT0FDQUMsSUFBQU8sRUFBQUMsSUFBQWlFLFFBQUEsZ0NBQ0EzRSxTQUFBLE9BQ0FJLE1BQUFDLE9BQUE0RyxFQUFBQyxXQUFBekQsRUFBQW5ELFdBQUE1QixFQUFBLGtCQUFBbUQsUUFDQWxCLFFBQUEsU0FBQVAsR0FDQTFCLEVBQUEwSSxTQUFBNUksU0FBQStQLE1BQUExTSxLQUFBd00sRUFBQWpPLEdBQ0FnSCxTQUFBNUksU0FBQWdRLE1BQUEsR0FBQXhILFNBQ0FJLFNBQUE1SSxTQUFBa0csUUFFQXlDLGNBQUF2SSxTQU1BRixFQUFBLHFDQUFBc0MsT0FBQSxHQUNBaUIsc0JBSUF3TSxNQUFBdlAsS0FBQSxPQUFBUixFQUFBLGlCQUFBbUQsT0FDQW5ELEVBQUEsUUFBQVksSUFBQSxhQUFBLFFBQ0FtUCxNQUFBdlAsS0FBQSxhQUFBUixFQUFBLGlCQUFBbUQsUUFDQW5ELEVBQUEsUUFBQVksSUFBQSxhQUFBLFFBR0FaLEVBQUEscUJBQUFxSCxHQUFBLFFBQUEsV0FDQSxHQUFBckgsRUFBQXdGLE1BQUE5RCxLQUFBLFNBQ0FzSCxNQUFBakgsRUFBQXFCLElBQUFDLGdCQUFBMk0sb0JBSUFoUSxFQUFBLGtCQUFBc0MsT0FBQSxFQUFBLENBQ0F0QyxFQUFBOEwsR0FBQTNMLFNBQUE4UCxTQUFBQyxLQUFBLFNBQ0FsUSxFQUFBOEwsR0FBQTNMLFNBQUE4UCxTQUFBek8sSUFBQSxXQUNBeEIsRUFBQThMLEdBQUEzTCxTQUFBOFAsU0FBQUUsT0FBQSxTQUNBblEsRUFBQThMLEdBQUEzTCxTQUFBOFAsU0FBQUcsYUFBQSxFQUNBcFEsRUFBQThMLEdBQUEzTCxTQUFBOFAsU0FBQUksYUFDQS9PLFNBQUEsUUFHQXRCLEVBQUEsa0JBQUFHLFVBQ0FtUSxTQUFBLFNBQUFyTSxHQUNBLE1BQUFqRSxHQUFBd0YsTUFBQWhELEtBQUEsTUFBQStOLFFBQUEsV0FBQSxJQUFBQyxLQUFBQyxNQUFBeE0sSUFBQUEsSUFBQWpFLEVBQUEwUSxVQUFBek0sSUFBQSxJQUFBQSxFQUFBc00sUUFBQSxNQUNBeE8sRUFBQXFCLElBQUFDLGdCQUFBc04sY0FEQSxRQUlBMU8sUUFBQSxTQUFBaUIsRUFBQTBOLEdBQ0EsSUFBQTFOLEVBQUFqQixRQUNBLE1BQUFpQixHQUFBcUQsR0FDQSxJQUFBLFlBQUFyRCxFQUFBMk4sTUFDQTdRLEVBQUEsWUFBQWtELEVBQUE0TixRQUFBbEwsWUFDQSxJQUFBLFlBQUExQyxFQUFBMk4sTUFBQSxDQUNBLEdBQUFFLEdBQUEvUSxFQUFBd0YsTUFBQXdMLGFBQUEsa0JBQUFoSixTQUFBeEYsS0FBQSxrQkFDQXhDLEdBQUEsSUFBQStRLEdBQUE3TSxLQUFBME0sT0FLQTVRLEVBQUEsbUJBQUFtSSxTQUFBLDZCQUNBbkksRUFBQSxtQkFBQTZDLE9BQ0E3QyxFQUFBLGdCQUFBbUQsS0FBQSx1Q0FHQW5ELEVBQUEscUJBQUFxSCxHQUFBLFFBQUEsV0FDQSxHQUFBNEosR0FBQWpSLEVBQUF3RixLQUNBeEYsR0FBQXFCLE1BQ0FFLEtBQUEsT0FDQUMsSUFBQSxXQUNBRixTQUFBLE9BQ0FJLE1BQUFDLE9BQUEsYUFBQUUsS0FBQW9QLEVBQUF2UCxLQUFBLE1BQUFFLFdBQUE1QixFQUFBLGtCQUFBbUQsUUFDQWxCLFFBQUEsU0FBQVAsR0FDQXVQLEVBQUF2UCxLQUFBLE9BQUFBLEVBQUEsTUFDQXVQLEVBQUF2UCxLQUFBLFNBQUFBLEVBQUEsUUFDQXVQLEVBQUF2UCxLQUFBLFlBQUFBLEVBQUEsZUFLQSxJQUFBd1AsU0FBQSxHQUFBQyxLQUNBblIsR0FBQSxrQkFBQUcsVUFDQW9CLEtBQUEsWUFDQTZQLE9BQUEsbUJBQ0FDLFdBQUEsb0JBQ0FDLFNBQUEsb0JBQ0FDLFdBQ0FDLFdBQUEsRUFDQUMsUUFBQSxJQUNBQyxRQUFBUixRQUFBUyxjQUFBLEVBQ0FDLFdBQUEsR0FFQXRCLFNBQUEsU0FBQXJNLEdBQ0EsTUFBQUEsR0FBQW1OLE9BQUEsS0FBQTVCLFNBQUFDLFFBQ0F6UCxFQUFBd0YsTUFBQTJDLFNBQUEscUJBQ0EsR0FBQW5JLEVBQUF3RixNQUFBOUQsS0FBQSxTQUNBLEdBQUExQixFQUFBd0YsTUFBQTlELEtBQUEsV0FDQSxHQUFBMUIsRUFBQXdGLE1BQUE5RCxLQUFBLGVBRUF5SSxRQUFBcEksRUFBQXFCLElBQUFDLGdCQUFBd08scUJBQ0E3UixFQUFBLGtCQUFBOFIsa0JBQUEsUUFFQSxLQVRBLFFBYUE3UCxRQUFBLFNBQUFpQixFQUFBME4sR0FDQSxNQUFBMU4sR0FBQWpCLFNBR0FqQyxFQUFBLFlBQUFrRCxFQUFBNE4sUUFBQWxMLGFBRUEsMkJBQUExQyxFQUFBNk8sZUFDQS9SLEVBQUEsbUJBQUE2QyxPQUNBN0MsRUFBQSxnQkFBQW1ELEtBQUEsd0NBRUFuRCxFQUFBLGVBQUFjLFNBQ0FkLEVBQUEsbUJBQUE4QyxVQVRBSSxFQUFBcUQsT0FlQXZHLEVBQUEsa0JBQUE0RixNQUFBLFdBQ0EsTUFBQTVGLEdBQUF3RixNQUFBMkMsU0FBQSxzQkFDQSxFQURBLFNBTUFuSSxFQUFBLGtDQUFBcUgsR0FBQSxRQUFBLFNBQUFDLEVBQUFuSCxHQUNBLEdBQUE2UixHQUFBaFMsRUFBQXdGLE1BQUE4RSxLQUFBLEtBQ0F0SyxHQUFBLGtDQUFBaVMsSUFBQSxJQUFBRCxHQUFBN1IsU0FBQSxXQUNBSCxFQUFBLG1CQUFBK0gsU0FBQSxjQUlBL0gsRUFBQSxrQ0FBQXFILEdBQUEsU0FBQSxXQUNBLEdBQUEySyxHQUFBaFMsRUFBQXdGLE1BQUE4RSxLQUFBLEtBQ0F0SyxHQUFBLGtDQUFBaVMsSUFBQSxJQUFBRCxHQUFBN1IsU0FBQSxVQUNBSCxFQUFBLG1CQUFBcUcsWUFBQSxjQUlBckcsRUFBQSx1Q0FBQXNJLFNBR0F0SSxFQUFBLHVCQUFBc0MsT0FBQSxHQUNBdEMsRUFBQSx1QkFBQWlGLFVBQ0FnQyxRQUFBLEVBQUE5QixNQUFBLFFBQUF4RSxPQUFBLFFBQUF5RSxRQUFBLE1BQUFDLFVBQUEsWUFBQTZNLFVBQUEsUUFDQXJMLE9BQUEsV0FBQXhHLGlCQUNBaUYsV0FBQSxXQUNBdEYsRUFBQVMsUUFBQTRHLEdBQUEsVUFBQSxTQUFBOEssR0FDQSxHQUFBM0gsR0FBQSxtQkFBQTJILEdBQUF6USxLQUFBeVEsRUFBQUMsY0FBQTFRLEtBQUF5USxFQUFBelEsSUFFQTFCLEdBQUFxQixNQUNBRSxLQUFBLE9BQ0FDLElBQUFPLEVBQUFDLElBQUFpRSxRQUFBLGdDQUNBM0UsU0FBQSxPQUNBSSxNQUFBQyxPQUFBLHNCQUFBNkksUUFBQUEsRUFBQTFJLFFBQUFDLEVBQUFDLElBQUFGLFNBQ0FHLFFBQUEsU0FBQVAsR0FBQWpCLE9BQUE0SixTQUFBZ0ksVUFDQXBQLE1BQUEsU0FBQXZCLEdBQUFqQixPQUFBNEosU0FBQWdJLGVBSUE3TCxVQUFBLFdBQ0EzRixvQkE0VUFiLEVBQUEsc0JBQUE0RixNQUFBLFdBQ0FuRixPQUFBNlIsVUEyTUF0UyxFQUFBLHdCQUFBcUgsR0FBQSxRQUFBLFdBQ0EsR0FBQWtMLEdBQUF2UyxFQUFBd0YsTUFBQXdDLFNBQUFBLFNBQUFBLFNBQUFBLFNBQUF4RixLQUFBLEtBRUF4QyxHQUFBd0YsTUFBQXFFLEdBQUEsYUFDQTdKLEVBQUEsSUFBQXVTLEVBQUEsb0JBQUFqUSxRQUNBdEMsRUFBQSxTQUFBdVMsRUFBQSxtQkFBQTVOLFlBRUEzRSxFQUFBLElBQUF1UyxFQUFBLG9CQUFBN1AsS0FBQSxXQUNBMUMsRUFBQXdGLE1BQUE4RSxLQUFBLFdBQUEsT0FHQXRLLEVBQUEsSUFBQXVTLEVBQUEsb0JBQUE3UCxLQUFBLFdBQ0ExQyxFQUFBd0YsTUFBQThFLEtBQUEsV0FBQSxLQUVBdEssRUFBQSxJQUFBdVMsRUFBQSxvQkFBQWpRLFFBQ0F0QyxFQUFBLFNBQUF1UyxFQUFBLG1CQUFBM04sYUFNQTVFLEVBQUEsZ0NBQUF3UyxPQUFBLFdBRUEsR0FBQUMsR0FBQXpTLEVBQUF3RixNQUFBd0MsU0FBQUEsU0FBQUEsU0FDQTBLLEVBQUFDLGNBQUEsbUJBQUFGLEVBQUEvUSxLQUFBLFVBRUFnUixHQUFBbEQsU0FBQUMsUUFBQSxHQUFBZ0QsRUFBQS9RLEtBQUEsU0FBQSxHQUFBK1EsRUFBQS9RLEtBQUEsV0FBQSxHQUFBK1EsRUFBQS9RLEtBQUEsY0FDQXNILE1BQUFqSCxFQUFBcUIsSUFBQUMsZ0JBQUF1UCxZQUtBLElBQUFELGVBQUEsU0FBQUUsRUFBQTNTLEdBRUEsR0FBQWdCLElBQUEsT0FBQSxTQUFBLFFBQUEsUUFBQSxVQUVBK1AsT0FBQWpSLEVBQUE2UyxFQUFBM1MsRUFHQSxJQUFBNFMsR0FBQSxFQWFBLE9BWkE5UyxHQUFBMEMsS0FBQXhCLEVBQUEsU0FBQXlCLEVBQUFDLEdBQ0FrUSxHQUFBN0IsTUFBQThCLEtBQUEsUUFBQTdTLEVBQUEwQyxFQUFBLHFCQUFBc0IsT0FDQSxVQUFBdEIsRUFDQWtRLEdBQUEsSUFDQSxVQUFBbFEsRUFDQWtRLEdBQUEsSUFDQSxZQUFBbFEsSUFDQWtRLEdBQUEsT0FLQXRELE9BQUFzRCxFQUFBLHNCQUFBckQsVUM3MENBNVAsT0FBQUMsVUFBQUMsTUFBQSxTQUFBQyxHQXdSQSxRQUFBZ1QseUJBQ0FoVCxFQUFBLDBCQUFBaUYsVUFDQUMsUUFBQSxFQUFBQyxNQUFBLE1BQUEzRSxJQUFBLFFBQUF5UyxXQUFBLE9BQUF0UyxPQUFBLFFBQUF5RSxRQUFBLE1BQUFDLFVBQUEscUJBQ0F3QixPQUFBLFdBQ0FDLHVCQUVBeEIsV0FBQSxXQUlBLEdBQUE0TixjQUFBbFQsRUFBQSxJQUFBQSxFQUFBd0YsTUFBQWhELEtBQUEsTUFBQSxTQUFBQSxLQUFBLEtBQ0EwUSxjQUFBQSxhQUFBek4sTUFBQSxLQUNBekYsRUFBQSwrQkFBQTBELElBQUF3UCxhQUFBLElBQ0FsVCxFQUFBLGlDQUFBMEQsSUFBQXdQLGFBQUEsSUFDQWxULEVBQUEsZ0NBQUEwRCxJQUFBd1AsYUFBQSxHQUVBLElBQUEzTixPQUFBdkYsRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLEtBQ0EwTixjQUFBNU4sTUFBQSxFQUNBdkYsR0FBQSwrQkFBQTBELElBQUF5UCxlQUNBblQsRUFBQSxrQ0FBQTBELElBQUExRCxFQUFBLFlBQUFtVCxlQUFBaFEsUUFDQW5ELEVBQUEsaURBQUE4QyxPQUNBOUMsRUFBQSxnQ0FBQVksSUFBQSxVQUFBLFFBRUFaLEVBQUEscUJBQUE0RixNQUFBLFdBQ0E1RixFQUFBcUIsTUFDQUMsU0FBQSxPQUNBQyxLQUFBLE9BQ0FDLElBQUEsV0FDQUUsTUFBQUMsT0FBQSx1QkFBQXdSLGNBQUFBLGNBQ0FDLGlCQUFBcFQsRUFBQSxZQUFBbVQsZUFBQWhRLE9BQUFyQixRQUFBQyxFQUFBQyxJQUFBRixRQUNBdVIsV0FBQXJULEVBQUEsK0JBQUEwRCxNQUNBNFAsV0FBQXRULEVBQUEsaUNBQUEwRCxNQUNBNlAsV0FBQXZULEVBQUEsZ0NBQUEwRCxPQUVBekIsUUFBQSxTQUFBUCxNQUVBLEdBREFTLEtBQUFULE1BQ0EsV0FBQUEsS0FBQXFFLE9BQ0FpQyxPQUFBaEksRUFBQThMLEdBQUE3RyxTQUFBZSxRQUNBaEcsRUFBQSxnQkFBQW1ULGNBQUEsU0FBQWhRLEtBQUF6QixLQUFBOFIsY0FDQSxDQUNBLEdBQUFsTixhQUFBdEcsRUFBQSx1QkFBQW1ELElBQ0FuRCxHQUFBLHVCQUFBbUQsS0FBQW1ELFlBQUEsSUFBQTVFLEtBQUE2RSxZQU1BQyxVQUFBLFdBQ0F4RyxFQUFBLDhCQUFBNkMsT0FDQTdDLEVBQUEsa0JBQUFjLFlBS0EsUUFBQWdHO0FBQ0E5RyxFQUFBLFFBQUFnRSxPQUFBLG1GQUFBakMsRUFBQXFCLElBQUFDLGdCQUFBcUUsWUFBQSxjQU1BLFFBQUErTCw4QkFFQSxHQUFBQyxHQUFBMVQsRUFBQVMsUUFBQTBFLFFBQ0F3QixFQUFBLEtBQ0EsS0FBQStNLElBQ0EvTSxFQUFBLFFBR0EsSUFBQWdOLEdBQUEzVCxFQUFBUyxRQUFBMEUsUUFDQXlCLEVBQUEsS0FDQSxLQUFBK00sSUFDQS9NLEVBQUEsU0FHQTVHLEVBQUEscUJBQUFpRixVQUNBZ0MsUUFBQSxFQUFBOUIsTUFBQXdCLEVBQUFoRyxPQUFBaUcsRUFBQXBHLElBQUEsUUFBQTZFLFVBQUEsWUFBQUQsUUFBQSxNQUNBeUIsT0FBQSxXQUNBQyx1QkFFQU4sVUFBQSxXQUNBeEcsRUFBQSxrQkFBQWMsWUFJQWQsRUFBQSxxQkFBQTRGLE1BQUEsV0FDQTVGLEVBQUEsNkJBQUFzQyxPQUFBLEVBQ0F0QyxFQUFBLHNCQUFBMkUsWUFFQTNFLEVBQUEsc0JBQUE0RSxZQU1BLFFBQUFnUCxnQ0FBQXhLLEdBQ0FwSixFQUFBLHFCQUFBNEYsTUFBQSxXQUNBNUYsRUFBQXFCLE1BQ0FDLFNBQUEsT0FDQUMsS0FBQSxPQUNBQyxJQUFBLFdBQ0FFLE1BQUFDLE9BQUEsZ0JBQUF3UixjQUFBblQsRUFBQSxrQkFBQW1ELE9BQ0EwUSxnQkFBQS9OLG1CQUFBOUYsRUFBQSxvQkFBQW1ELFFBQ0EyUSxZQUFBaE8sbUJBQUE5RixFQUFBLGtCQUFBMEQsT0FDQXFRLGdCQUFBL1QsRUFBQSxzQkFBQTBELE1BQUE1QixRQUFBQyxFQUFBQyxJQUFBRixTQUNBRyxRQUFBLFNBQUFQLEdBQ0EsR0FBQXNTLEdBQUFuVSxPQUFBb1UsVUFBQXZTLEVBQ0F3UywyQkFBQUYsRUFBQTVLLFFBS0FwSixFQUFBLHFCQUFBNEYsTUFBQSxXQUNBNUYsRUFBQXFCLE1BQ0FDLFNBQUEsT0FDQUMsS0FBQSxPQUNBQyxJQUFBLFdBQ0FFLE1BQUFDLE9BQUEsY0FBQXdSLGNBQUFuVCxFQUFBLGtCQUFBbUQsT0FDQTBRLGdCQUFBN1QsRUFBQSxvQkFBQW1ELE9BQUFnUixlQUFBblUsRUFBQSxvQkFBQTBELE1BQ0E1QixRQUFBQyxFQUFBQyxJQUFBRixTQUNBRyxRQUFBLFNBQUFQLEdBQ0EsR0FBQXNTLEdBQUFuVSxPQUFBb1UsVUFBQXZTLEVBQ0F3UywyQkFBQUYsRUFBQTVLLFFBUUEsUUFBQThLLDJCQUFBRixFQUFBNUssR0FDQSxHQUFBLEdBQUE0SyxFQUFBLENBQ0FoVSxFQUFBLGNBQUFtRCxLQUFBNlEsRUFBQTdOLFNBRUEsSUFBQWlPLEdBQUEscUJBQUFwVSxFQUFBLGtCQUFBbUQsT0FBQSxJQUNBNkUsUUFBQWhJLEVBQUFvVSxHQUFBdlIsTUFDQSxJQUFBd1IsR0FBQSxTQUFBclUsRUFBQSxrQkFBQW1ELE1BQ0E2RSxRQUFBaEksRUFBQXFVLEdBQUF2UixPQUVBOUMsRUFBQSwwQ0FBQWdJLFNBQUFzTSxjQUNBdFUsRUFBQSwwQ0FBQWdJLFNBQUFzTSxjQUVBdFUsRUFBQSxpQkFBQTZDLE9BRUE3QyxFQUFBLCtCQUFBbUQsS0FBQTZRLEVBQUFPLFlBQ0F2VSxFQUFBLDZCQUFBcUcsWUFBQSxnQkFFQXJHLEVBQUEsd0JBQUFzQyxPQUFBLElBQ0F0QyxFQUFBLHdCQUFBOEosV0FBQSxZQUNBOUosRUFBQSxzQkFBQThKLFdBQUEsWUFDQTlKLEVBQUEseUJBQUE4SixXQUFBLGFBR0E5SixFQUFBLHdCQUFBd1MsT0FBQSxXQUNBeFMsRUFBQSx3QkFBQXdVLE9BQUEsWUFBQWxTLFFBQUEsRUFDQXRDLEVBQUEsd0JBQUFpUyxJQUFBLFlBQUF6UCxLQUFBLFdBQUEsWUFFQXhDLEVBQUEsd0JBQUE4SixXQUFBLGNBSUEySyxpQ0FBQXJMLElBS0EsUUFBQXFMLGtDQUFBckwsR0FDQXBKLEVBQUEseUJBQUEyRixPQUFBLFNBQ0EzRixFQUFBLHlCQUFBNEYsTUFBQSxXQUVBLEdBQUE4TyxHQUFBLEVBQ0ExVSxHQUFBLGdDQUFBMEMsS0FBQSxTQUFBcUIsR0FDQTJRLEdBQUExVSxFQUFBd0YsTUFBQTlCLE1BQUEsTUFFQSxLQUFBZ1IsRUFBQUMsT0FBQUQsRUFBQXBTLE9BQUEsSUFDQW9TLEVBQUFFLFVBQUEsRUFBQUYsRUFBQXBTLE9BQUEsR0FHQXRDLEVBQUEseUJBQUF3QyxLQUFBLFdBQUEsWUFFQXhDLEVBQUFxQixNQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsSUFBQSxXQUNBRSxNQUFBQyxPQUFBLG9CQUFBa1QsVUFBQTdVLEVBQUEsY0FBQW1ELE9BQ0EyUixnQkFBQTlVLEVBQUEsc0JBQUEwRCxNQUFBZ1IsTUFBQUEsRUFBQTVTLFFBQUFDLEVBQUFDLElBQUFGLFNBQ0FHLFFBQUEsU0FBQVAsR0FDQTBILEVBQUEyRixlQUNBM0YsRUFBQTRGLG1CQUNBaFAsRUFBQSxzQkFBQThKLFdBQUEsWUFDQTlKLEVBQUEseUJBQUE4SixXQUFBLFlBQ0E5SixFQUFBLHdCQUFBOEosV0FBQSxpQkFyZEE5SixFQUFBLGdFQUFBK1UsWUFBQSxTQUdBLElBQUFwSyxpQkFDQXFLLGNBQUFqVCxFQUFBcUIsSUFBQUMsZ0JBQUEyUixjQUNBcEssWUFBQTdJLEVBQUFxQixJQUFBQyxnQkFBQXdILFlBQ0FDLGFBQUEvSSxFQUFBcUIsSUFBQUMsZ0JBQUEwSCxhQUNBQyxNQUFBakosRUFBQXFCLElBQUFDLGdCQUFBNEgsTUFDQUMsUUFBQW5KLEVBQUFxQixJQUFBQyxnQkFBQThILFFBQ0FDLFlBQUFySixFQUFBcUIsSUFBQUMsZ0JBQUFnSSxZQUNBNEosV0FBQWxULEVBQUFxQixJQUFBQyxnQkFBQTZSLFlBQ0E1SixXQUNBQyxNQUFBeEosRUFBQXFCLElBQUFDLGdCQUFBbUksTUFDQUMsVUFBQTFKLEVBQUFxQixJQUFBQyxnQkFBQXFJLFdBS0ExTCxHQUFBLG9CQUFBcUosV0FDQTRDLGFBQUEsRUFDQWtKLGFBQUEsRUFDQTVJLFVBQUE1QixlQUNBaUQsWUFBQSxFQUFBLFFBQ0FELGNBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsUUFDQXpCLFlBQUEsNEJBQ0F3QixZQUNBdEIsV0FBQSxFQUNBZ0osY0FBQSxTQUFBQyxFQUFBQyxFQUFBckgsRUFBQXNILEVBQUFDLEdBQ0F4VixFQUFBcVYsR0FBQXROLFNBQUEsbUJBRUEsTUFDQTBOLFdBQUEsRUFBQSxLQUNBQSxXQUFBLEVBQUEsSUFDQSxNQUVBN0csZUFBQSxXQUNBNU8sRUFBQSw2QkFBQXdDLEtBQUEsV0FBQSxNQUtBeEMsRUFBQSxlQUFBcUosV0FDQTRDLGFBQUEsRUFDQWtKLGFBQUEsRUFDQTVJLFVBQUE1QixlQUNBdUIsWUFBQSw0QkFDQXdCLFdBQ0EsS0FDQSxLQUNBLE1BQ0FyQixPQUFBLGNBQUFxSixPQUFBLE9BQ0EsTUFDQXJKLE9BQUEsY0FBQXFKLE9BQUEsT0FDQSxNQUNBckosT0FBQSxhQUFBcUosT0FBQSxRQUNBckosT0FBQSxZQUFBcUosT0FBQSxPQUVBdkosZUFDQXdKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FFQXNDLGVBQUEsU0FBQVosR0FDQSxHQUFBLEdBQUFBLEVBQUE0SCxVQUFBdFQsT0FRQSxJQUFBLEdBSEF1VCxHQUFBN1YsRUFBQSx3QkFDQThWLEVBQUFELEVBQUEsR0FBQUUscUJBQUEsTUFBQXpULE9BQ0EwVCxFQUFBLEdBQ0FqUyxFQUFBLEVBQUFBLEVBQUE4UixFQUFBdlQsT0FBQXlCLElBQUEsQ0FDQSxHQUNBa1MsSUFEQWpJLEVBQUFrSSxlQUFBblMsRUFDQWlLLEVBQUF0QixPQUFBc0IsRUFBQTRILFVBQUE3UixJQUFBb1MsT0FBQSxHQUNBLElBQUFGLEdBQUFELEVBQ0EsQ0FDQSxHQUFBSSxHQUFBdFcsU0FBQXVXLGNBQUEsTUFDQUMsRUFBQXhXLFNBQUF1VyxjQUFBLEtBQ0FDLEdBQUFDLFFBQUFULEVBQ0FRLEVBQUFqUixVQUFBLFFBQ0FpUixFQUFBRSxVQUFBUCxFQUNBRyxFQUFBSyxZQUFBSCxHQUNBVCxFQUFBOVIsR0FBQTJTLFdBQUFDLGFBQUFQLEVBQUFQLEVBQUE5UixJQUNBaVMsRUFBQUMsS0FJQVcsaUJBQUEsRUFBQSxRQUNBaEosWUFBQSxFQUFBLFFBQ0FDLEtBQUEseUJBR0E3TixFQUFBNlcsV0FBQUMsU0FBQSxJQUFBQyxXQUFBLFNBQ0EvVyxFQUFBNlcsV0FBQUcsWUFBQWhYLEVBQUE2VyxXQUFBQyxTQUFBLElBR0EsSUFBQUcsb0JBQUFqWCxFQUFBLHVCQUFBcUosV0FDQTRDLGFBQUEsRUFDQU0sVUFBQTVCLGVBQ0FpRCxZQUFBLEVBQUEsUUFDQTFCLFlBQUEsV0FDQUMsZUFDQXdKLGFBQUEsRUFBQXZKLFdBQUEsRUFBQXNKLE9BQUEsS0FBQW5JLFVBQUEsRUFBQWpCLFVBQUEsR0FDQThJLGNBQUEsU0FBQUMsR0FDQXJWLEVBQUFxVixHQUFBdE4sU0FBQSxhQUVBNE4sYUFBQSxFQUFBcEksVUFBQSxFQUFBbUksT0FBQSxNQUFBckksVUFBQSxFQUFBZixVQUFBLEtBQ0FxSixhQUFBLEVBQUFwSSxVQUFBLEVBQUFtSSxPQUFBLE1BQUFwSixVQUFBLEtBQ0FxSixhQUFBLEVBQUFwSSxVQUFBLEVBQUFtSSxPQUFBLE1BQUFySSxVQUFBLEVBQUFmLFVBQUEsR0FDQThJLGNBQUEsU0FBQUMsR0FDQXJWLEVBQUFxVixHQUFBdE4sU0FBQSxZQUVBNE4sYUFBQSxFQUFBcEksVUFBQSxFQUFBbUksT0FBQSxNQUFBcEosVUFBQSxHQUNBOEksY0FBQSxTQUFBQyxHQUNBclYsRUFBQXFWLEdBQUF0TixTQUFBLFlBRUE0TixhQUFBLEVBQUFwSSxVQUFBLEVBQUFtSSxPQUFBLE1BQUFwSixVQUFBLEdBQ0E4SSxjQUFBLFNBQUFDLEdBQ0FyVixFQUFBcVYsR0FBQXROLFNBQUEsYUFFQTROLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FDQXFKLGFBQUEsRUFBQXBJLFVBQUEsRUFBQWpCLFVBQUEsS0FFQUUsYUFBQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUNBM00sRUFBQXFCLE1BQ0FDLFNBQUEsT0FDQUMsS0FBQSxPQUNBQyxJQUFBaUwsRUFDQS9LLE1BQUFDLE9BQUEsaUJBQUF1VixhQUFBbFgsRUFBQSx3QkFBQTBELE1BQ0F5VCxtQkFBQW5YLEVBQUEsOEJBQUEwRCxNQUNBMFQsZ0JBQUFwWCxFQUFBLDJCQUFBMEQsTUFBQTVCLFFBQUFDLEVBQUFDLElBQUFGLFNBQ0FHLFFBQUEsU0FBQUMsR0FDQXlLLEVBQUF6SyxPQUlBNEwsWUFBQSxFQUNBQyxZQUFBLFNBQUFDLEVBQUFDLEdBQ0EsSUFDQUMsYUFBQUMsUUFBQWtKLElBQUEsYUFBQWpKLEtBQUFDLFVBQUFKLElBQ0EsTUFBQTNHLE1BR0FrSCxZQUFBLFNBQUFSLEdBQ0EsSUFDQSxNQUFBSSxNQUFBSyxNQUFBUCxhQUFBUSxRQUFBMkksSUFBQSxlQUNBLE1BQUEvUCxNQUdBc0gsZUFBQSxXQUNBNU8sRUFBQSw2QkFBQXdDLEtBQUEsV0FBQSxHQUNBaVIsNkJBQ0FULHdCQUNBaFQsRUFBQSwwQkFBQThKLFdBQUEsY0FJQTlKLEdBQUEsMEJBQUE0RixNQUFBLFdBSUEsTUFIQTVGLEdBQUF3RixNQUFBaEQsS0FBQSxXQUFBLFlBQ0F5VSxtQkFBQWxJLGVBQ0FrSSxtQkFBQWpJLG9CQUNBLElBR0FoUCxFQUFBLDJCQUFBNlcsWUFHQSxJQUFBek4sUUFBQXBKLEVBQUEsMkJBQUFxSixXQUNBNEMsYUFBQSxFQUNBTSxVQUFBNUIsZUFDQXVCLFlBQUEsV0FDQU0sYUFBQSxTQUFBQyxRQUFBQyxPQUFBQyxZQUdBM00sRUFBQSxxQkFBQXdDLEtBQUEsV0FBQSxZQUNBeEMsRUFBQSxxQkFBQXdDLEtBQUEsV0FBQSxZQUdBeEMsRUFBQSwyQkFBQXNDLE9BQUEsR0FDQXRDLEVBQUEsNkNBQUFZLEtBQUEwVyxjQUFBLFFBRUF0WCxFQUFBLHNCQUFBd0MsS0FBQSxXQUFBLFlBQ0F4QyxFQUFBLHlCQUFBd0MsS0FBQSxXQUFBLFlBQ0F4QyxFQUFBcUIsTUFDQUMsU0FBQSxPQUNBQyxLQUFBLE9BQ0FDLElBQUFpTCxRQUNBL0ssTUFBQUMsT0FBQSxrQkFBQXdSLGNBQUFuVCxFQUFBLGtCQUFBbUQsT0FBQXJCLFFBQUFDLEVBQUFDLElBQUFGLFNBQ0FHLFFBQUEsU0FBQUMsUUFDQUMsS0FBQUQsUUFDQTBSLCtCQUFBeEssUUFDQXVELFdBQUF6SyxRQUVBLEtBQUFsQyxFQUFBLGNBQUFtRCxRQUFBakIsT0FBQXFWLHNCQUFBLEdBQ0F2WCxFQUFBLHNCQUFBOEosV0FBQSxZQUNBOUosRUFBQSx5QkFBQThKLFdBQUEsWUFDQTlKLEVBQUEsd0JBQUE4SixXQUFBLFlBQ0EySyxpQ0FBQXJMLFVBRUFwSixFQUFBLHNCQUFBd0MsS0FBQSxXQUFBLFlBQ0F4QyxFQUFBLHlCQUFBd0MsS0FBQSxXQUFBLFlBQ0F4QyxFQUFBLHdCQUFBd0MsS0FBQSxXQUFBLGFBSUF4QyxFQUFBLHFCQUFBOEosV0FBQSxZQUNBOUosRUFBQSxxQkFBQThKLFdBQUEsZ0JBSUFxQyxlQUNBd0osYUFBQSxFQUFBcEksVUFBQSxFQUFBakIsVUFBQSxLQUNBcUosYUFBQSxFQUFBcEksVUFBQSxFQUFBakIsVUFBQSxHQUNBOEksY0FBQSxTQUFBQyxHQUNBclYsRUFBQXFWLEdBQUF0TixTQUFBLGFBRUE0TixhQUFBLEVBQUFwSSxVQUFBLEVBQUFqQixVQUFBLEtBQ0FxSixhQUFBLEVBQUFwSSxVQUFBLEVBQUFqQixVQUFBLE1BNEJBLElBdkJBdE0sRUFBQSwwQkFBQWlGLFVBQ0FnQyxRQUFBLEVBQUE5QixNQUFBLE1BQUEzRSxJQUFBLFFBQUFHLE9BQUEsUUFBQXlFLFFBQUEsTUFBQUMsVUFBQSxrQkFDQW1DLEtBQUEsV0FDQSxHQUFBZ1EsR0FBQXhYLEVBQUEsMkJBQUEwRCxNQUNBK1QsRUFBQXpYLEVBQUEsK0JBQUE2SixHQUFBLFlBQUEsSUFBQSxJQUVBNk4sRUFBQSxFQUVBMVgsR0FBQSw2QkFBQTBDLEtBQUEsU0FBQXFCLEdBQ0EyVCxHQUFBLFlBQUEzVCxFQUFBLElBQUEvRCxFQUFBd0YsTUFBQTlCLE1BQ0FLLEtBR0EsSUFBQTRULEdBQUFsWCxPQUFBNEosU0FBQTdDLEtBQ0FoRyxFQUFBbVcsRUFBQTFOLFFBQUEsY0FBQSxnQ0FFQSxPQUFBekksR0FBQSw4QkFBQWdXLEVBQUEsZ0JBQUFDLEVBQUFDLEVBQUEsWUFBQTNWLEVBQUFDLElBQUFGLFNBRUEwRSxVQUFBLFdBQ0EvRixPQUFBNEosU0FBQTVKLE9BQUE0SixZQUlBckssRUFBQSxjQUFBc0MsT0FBQSxFQUFBLENBR0F0QyxFQUFBLDZDQUFBWSxLQUNBMFcsY0FBQSxRQUdBdFgsRUFBQSxtREFBQVksS0FDQXVFLE1BQUEsT0FDQXlTLGFBQUEsU0FHQSxJQUFBRixXQUFBMVgsRUFBQSxjQUFBbUQsTUFFQW5ELEdBQUFxQixNQUNBQyxTQUFBLE9BQ0FDLEtBQUEsT0FDQUMsSUFBQSxXQUNBRSxNQUFBQyxPQUFBLGlCQUFBK1YsVUFBQUEsVUFBQTNELGdCQUFBL1QsRUFBQSxvQkFBQW1ELE9BQ0EwVSxtQkFBQTdYLEVBQUEsdUJBQUFtRCxPQUFBckIsUUFBQUMsRUFBQUMsSUFBQUYsU0FDQUcsUUFBQSxTQUFBUCxHQUNBMUIsRUFBQSwyQkFBQW1ELEtBQUF6QixTQzdRQTdCLE9BQUFDLFVBQUFDLE1BQUEsU0FBQUMsR0FDQSxHQUFBQSxFQUFBLGlEQUFBc0MsT0FBQSxFQUFBLENBQ0EsR0FBQXdWLFNBQUE5WCxFQUFBLHVEQUFBbUQsTUFDQTJVLFNBQUF2SCxRQUFBLFlBQUEsSUFDQXZRLEVBQUEsdURBQUFjLFNBQ0FkLEVBQUEsMEJBQUFPLE1BQUF1WCxVQUlBOVgsRUFBQSw2QkFBQTRGLE1BQUEsV0FDQTVGLEVBQUF3RixNQUFBOEUsS0FBQSxZQUNBdEssRUFBQSxxQkFBQXNLLEtBQUEsV0FBQSxHQUNBdEssRUFBQSw2QkFBQXNDLE9BQUEsRUFDQXRDLEVBQUEsc0JBQUEyRSxZQUVBM0UsRUFBQSxzQkFBQTRFLFlBR0E1RSxFQUFBLHFCQUFBc0ssS0FBQSxXQUFBLEdBQ0F0SyxFQUFBLHNCQUFBNEUsYUFJQTVFLEVBQUEsc0JBQUE0RixNQUFBLFNBQUEwQixHQUNBQSxFQUFBeVEsZ0JBRUEsSUFBQXZXLEdBQUEsVUFDQXhCLEdBQUEsaURBQUFzQyxPQUFBLElBQ0FkLEVBQUEsbUNBR0F4QixFQUFBLHNCQUFBNkMsT0FDQTdDLEVBQUEsd0JBQUFZLElBQUEsVUFBQSxlQUNBLElBQUFvWCxHQUFBaFksRUFBQXdGLE1BQUFoRCxLQUFBLE1BQUFpRCxNQUFBLEtBQUEsRUFFQXpGLEdBQUFxQixNQUNBRSxLQUFBLE9BQ0FDLElBQUFBLEVBQ0FGLFNBQUEsT0FDQUksTUFBQUMsT0FBQSxnQkFBQXFXLGdCQUFBQSxFQUFBbFcsUUFBQUMsRUFBQUMsSUFBQUYsU0FDQUcsUUFBQSxTQUFBUCxHQUNBLEdBQUFBLEdBQUExQixFQUFBaVUsVUFBQXZTLEVBRUEsS0FBQUEsRUFBQSxRQUNBMUIsRUFBQSxzQkFBQTZDLE9BQ0E3QyxFQUFBLHdCQUFBNkMsT0FDQTdDLEVBQUEsbUJBQUFtRCxLQUFBLFlBQUF6QixFQUFBLEtBQUEsR0FBQSxLQUFBSyxFQUFBcUIsSUFBQUMsZ0JBQUE0VSxpQkFBQSxVQUVBalksRUFBQSx3QkFBQTZDLE9BQ0E3QyxFQUFBLHNCQUFBOEMsYUFNQTlDLEVBQUEsb0JBQUFzQyxPQUFBLElBQ0EsSUFBQXRDLEVBQUEsbUNBQUEwRCxPQUFBLElBQUExRCxFQUFBLG1DQUFBMEQsUUFDQTFELEVBQUEsb0JBQUE4QyxPQUNBOUMsRUFBQSxjQUFBOEMsUUFHQTlDLEVBQUEsa0dBQUFrWSxNQUFBLFdBQ0FsWSxFQUFBLHNCQUFBNkMsTUFFQSxJQUFBc1YsR0FBQW5ZLEVBQUEsbUNBQUEwRCxNQUNBMFUsRUFBQXBZLEVBQUEsbUNBQUEwRCxLQUdBeVUsR0FBQUEsRUFBQUUsT0FDQUQsRUFBQUEsRUFBQUMsT0FDQSxHQUFBRixFQUFBN1YsUUFBQSxHQUFBOFYsRUFBQTlWLFFBQ0F0QyxFQUFBLGdCQUFBNkMsT0FDQTdDLEVBQUEsb0JBQUE2QyxTQUVBN0MsRUFBQSxvQkFBQThDLE9BQ0E5QyxFQUFBLGNBQUE4QyxVQUlBOUMsRUFBQSxjQUFBNEYsTUFBQSxXQUNBNUYsRUFBQSxnQkFBQTZDLE9BQ0E3QyxFQUFBLHVDQUFBc0ssS0FBQSxZQUFBLEdBQ0F0SyxFQUFBLGNBQUE2QyxPQUNBN0MsRUFBQSxnQkFBQVksSUFBQSxVQUFBLElBQ0FaLEVBQUEsZ0JBQUFxRyxZQUFBLG9DQUNBckcsRUFBQSxzQkFBQThDLE1BR0EsSUFBQXRCLEtBQUEsVUFDQXhCLEdBQUEsaURBQUFzQyxPQUFBLElBQ0FkLElBQUEsa0NBR0EsSUFBQTJXLFdBQUFuWSxFQUFBLG1DQUFBMEQsTUFDQTBVLGNBQUFwWSxFQUFBLG1DQUFBMEQsTUFDQTRVLFdBQUF0WSxFQUFBLGdDQUFBMEQsS0FFQTFELEdBQUFxQixNQUNBRSxLQUFBLE9BQ0FDLElBQUFBLElBQ0FGLFNBQUEsT0FDQUksTUFBQUMsT0FBQSxrQkFBQUcsUUFBQUMsRUFBQUMsSUFBQUYsUUFBQXFXLFVBQUFBLFVBQUFDLGNBQUFBLGNBQUE1VyxJQUFBOFcsWUFDQXJXLFFBQUEsU0FBQVAsTUFDQVMsS0FBQVQsTUFFQTFCLEVBQUEsc0JBQUE2QyxPQUVBLFdBQUFuQixLQUFBNlcsa0JBQ0F2WSxFQUFBLGdCQUFBK0gsU0FBQSxxQkFFQS9ILEVBQUEsZ0JBQUErSCxTQUFBLGtCQUdBL0gsRUFBQSxnQkFBQW1ELEtBQUF6QixLQUFBNkUsS0FDQXZHLEVBQUEsZ0JBQUE4QyxPQUNBOUMsRUFBQSxjQUFBOEMsT0FDQTlDLEVBQUEsdUNBQUFzSyxLQUFBLFlBQUEiLCJmaWxlIjoidHVybml0aW50b29sdHdvLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICAgICQoXCIuanNfcmVxdWlyZWRcIikuc2hvdygpO1xuICAgICQoXCIuanNfaGlkZVwiKS5oaWRlKCk7XG5cbiAgICAvLyBDb25maWd1cmUgc3VibWl0IHBhcGVyIGZvcm0gZWxlbWVudHMgZGVwZW5kaW5nIG9uIHdoYXQgc3VibWlzc2lvbiB0eXBlIGlzIGFsbG93ZWQuXG4gICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMSkge1xuICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICB9XG5cbiAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAyKSB7XG4gICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuaGlkZSgpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUgYXNzaWdubWVudCBzdWJtaXNzaW9uIGlmIGEgc3VibWlzc2lvbiBhZ3JlZW1lbnQgZXhpc3RzIGFuZCBpcyBub3QgY2hlY2tlZC5cbiAgICBpZiAoKCQoXCIjaWRfc3VibWlzc2lvbmFncmVlbWVudFwiKS5sZW5ndGgpKSB7XG4gICAgICAgICQoJyNpZF9zdWJtaXRidXR0b24nKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8vIERpc2FibGUvZW5hYmxlIGFzc2lnbm1lbnQgc3VibWlzc2lvbiB3aGVuIHRoZSBzdWJtaXNzaW9uIGNoZWNrYm94IGlzIGNoZWNrZWQvdW5jaGVja2VkLlxuICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50Jykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAkKCcjaWRfc3VibWlzc2lvbmFncmVlbWVudCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI2lkX3N1Ym1pdGJ1dHRvbicpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNpZF9zdWJtaXNzaW9uYWdyZWVtZW50JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjaWRfc3VibWl0YnV0dG9uJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmRlbGV0ZV9wYXBlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBTZXQgdXAgdGhlIGNvbmZpcm0gd2luZG93LlxuICAgICAgICB2YXIgY29uZmlybXN0cm5hbWUgPSAkKHRoaXMpLmRhdGEoXCJjb25maXJtXCIpO1xuICAgICAgICB2YXIgY29uZmlybXN0ciA9IE0uc3RyLnR1cm5pdGludG9vbHR3b1tjb25maXJtc3RybmFtZV0ucmVwbGFjZSgvXFxcXG4vZyxcIlxcblwiKTtcbiAgICAgICAgdmFyIGNvbmZpcm1yZXN1bHQgPSBjb25maXJtKGNvbmZpcm1zdHIpO1xuXG4gICAgICAgIGlmIChjb25maXJtcmVzdWx0KSB7XG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2RlbGV0ZXN1Ym1pc3Npb24nLFxuICAgICAgICAgICAgICAgICAgICBzZXNza2V5OiBNLmNmZy5zZXNza2V5LFxuICAgICAgICAgICAgICAgICAgICBwYXBlcjogJCh0aGlzKS5kYXRhKFwicGFwZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHBhcnQ6ICQodGhpcykuZGF0YShcInBhcnRcIiksXG4gICAgICAgICAgICAgICAgICAgIGFzc2lnbm1lbnQ6ICQodGhpcykuZGF0YShcImFzc2lnbm1lbnRcIilcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLnN1Ym1pdF9ub3RoaW5nJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICggJCh0aGlzKS5oYXNDbGFzcyhcImRpc2FibGVkXCIpICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5wcm9wKCdpZCcpLnNwbGl0KCdfJylbMl07XG4gICAgICAgIHZhciBzdHVkZW50X2lkID0gJCh0aGlzKS5wcm9wKCdpZCcpLnNwbGl0KCdfJylbM107XG4gICAgICAgIHZhciBtZXNzYWdlID0gTS5zdHIudHVybml0aW50b29sdHdvLnN1Ym1pdG5vdGhpbmd3YXJuaW5nLnJlcGxhY2UoLzxicj4vZywgXCJcXG5cIikucmVwbGFjZSgvJiMzOTsvZywgXCJcXCdcIik7XG4gICAgICAgIHZhciBjb29raWVzZWVuID0gJC5jb29raWUoJ3N1Ym1pdG5vdGhpbmdhY2NlcHQnKTtcbiAgICAgICAgaWYgKCBjb29raWVzZWVuIHx8IGNvbmZpcm0oIG1lc3NhZ2UgKSApIHtcbiAgICAgICAgICAgIHN1Ym1pdE5vdGhpbmcoc3R1ZGVudF9pZCwgcGFydF9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH0pO1xuXG4gICAgLy8gQ29uZmlndXJlIHN1Ym1pdCBwYXBlciBmb3JtIGVsZW1lbnRzIGRlcGVuZGluZyBvbiB3aGF0IHN1Ym1pc3Npb24gdHlwZSBpcyBzZWxlY3RlZC5cbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNpZF9zdWJtaXNzaW9udHlwZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJChcIiNpZF9zdWJtaXNzaW9udHlwZVwiKS52YWwoKSA9PSAxKSB7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLmhpZGUoKTtcbiAgICAgICAgICAgICQoXCIjaWRfc3VibWlzc2lvbmZpbGVcIikucGFyZW50KCkucGFyZW50KCkuc2hvdygpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQoXCIjaWRfc3VibWlzc2lvbnR5cGVcIikudmFsKCkgPT0gMikge1xuICAgICAgICAgICAgJChcIiNpZF9zdWJtaXNzaW9uZmlsZVwiKS5wYXJlbnQoKS5wYXJlbnQoKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiI2lkX3N1Ym1pc3Npb250ZXh0XCIpLnBhcmVudCgpLnBhcmVudCgpLnNob3coKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gU2hvdyBsb2FkaW5nIGlmIHN1Ym1pc3Npb24gcGFzc2VzIHZhbGlkYXRpb24uXG4gICAgJChkb2N1bWVudCkub24oJ3N1Ym1pdCcsICcuc3VibWlzc2lvbl9mb3JtX2NvbnRhaW5lciBmb3JtJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgkKFwiI2lkX3N1Ym1pc3Npb250aXRsZVwiKS52YWwoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAkKFwiI2dlbmVyYWxcIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgJChcIi5tb2RfdHVybml0aW50b29sdHdvIC5ub3RpY2Vib3hcIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgJChcIi5zdWJtaXNzaW9uX2Zvcm1fY29udGFpbmVyIGZvcm1cIikuc2xpZGVVcCgnc2xvdycpO1xuICAgICAgICAgICAgJChcIiNzdWJtaXR0aW5nX2xvYWRlclwiKS5zbGlkZURvd24oJ3Nsb3cnKTtcblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEluaXRpYWxpc2UgYW5kIHNldCBjb29raWUgZm9yIHNob3dpbmcgdGhlIHN1bW1hcnkgZm9yIHRoaXMgYXNzaWdubWVudC5cbiAgICBpZiAoJCgnLnRvZ2dsZV9zdW1tYXJ5JykubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoISQuY29va2llKCdzaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoJC5jb29raWUoJ3Nob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuc2hvdygpO1xuICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICQoJy5pbnRyb2R1Y3Rpb24nKS5zbGlkZURvd24oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5zaG93X3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlVXAoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvZ2dsZSBTdW1tYXJ5IGRpc3BsYXkgb24gSW5ib3guXG4gICAgICAgICQoJy50b2dnbGVfc3VtbWFyeSBpJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkpIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgdHJ1ZSwgeyBleHBpcmVzOiAzMCB9KTtcbiAgICAgICAgICAgICAgICAkKCcuc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3N1bW1hcnlfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnLmludHJvZHVjdGlvbicpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSwgZmFsc2UsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfc3VtbWFyeV8nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZV9zdW1tYXJ5XycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5pbnRyb2R1Y3Rpb24nKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpc2UgYW5kIHNldCBjb29raWUgZm9yIHNob3dpbmcgdGhlIHBlZXJtYXJrIGFzc2lnbm1lbnRzIGZvciB0aGlzIGFzc2lnbm1lbnQuXG4gICAgaWYgKCQoJy50b2dnbGVfcGVlcm1hcmtzJykubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAoISQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpKSB7XG4gICAgICAgICAgICAkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCB0cnVlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpID09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcuc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVVcCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG9nZ2xlIFBlZXJtYXJrcyBkaXNwbGF5IG9uIEluYm94LlxuICAgICAgICAkKCcudG9nZ2xlX3BlZXJtYXJrcyBpJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSkge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHRydWUsIHsgZXhwaXJlczogMzAgfSk7XG4gICAgICAgICAgICAgICAgJCgnLnNob3dfcGVlcm1hcmtzXycgKyAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKSkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQuY29va2llKCdzaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIGZhbHNlLCB7IGV4cGlyZXM6IDMwIH0pO1xuICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcuaGlkZV9wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5zaG93X3BlZXJtYXJrX2luc3RydWN0aW9ucywgLmhpZGVfcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdChcIl9cIik7XG5cbiAgICAgICAgaWYgKGlkU3RyWzBdID09IFwic2hvd1wiKSB7XG4gICAgICAgICAgICAkKCcjc2hvd19wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2xpZGVEb3duKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjc2hvd19wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjaGlkZV9wZWVybWFya19pbnN0cnVjdGlvbnNfJyArIGlkU3RyWzNdKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjcGVlcm1hcmtfaW5zdHJ1Y3Rpb25zXycgKyBpZFN0clszXSkuc2xpZGVVcCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTaG93IG9wdGlvbnMgZm9yIHBhcnRzIGluIG1vZF9mb3JtLnBocC5cbiAgICBzaG93UGFydERhdGVzQm94ZXMoKTtcbiAgICAkKGRvY3VtZW50KS5vbignY2hhbmdlJywgJyNpZF9udW1wYXJ0cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2hvd1BhcnREYXRlc0JveGVzKCk7XG4gICAgfSk7XG5cbiAgICAvLyBBY3RpdmF0ZSBzaW1wbGUgZGF0YVRhYmxlcy5cbiAgICBpZiAoJChcIiNkYXRhVGFibGVcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAkKFwiI2RhdGFUYWJsZVwiKS5kYXRhVGFibGUoKTtcbiAgICB9XG5cbiAgICAvLyBDb25maWd1cmUgZGF0YXRhYmxlcyBsYW5ndWFnZSBzZXR0aW5ncy5cbiAgICBpZiAodHlwZW9mIE0uc3RyLnR1cm5pdGludG9vbHR3byAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGRhdGFUYWJsZXNMYW5nID0ge1xuICAgICAgICAgICAgXCJzUHJvY2Vzc2luZ1wiOiAnPHNwYW4gY2xhc3M9XCJsb2FkaW5nLW1lc3NhZ2VcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLnNwcm9jZXNzaW5nICsgJzwvc3Bhbj4nLFxuICAgICAgICAgICAgXCJzWmVyb1JlY29yZHNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnN6ZXJvcmVjb3JkcyxcbiAgICAgICAgICAgIFwic0luZm9cIjogTS5zdHIudHVybml0aW50b29sdHdvLnNpbmZvLFxuICAgICAgICAgICAgXCJzU2VhcmNoXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zc2VhcmNoLFxuICAgICAgICAgICAgXCJzTGVuZ3RoTWVudVwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc2xlbmd0aG1lbnUsXG4gICAgICAgICAgICBcIm9QYWdpbmF0ZVwiOiB7XG4gICAgICAgICAgICAgICAgXCJzTmV4dFwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc25leHQsXG4gICAgICAgICAgICAgICAgXCJzUHJldmlvdXNcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNwcmV2aW91c1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIEFjdGl2YXRlIGRhdGF0YWJsZSB0YWJzIG9uIHN1Ym1pc3Npb24gaW5ib3guXG4gICAgaWYgKCQoXCIjdGFic1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIFNldCB0YWIgcG9zaXRpb24uXG4gICAgICAgIHZhciBhY3RpdmVUYWIgPSAwO1xuICAgICAgICBpZiAoJChcIiN0YWJfcG9zaXRpb25cIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYWN0aXZlVGFiID0gJCgnI3RhYl9wb3NpdGlvbicpLnRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICAkKFwiI3RhYnNcIikudGFicygge1xuICAgICAgICAgICAgXCJhY3RpdmVcIjogYWN0aXZlVGFiLFxuICAgICAgICAgICAgXCJzaG93XCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJsZSA9ICQuZm4uZGF0YVRhYmxlLmZuVGFibGVzKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmICggdGFibGUubGVuZ3RoID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0YWJsZSkuZGF0YVRhYmxlKCkuZm5BZGp1c3RDb2x1bW5TaXppbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENvbmZpZ3VyZSB0aGUgZGF0YXRhYmxlIGZvciBhZGRpbmcvcmVtb3ZpbmcgZW5yb2xsZWQgdHV0b3JzL3N0dWRlbnRzIHRvIGEgVHVybml0aW4gY291cnNlLlxuICAgIGlmICgkKCcuZW5yb2xsZWRNZW1iZXJzJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcuZW5yb2xsZWRNZW1iZXJzJykuZGF0YVRhYmxlKHtcbiAgICAgICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJhb0NvbHVtbkRlZnNcIjogW1xuICAgICAgICAgICAgICAgIHtcImJTb3J0YWJsZVwiOiBmYWxzZSwgXCJzQ2xhc3NcIjogXCJjZW50ZXJlZF9jZWxsXCIsIFwiYVRhcmdldHNcIjogWzBdfSxcbiAgICAgICAgICAgICAgICB7XCJzQ2xhc3NcIjogXCJsZWZ0XCIsIFwiYVRhcmdldHNcIjogWzFdfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICAgICAgXCJmblNlcnZlckRhdGFcIjogZnVuY3Rpb24gKCBzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2sgKSB7XG4gICAgICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiZ2V0X21lbWJlcnNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHJvbGU6ICQoJyN1c2VyX3JvbGUnKS5odG1sKCl9LFxuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbkNhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiZXJyb3JcIjogZnVuY3Rpb24oZGF0YSwgcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX3Byb2Nlc3NpbmcnKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiBoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5kYXRhVGFibGVzX2VtcHR5JykuaHRtbChNLnN0ci50dXJuaXRpbnRvb2x0d28ubWVtYmVyY2hlY2tlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ29uZmlndXJlIHRoZSBkYXRhdGFibGVzIG9uIHRoZSBzdWJtaXNzaW9uIGluYm94LCBhIHNlcGVyYXRlIGRhdGF0YWJsZSBpcyBzaG93biBmb3IgZWFjaCBwYXJ0LlxuICAgIC8vIFRoZXJlIGFyZSB0YWJzIHRvIHRvZ2dsZSB3aGljaCBwYXJ0IHRhYmxlIGlzIGRpc3BsYXllZC5cblxuICAgIC8vIERlZmluZSBjb2x1bW4gZGVmaW5pdGlvbnMgYXMgdGhlcmUgY2FuIGJlIGRpZmZlcmVudCBudW1iZXIgb2YgY29sdW1ucy5cbiAgICB2YXIgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zID0gW107XG4gICAgdmFyIHZpc2libGVDb2xzID0gW107XG4gICAgdmFyIG5vT2ZDb2x1bW5zID0gJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGgnKS5sZW5ndGggLyAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmxlbmd0aDtcbiAgICB2YXIgc2hvd09yaWdSZXBvcnQgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY3JlcG9ydCcpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHZhciB1c2VHcmFkZU1hcmsgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY2dyYWRlJykubGVuZ3RoID4gMCkgPyB0cnVlIDogZmFsc2U7XG4gICAgdmFyIG11bHRpcGxlUGFydHMgPSAoJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUgdGguY292ZXJhbGxncmFkZScpLmxlbmd0aCA+IDApID8gdHJ1ZSA6IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9PZkNvbHVtbnM7IGkrKykge1xuICAgICAgICBpZiAoaSA9PSAyKSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaChudWxsKTtcbiAgICAgICAgICAgIHZpc2libGVDb2xzLnB1c2godHJ1ZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaSA9PSA0KSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjpcInN0cmluZ1wifSk7XG4gICAgICAgICAgICB2aXNpYmxlQ29scy5wdXNoKHRydWUpO1xuICAgICAgICB9IGVsc2UgaWYgKGkgPT0gNSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwicmlnaHRcIn0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpID09IDcgfHwgKGkgPT0gOSAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKChpID09IDkgJiYgIXNob3dPcmlnUmVwb3J0KSB8fCAoaSA9PSAxMSAmJiB1c2VHcmFkZU1hcmspKSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwicmlnaHRcIiwgXCJpRGF0YVNvcnRcIjogaSAtIDEsIFwic1R5cGVcIjpcIm51bWVyaWNcIn0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAxMiAmJiBzaG93T3JpZ1JlcG9ydCkgfHwgKGkgPT0gMTEgJiYgIXNob3dPcmlnUmVwb3J0KSkge1xuICAgICAgICAgICAgc3VibWlzc2lvbnNEYXRhVGFibGVDb2x1bW5zLnB1c2goe1wic0NsYXNzXCI6IFwicmlnaHRcIn0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChpID09IDEgfHwgKChpID49IDggJiYgIXNob3dPcmlnUmVwb3J0ICYmICF1c2VHcmFkZU1hcmspXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IChpID49IDEwICYmICgoIXNob3dPcmlnUmVwb3J0ICYmIHVzZUdyYWRlTWFyaykgfHwgKHNob3dPcmlnUmVwb3J0ICYmICF1c2VHcmFkZU1hcmspKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGkgPj0gMTIgJiYgc2hvd09yaWdSZXBvcnQgJiYgdXNlR3JhZGVNYXJrKSkpIHtcbiAgICAgICAgICAgIHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucy5wdXNoKHtcInNDbGFzc1wiOiBcImNlbnRlclwiLCBcImJTb3J0YWJsZVwiOiBmYWxzZX0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmICgoaSA9PSAwKSB8fCAoaSA9PSAzKSB8fCAoaSA9PSA2KSB8fCAoaSA9PSA4ICYmIHNob3dPcmlnUmVwb3J0KSB8fCAoKGkgPT0gOCAmJiAhc2hvd09yaWdSZXBvcnQpIHx8IChpID09IDEwICYmIHVzZUdyYWRlTWFyaykpKSB7XG4gICAgICAgICAgICBzdWJtaXNzaW9uc0RhdGFUYWJsZUNvbHVtbnMucHVzaCh7XCJiVmlzaWJsZVwiOiBmYWxzZX0pO1xuICAgICAgICAgICAgdmlzaWJsZUNvbHMucHVzaChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFydFRhYmxlcyA9IFtdO1xuICAgIHZhciByZWZyZXNoUmVxdWVzdGVkID0gW107XG4gICAgJCgndGFibGUuc3VibWlzc2lvbnNEYXRhVGFibGUnKS5lYWNoKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG4gICAgICAgIHJlZnJlc2hSZXF1ZXN0ZWRbcGFydF9pZF0gPSAwO1xuXG4gICAgICAgIHBhcnRUYWJsZXNbcGFydF9pZF0gPSAkKCd0YWJsZSMnICsgcGFydF9pZCkuZGF0YVRhYmxlKHtcbiAgICAgICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgIFwiYW9Db2x1bW5zXCI6IHN1Ym1pc3Npb25zRGF0YVRhYmxlQ29sdW1ucyxcbiAgICAgICAgICAgIFwiYUxlbmd0aE1lbnVcIjogW1sxMCwgMjUsIDUwLCAxMDAsIC0xXSwgWzEwLCAyNSwgNTAsIDEwMCwgXCJBbGxcIl1dLFxuICAgICAgICAgICAgXCJhYVNvcnRpbmdcIjogW1sgMiwgXCJhc2NcIiBdLFsgNCwgXCJhc2NcIiBdXSxcbiAgICAgICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJvTGFuZ3VhZ2VcIjogZGF0YVRhYmxlc0xhbmcsXG4gICAgICAgICAgICBcInNEb21cIjogJ3I8XCJsaXN0YmFyLWNvbnRhaW5lclwiPFwidG9wIGxpc3RiYXIgY2xlYXJmaXhcImxmPj48XCJkdF9wYWdpbmF0aW9uIGNsZWFyZml4XCJwaT50PFwiYm90dG9tXCI+PFwiZHRfcGFnaW5hdGlvbiBjbGVhcmZpeFwicGk+JyxcbiAgICAgICAgICAgIFwiZm5TZXJ2ZXJEYXRhXCI6IGZ1bmN0aW9uICggc1NvdXJjZSwgYW9EYXRhLCBmbkNhbGxiYWNrICkge1xuICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgIFwidXJsXCI6IHNTb3VyY2UsXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImluaXRpYWxpc2VfcmVkcmF3XCJ9LFxuICAgICAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlRWRpdGluZ1RleHQocGFydF9pZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGZvcmNlIHNob3dpbmcgb2YgbG9hZGluZyBiYXIgYXMgaWYgd2UgcGxhY2UgZm5DYWxsYmFjayBhZnRlciB0aGUgdGFibGUgaXMgcG9wdWxhdGVkIGl0IGlzIHdpcGVkIHdoZW4gcmVmcmVzaGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyMnICsgcGFydF9pZCArIFwiX3Byb2Nlc3NpbmdcIikuYXR0cignc3R5bGUnLCAndmlzaWJpbGl0eTogdmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U3VibWlzc2lvbnMocGFydFRhYmxlc1twYXJ0X2lkXSwgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHBhcnRfaWQsIDAsIHJlZnJlc2hSZXF1ZXN0ZWQsIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJiU3RhdGVTYXZlXCI6IHRydWUsXG4gICAgICAgICAgICBcImZuU3RhdGVTYXZlXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIHBhcnRfaWQgKyAnRGF0YVRhYmxlcycsIEpTT04uc3RyaW5naWZ5KG9EYXRhKSApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKCBlICkge1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImZuU3RhdGVTYXZlUGFyYW1zXCI6IGZ1bmN0aW9uKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgICAgICBvRGF0YS5hYlZpc0NvbHMgPSB2aXNpYmxlQ29scztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImZuU3RhdGVMb2FkXCI6IGZ1bmN0aW9uIChvU2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSggbG9jYWxTdG9yYWdlLmdldEl0ZW0ocGFydF9pZCArICdEYXRhVGFibGVzJykgKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJmblN0YXRlTG9hZFBhcmFtc1wiOiBmdW5jdGlvbihvU2V0dGluZ3MsIG9EYXRhKSB7XG4gICAgICAgICAgICAgICAgb0RhdGEuYWJWaXNDb2xzID0gdmlzaWJsZUNvbHM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJmbkRyYXdDYWxsYmFja1wiOiAgZnVuY3Rpb24oIG9TZXR0aW5ncyApIHtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlRGlnaXRhbFJlY2VpcHQoKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlRFZMYXVuY2hlcnMoXCJhbGxcIiwgMCwgcGFydF9pZCwgMCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVJlZnJlc2hSb3coXCJhbGxcIiwgMCwgcGFydF9pZCwgMCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVVwbG9hZEJveChcImFsbFwiLCAwLCAwLCAwKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlWmlwRG93bmxvYWRzKHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDaGVja2JveGVzKDAsIHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVbmFub3ltaXNlRm9ybShcImFsbFwiLCAwLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAkKCd0YWJsZS5zdWJtaXNzaW9uc0RhdGFUYWJsZScpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYXJ0X2lkID0gJCh0aGlzKS5hdHRyKFwiaWRcIik7XG5cbiAgICAgICAgLy8gUG9wdWxhdGUgUGVlcm1hcmsgU2VjdGlvbiBvZiBQYXJ0IERldGFpbHMuXG4gICAgICAgIHJlZnJlc2hQZWVybWFya0Fzc2lnbm1lbnRzKHBhcnRfaWQsIDApO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoJy5tZXNzYWdlc19hbW91bnQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlZnJlc2hVc2VyTWVzc2FnZXMoKTtcbiAgICB9XG5cbiAgICAvLyBSZXBvc2l0aW9uIGxpbmtzL2RpdnMuXG4gICAgJCgnLnRpaV90YWJsZV9mdW5jdGlvbnMnKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgndGlpX3RhYmxlX2Z1bmN0aW9uc18nKVsxXTtcblxuICAgICAgICB2YXIgdGlpX3RhYmxlX2Z1bmN0aW9ucyA9ICQoXCIjdGlpX3RhYmxlX2Z1bmN0aW9uc19cIiArIHBhcnRfaWQpLmh0bWwoKTtcbiAgICAgICAgJCgnI3RpaV90YWJsZV9mdW5jdGlvbnNfJyArIHBhcnRfaWQpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyAnX2xlbmd0aCcpLmFmdGVyKHRpaV90YWJsZV9mdW5jdGlvbnMpO1xuICAgICAgICAkKCcubWVzc2FnZXNfaW5ib3gnKS5zaG93KCk7XG5cbiAgICAgICAgJCgnI3JlZnJlc2hfJyArIHBhcnRfaWQpLnNob3coKTtcbiAgICAgICAgJCgnI3JlZnJlc2hpbmdfJyArIHBhcnRfaWQpLmhpZGUoKTtcbiAgICB9KTtcblxuICAgIHZhciB6aXBfZG93bmxvYWRzID0gJChcIi56aXBfZG93bmxvYWRzXCIpO1xuXG4gICAgJC5lYWNoKHppcF9kb3dubG9hZHMsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFydF9pZCA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgnXycpWzFdO1xuICAgICAgICAkKHRoaXMpLnJlbW92ZSgpO1xuICAgICAgICAkKCcjJyArIHBhcnRfaWQgKyAnX2xlbmd0aCcpLmFmdGVyKCQodGhpcykpO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoXCIjdXNlcl9yb2xlXCIpLmh0bWwoKSA9PSBcIkxlYXJuZXJcIikge1xuICAgICAgICAkKFwiLmRhdGFUYWJsZXNfbGVuZ3RoLCAuZGF0YVRhYmxlc19maWx0ZXIsIC5kdF9wYWdpbmF0aW9uXCIpLmhpZGUoKTtcbiAgICB9XG5cbiAgICAvLyBXaGVuIHRoZSByZWZyZXNoIHN1Ym1pc3Npb25zIGxpbmsgaXMgY2xpY2tlZCwgdGhlIGRhdGEgaW4gZWFjaCBkYXRhdGFibGUgbmVlZHMgdG8gYmUgcmVsb2FkZWQuXG4gICAgJChcIi5yZWZyZXNoX2xpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5pcyhcIjp2aXNpYmxlXCIpKSB7XG4gICAgICAgICAgICAkKFwiLnJlZnJlc2hfbGlua1wiKS5oaWRlKCk7XG4gICAgICAgICAgICAkKFwiLnJlZnJlc2hpbmdfbGlua1wiKS5zaG93KCk7XG5cbiAgICAgICAgICAgICQoJ3RhYmxlLnN1Ym1pc3Npb25zRGF0YVRhYmxlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoUmVxdWVzdGVkWyQodGhpcykuYXR0cihcImlkXCIpXSA9IDE7XG4gICAgICAgICAgICAgICAgcGFydFRhYmxlc1skKHRoaXMpLmF0dHIoXCJpZFwiKV0uZm5SZWxvYWRBamF4KCk7XG4gICAgICAgICAgICAgICAgcGFydFRhYmxlc1skKHRoaXMpLmF0dHIoXCJpZFwiKV0uZm5TdGFuZGluZ1JlZHJhdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gUmVzaXplIHdpbmRvdyBpZiBzdWJtaXNzaW9uIGhhcyBmYWlsZWQuXG4gICAgaWYgKCQoJy5zdWJtaXNzaW9uX2ZhaWx1cmVfbXNnJykubGVuZ3RoID4gMCkge1xuICAgICAgICB3aW5kb3cucGFyZW50LiQoJy51cGxvYWRfYm94JykuY29sb3Jib3gucmVzaXplKHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjgwMHB4XCIsXG4gICAgICAgICAgICBoZWlnaHQ6IFwiMjQwcHhcIlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBFbnJvbCBhbGwgc3R1ZGVudHMgbGluayBvbiB0aGUgZW5yb2xsZWQgc3R1ZGVudHMgcGFnZS5cbiAgICAkKFwiLmVucm9sX2xpbmtcIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKFwiI2Vucm9sbGluZ19lcnJvclwiKS5oaWRlKCk7XG4gICAgICAgICQoXCIuZW5yb2xfbGlua1wiKS5oaWRlKCk7XG4gICAgICAgICQoXCIuZW5yb2xsaW5nX2NvbnRhaW5lclwiKS5zaG93KCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgIHVybDogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJlbnJvbF9hbGxfc3R1ZGVudHNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJChcIi5lbnJvbF9saW5rXCIpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKFwiLmVucm9sbGluZ19jb250YWluZXJcIikuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoXCIjZW5yb2xsaW5nX2Vycm9yXCIpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUnVicmljIE1hbmFnZXIuXG4gICAgaWYgKCQoJy5ydWJyaWNfbWFuYWdlcl9sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5ydWJyaWNfbWFuYWdlcl9sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI4MzJweFwiLCBoZWlnaHQ6XCI2ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX21hbmFnZXJcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBSdWJyaWMgZHJvcCBkb3duIGluIGFkZC91cGRhdGUgZm9ybS5cbiAgICAgICAgICAgICAgICBpZiAoJCh0aGlzKS5hdHRyKFwiaWRcIikgIT0gJ3J1YnJpY19tYW5hZ2VyX2luYm94X2xhdW5jaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFJ1YnJpY1NlbGVjdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUnVicmljIFZpZXcuXG4gICAgaWYgKCQoJy5ydWJyaWNfdmlld19sYXVuY2gnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoJy5ydWJyaWNfdmlld19sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI4MzJweFwiLCBoZWlnaHQ6XCI2ODJweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicnVicmljX3ZpZXdcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNob3cgd2FybmluZyB3aGVuIGNoYW5naW5nIHRoZSBydWJyaWMgbGlua2VkIHRvIGFuIGFzc2lnbm1lbnQuXG4gICAgJCgnI2lkX3J1YnJpYywgI2lkX3BsYWdpYXJpc21fcnVicmljJykuZm9jdXMoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoJCgnaW5wdXRbbmFtZT1cImluc3RhbmNlXCJdJykudmFsKCkgIT0gJycgJiYgJCgnaW5wdXRbbmFtZT1cInJ1YnJpY193YXJuaW5nX3NlZW5cIl0nKS52YWwoKSAhPSAnWScpIHtcbiAgICAgICAgICAgIGlmIChjb25maXJtKE0uc3RyLnR1cm5pdGludG9vbHR3by5jaGFuZ2VydWJyaWN3YXJuaW5nKSkge1xuICAgICAgICAgICAgICAgICQoJ2lucHV0W25hbWU9XCJydWJyaWNfd2FybmluZ19zZWVuXCJdJykudmFsKCdZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBRdWlja21hcmsgTWFuYWdlci5cbiAgICBpZiAoJCgnLnF1aWNrbWFya19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDAgfHwgJCgnLnBsYWdpYXJpc21fdHVybml0aW5fcXVpY2ttYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcucXVpY2ttYXJrX21hbmFnZXJfbGF1bmNoLCAucGxhZ2lhcmlzbV90dXJuaXRpbl9xdWlja21hcmtfbWFuYWdlcl9sYXVuY2gnKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI3NzBweFwiLCBoZWlnaHQ6XCI2MDBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwicXVpY2ttYXJrX21hbmFnZXJcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBQZWVybWFyayBNYW5hZ2VyLlxuICAgIGlmICgkKCcudGlpX3BlZXJtYXJrX21hbmFnZXJfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcudGlpX3BlZXJtYXJrX21hbmFnZXJfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiODAycHhcIiwgaGVpZ2h0OlwiNzcycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInBlZXJtYXJrX21hbmFnZXJcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsb3NlZDpmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgcmVmcmVzaFBlZXJtYXJrQXNzaWdubWVudHMoaWRTdHJbMl0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgUGVlcm1hcmsgUmV2aWV3cy5cbiAgICBpZiAoJCgnLnRpaV9wZWVybWFya19yZXZpZXdzX2xhdW5jaCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJCgnLnRpaV9wZWVybWFya19yZXZpZXdzX2xhdW5jaCcpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjgwMnB4XCIsIGhlaWdodDpcIjc3MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJwZWVybWFya19yZXZpZXdzXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggY29udGFpbmluZyB0aGUgdHVybml0aW4gbWVzc2FnZSBpbmJveC5cbiAgICBpZiAoJChcIi5tZXNzYWdlc19pbmJveFwiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQoXCIubWVzc2FnZXNfaW5ib3hcIikuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiNzcycHhcIiwgaGVpZ2h0OlwiNzcycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcIm1lc3NhZ2VzXCIsIHRyYW5zaXRpb246IFwibm9uZVwiLCBjbG9zZUJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgICAgICBnZXRMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlpX2Nsb3NlX2JhcicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBmb3JtIHRvIG1lc3NhZ2Ugbm9uIHN1Ym1pdHRlcnMuXG4gICAgaWYgKCQoXCIubm9uc3VibWl0dGVyc19saW5rXCIpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgJChcIi5ub25zdWJtaXR0ZXJzX2xpbmtcIikuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiNzQwcHhcIiwgaGVpZ2h0OlwiNTQwcHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcIm5vbnN1Ym1pdHRlcnNcIiwgdHJhbnNpdGlvbjogXCJub25lXCIsIGNsb3NlQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVzaXplIHdpbmRvdyB3aGVuIGVtYWlsIGhhcyBiZWVuIHNlbnQuXG4gICAgaWYgKCQoJy5ub25zdWJtaXR0ZXJzZm9ybXN1Y2Nlc3Ntc2cnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgIHdpbmRvdy5wYXJlbnQuJCgnLm5vbnN1Ym1pdHRlcnMnKS5jb2xvcmJveC5yZXNpemUoe1xuICAgICAgICAgICAgd2lkdGg6IFwiNzQwcHhcIixcbiAgICAgICAgICAgIGhlaWdodDogXCIxMjBweFwiXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCBjb250YWluaW5nIHRoZSBFbWFpbCBub24gc3VibWl0dGVycyBmb3JtLlxuICAgIGlmICgkKCcucnVicmljX3ZpZXdfbGF1bmNoJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcucnVicmljX3ZpZXdfbGF1bmNoJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiODMycHhcIiwgaGVpZ2h0OlwiNjgycHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInJ1YnJpY192aWV3XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPcGVuIHRoZSBEViBpbiBhIG5ldyB3aW5kb3cgaW4gc3VjaCBhIHdheSBhcyB0byBub3QgYmUgYmxvY2tlZCBieSBwb3B1cHMuXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5kZWZhdWx0X29wZW4sIC5vcmlncmVwb3J0X29wZW4sIC5ncmFkZW1hcmtfb3BlbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcHJvY2VlZCA9IHRydWU7XG4gICAgICAgIHZhciBpZFN0ciA9ICQodGhpcykuYXR0cihcImlkXCIpLnNwbGl0KFwiX1wiKTtcbiAgICAgICAgdmFyIGR1ZV9kYXRlID0gJCgnI2RhdGVfZHVlXycgKyBpZFN0clsyXSkuaHRtbCgpO1xuICAgICAgICB2YXIgZHVlX2RhdGVfdW5peCA9IG1vbWVudChkdWVfZGF0ZSkudW5peCgpO1xuXG4gICAgICAgIHZhciBkdnR5cGUgPSBpZFN0clswXTtcbiAgICAgICAgdmFyIHN1Ym1pc3Npb25faWQgPSBpZFN0clsxXTtcbiAgICAgICAgdmFyIHBhcnRfaWQgPSBpZFN0clsyXTtcblxuICAgICAgICAvLyBTaG93IHJlc3VibWlzc2lvbiBncmFkZSB3YXJuaW5nIGlmIHRoZSBkdWUgZGF0ZSBoYXMgbm90IHBhc3NlZC5cbiAgICAgICAgaWYgKGR1ZV9kYXRlX3VuaXggPiBtb21lbnQoKS51bml4KCkpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdncmFkZWRfd2FybmluZycpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb25maXJtKE0uc3RyLnR1cm5pdGludG9vbHR3by5yZXN1Ym1pc3Npb25ncmFkZXdhcm4pKSB7XG4gICAgICAgICAgICAgICAgICAgICBwcm9jZWVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHByb2NlZWQpIHtcbiAgICAgICAgICAgIGR2V2luZG93ID0gd2luZG93Lm9wZW4oJycsICdfYmxhbmsnKTtcbiAgICAgICAgICAgIHZhciBsb2FkaW5nID0gJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIj4nO1xuICAgICAgICAgICAgbG9hZGluZyArPSAnPGltZyBzcmM9XCInICsgTS5jZmcud3d3cm9vdCArICcvbW9kL3R1cm5pdGludG9vbHR3by9waXgvdGlpSWNvbi5zdmdcIiBzdHlsZT1cIndpZHRoOjEwMHB4OyBoZWlnaHQ6IDEwMHB4XCI+JztcbiAgICAgICAgICAgIGxvYWRpbmcgKz0gJzxwIHN0eWxlPVwiZm9udC1mYW1pbHk6IEFyaWFsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7XCI+JyArIE0uc3RyLnR1cm5pdGludG9vbHR3by5sb2FkaW5nZHYgKyAnPC9wPic7XG4gICAgICAgICAgICBsb2FkaW5nICs9ICc8L2Rpdj4nO1xuICAgICAgICAgICAgJChkdldpbmRvdy5kb2N1bWVudC5ib2R5KS5odG1sKGxvYWRpbmcpO1xuXG4gICAgICAgICAgICAvLyBHZXQgaHRtbCB0byBsYXVuY2ggRFYuXG4gICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge2FjdGlvbjogZHZ0eXBlLCBzdWJtaXNzaW9uOiBzdWJtaXNzaW9uX2lkLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKX0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkKGR2V2luZG93LmRvY3VtZW50LmJvZHkpLmh0bWwobG9hZGluZyArIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBkdldpbmRvdy5kb2N1bWVudC5mb3Jtc1swXS5zdWJtaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgZHZXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKTtcblxuICAgICAgICAgICAgICAgICAgICBjaGVja0RWQ2xvc2VkKHBhcnRfaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoJChcIiNpZF9ydWJyaWMsICNpZF9wbGFnaWFyaXNtX3J1YnJpY1wiKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJlZnJlc2hSdWJyaWNTZWxlY3QoKTtcbiAgICB9XG5cbiAgICAvLyBPdmVycmlkZSBhbnkgdGhlbWUgdGhhdCBwdXRzIGEgYmFja2dyb3VuZCBvbiB0aGUgaHRtbCBlbGVtZW50IHdoaWNoIGdldHMgc2V0IG9uIGFuIGlmcmFtZS5cbiAgICBpZiAoc2VsZiAhPSB0b3AgJiYgJCgnI3ZpZXdfY29udGV4dCcpLmh0bWwoKSA9PSAnYm94Jykge1xuICAgICAgICAkKCdodG1sJykuY3NzKCdiYWNrZ3JvdW5kJywgJ25vbmUnKTtcbiAgICB9IGVsc2UgaWYgKHNlbGYgIT0gdG9wICYmICQoJyN2aWV3X2NvbnRleHQnKS5odG1sKCkgPT0gJ2JveF9zb2xpZCcpIHtcbiAgICAgICAgJCgnaHRtbCcpLmNzcygnYmFja2dyb3VuZCcsICcjRkZGJyk7XG4gICAgfVxuXG4gICAgJCgnLmVkaXRhYmxlX3Bvc3RkdWUnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5kYXRhKCdhbm9uJykgPT0gMSkge1xuICAgICAgICAgICAgYWxlcnQoTS5zdHIudHVybml0aW50b29sdHdvLnBvc3RkYXRlX3dhcm5pbmcpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoJCgnLmVkaXRhYmxlX3RleHQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMubW9kZSA9ICdpbmxpbmUnO1xuICAgICAgICAkLmZuLmVkaXRhYmxlLmRlZmF1bHRzLnVybCA9ICdhamF4LnBocCc7XG4gICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMub25ibHVyID0gJ3N1Ym1pdCc7XG4gICAgICAgICQuZm4uZWRpdGFibGUuZGVmYXVsdHMuc2hvd2J1dHRvbnMgPSBmYWxzZTtcbiAgICAgICAgJC5mbi5lZGl0YWJsZS5kZWZhdWx0cy5hamF4T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbidcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy5lZGl0YWJsZV90ZXh0JykuZWRpdGFibGUoe1xuICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCQodGhpcykuYXR0cignaWQnKS5pbmRleE9mKFwibWFya3NfXCIpID49IDAgJiYgKE1hdGguZmxvb3IodmFsdWUpICE9IHZhbHVlIHx8ICEkLmlzTnVtZXJpYyh2YWx1ZSkgfHwgdmFsdWUuaW5kZXhPZihcIi5cIikgIT0gLTEpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNLnN0ci50dXJuaXRpbnRvb2x0d28ubWF4bWFya3NlcnJvcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYoIXJlc3BvbnNlLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLm1zZztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLmZpZWxkID09IFwibWF4bWFya3NcIikge1xuICAgICAgICAgICAgICAgICAgICAkKCcjcmVmcmVzaF8nICsgcmVzcG9uc2UucGFydGlkKS5jbGljaygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZmllbGQgPT0gXCJwYXJ0bmFtZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJJZCA9ICQodGhpcykucGFyZW50c1VudGlsKCcudWktdGFicy1wYW5lbCcpLnBhcmVudCgpLmF0dHIoJ2FyaWEtbGFiZWxsZWRieScpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjJyArIHRhYklkKS50ZXh0KG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICgkKCcjZXhwb3J0X29wdGlvbnMnKS5oYXNDbGFzcygndGlpX2V4cG9ydF9vcHRpb25zX2hpZGUnKSkge1xuICAgICAgICAgICAgJCgnI2V4cG9ydF9vcHRpb25zJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnLmV4cG9ydF9kYXRhJykuaHRtbCgnPHNwYW4gY2xhc3M9XCJlbXB0eS1kYXNoXCI+LS08L3NwYW4+Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcuZWRpdGFibGVfcG9zdGR1ZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge2FjdGlvbjogJ2NoZWNrX2Fub24nLCBwYXJ0OiAkdGhpcy5kYXRhKCdwaycpLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKX0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdhbm9uJywgZGF0YVsnYW5vbiddKTtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZGF0YSgndW5hbm9uJywgZGF0YVsndW5hbm9uJ10pO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5kYXRhKCdzdWJtaXR0ZWQnLCBkYXRhWydzdWJtaXR0ZWQnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUnKS5lZGl0YWJsZSh7XG4gICAgICAgICAgICAndHlwZSc6ICdjb21ib2RhdGUnLFxuICAgICAgICAgICAgJ2Zvcm1hdCc6ICdZWVlZLU1NLUREIEhIOm1tJyxcbiAgICAgICAgICAgICd2aWV3Zm9ybWF0JzogJ0QgTU1NIFlZWVksIEhIOm1tJyxcbiAgICAgICAgICAgICd0ZW1wbGF0ZSc6ICdEIE1NTSBZWVlZICBISDptbScsXG4gICAgICAgICAgICAnY29tYm9kYXRlJzoge1xuICAgICAgICAgICAgICAgICdtaW51dGVTdGVwJzogMSxcbiAgICAgICAgICAgICAgICAnbWluWWVhcic6IDIwMDAsXG4gICAgICAgICAgICAgICAgJ21heFllYXInOiB0aGVEYXRlLmdldEZ1bGxZZWFyKCkgKyAyLFxuICAgICAgICAgICAgICAgICdzbWFydERheXMnOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYoIHZhbHVlLmZvcm1hdChcIlhcIikgPCBtb21lbnQoKS51bml4KCkgJiZcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5oYXNDbGFzcygnZWRpdGFibGVfcG9zdGR1ZScpICYmXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnYW5vbicpID09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCd1bmFub24nKSA9PSAwICYmXG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnc3VibWl0dGVkJykgPT0gMSApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICEgY29uZmlybShNLnN0ci50dXJuaXRpbnRvb2x0d28uZGlzYWJsZWFub25jb25maXJtKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVkaXRhYmxlLW9wZW4nKS5lZGl0YWJsZUNvbnRhaW5lcignaGlkZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGlvbiBvbmx5IGZhaWxzIGlmIHN0cmluZyBpcyByZXR1cm5lZCAoV2UgbmVlZCBhIHN0cmluZykuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5tc2c7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI3JlZnJlc2hfJyArIHJlc3BvbnNlLnBhcnRpZCkuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXhwb3J0X29wdGlvbiA9PSBcInRpaV9leHBvcnRfb3B0aW9uc19oaWRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNleHBvcnRfb3B0aW9ucycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5leHBvcnRfZGF0YScpLmh0bWwoJzxzcGFuIGNsYXNzPVwiZW1wdHktZGFzaFwiPi0tPC9zcGFuPicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmVtcHR5LWRhc2gnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNleHBvcnRfb3B0aW9ucycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdlZGl0YWJsZS1kaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEaXNhYmxlIG90aGVyIGVkaXRhYmxlIGZpZWxkcyAmIEdyYWRpbmcgdGVtcGxhdGUgc3VibWlzc2lvbnMgd2hlbiBhbiBlZGl0YWJsZSBmb3JtIGlzIG9wZW5lZC5cbiAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykub24oJ3Nob3duJywgZnVuY3Rpb24oZSwgZWRpdGFibGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gKCQodGhpcykucHJvcCgnaWQnKSk7XG4gICAgICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZSwgLmVkaXRhYmxlX3RleHQnKS5ub3QoJyMnICsgY3VycmVudCkuZWRpdGFibGUoJ2Rpc2FibGUnKTtcbiAgICAgICAgICAgICQoJy5zdWJtaXRfbm90aGluZycpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFbmFibGUgb3RoZXIgZWRpdGFibGUgZmllbGRzICYgR3JhZGluZyB0ZW1wbGF0ZSBzdWJtaXNzaW9ucyB3aGVuIGFuIGVkaXRhYmxlIGZvcm0gaXMgY2xvc2VkLlxuICAgICAgICAkKCcuZWRpdGFibGVfZGF0ZSwgLmVkaXRhYmxlX3RleHQnKS5vbignaGlkZGVuJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudCA9ICgkKHRoaXMpLnByb3AoJ2lkJykpO1xuICAgICAgICAgICAgJCgnLmVkaXRhYmxlX2RhdGUsIC5lZGl0YWJsZV90ZXh0Jykubm90KCcjJyArIGN1cnJlbnQpLmVkaXRhYmxlKCdlbmFibGUnKTtcbiAgICAgICAgICAgICQoJy5zdWJtaXRfbm90aGluZycpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAkKCcjaW5ib3hfZm9ybSBmb3JtLCAubGF1bmNoX2Zvcm0gZm9ybScpLnN1Ym1pdCgpO1xuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IGNvbnRhaW5pbmcgdGhlIEVVTEEgLlxuICAgIGlmICgkKCcudHVybml0aW5fZXVsYV9saW5rJykubGVuZ3RoID4gMCkge1xuICAgICAgICAkKCcudHVybml0aW5fZXVsYV9saW5rJykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiNzY2cHhcIiwgaGVpZ2h0OlwiNTk2cHhcIiwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcImV1bGFfdmlld1wiLCBzY3JvbGxpbmc6IFwiZmFsc2VcIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7IGdldExvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQod2luZG93KS5vbihcIm1lc3NhZ2VcIiwgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSB0eXBlb2YgZXYuZGF0YSA9PT0gJ3VuZGVmaW5lZCcgPyBldi5vcmlnaW5hbEV2ZW50LmRhdGEgOiBldi5kYXRhO1xuXG4gICAgICAgICAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogTS5jZmcud3d3cm9vdCArIFwiL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwiYWNjZXB0dXNlcmFncmVlbWVudFwiLCBtZXNzYWdlOiBtZXNzYWdlLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKGRhdGEpIHsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gRW5hYmxlIHRoZSBlZGl0aW5nIGZpZWxkcyBpbiB0aGUgaW5ib3ggcGFydHMgdGFibGUuXG4gICAgZnVuY3Rpb24gZW5hYmxlRWRpdGluZ1RleHQocGFydF9pZCkge1xuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX2RhdGUsICN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZWRpdGFibGVfdGV4dCcpLmVkaXRhYmxlKCdlbmFibGUnKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlIHRoZSBlZGl0aW5nIGZpZWxkcyBpbiB0aGUgaW5ib3ggcGFydHMgdGFibGUuXG4gICAgZnVuY3Rpb24gZGlzYWJsZUVkaXRpbmdUZXh0KHBhcnRfaWQpIHtcbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5lZGl0YWJsZV9kYXRlLCAjdGFicy0nICsgcGFydF9pZCArICcgLmVkaXRhYmxlX3RleHQnKS5lZGl0YWJsZSgnZGlzYWJsZScpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldExvYWRpbmdHaWYoKSB7XG4gICAgICAgIHZhciBpbWcgPSAnPGRpdiBjbGFzcz1cImxvYWRpbmdfZ2lmXCI+PC9kaXY+JztcbiAgICAgICAgJCgnI2Nib3hPdmVybGF5JykuYWZ0ZXIoaW1nKTtcbiAgICAgICAgdmFyIHRvcCA9ICQod2luZG93KS5zY3JvbGxUb3AoKSArICgkKHdpbmRvdykuaGVpZ2h0KCkgLyAyKTtcbiAgICAgICAgJCgnLmxvYWRpbmdfZ2lmJykuY3NzKCd0b3AnLCB0b3AgKyAncHgnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlTG9hZGluZ0dpZigpIHtcbiAgICAgICAgJCgnLmxvYWRpbmdfZ2lmJykucmVtb3ZlKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3VibWlzc2lvbnModGFibGUsIGFzc2lnbm1lbnRfaWQsIHBhcnRfaWQsIHN0YXJ0LCByZWZyZXNoX3JlcXVlc3RlZCwgdG90YWwpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIFwiZGF0YVR5cGVcIjogJ2pzb24nLFxuICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgXCJhc3luY1wiOiB0cnVlLFxuICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwiZ2V0X3N1Ym1pc3Npb25zXCIsIGFzc2lnbm1lbnQ6IGFzc2lnbm1lbnRfaWQsIHBhcnQ6IHBhcnRfaWQsIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgICAgICAgICByZWZyZXNoX3JlcXVlc3RlZDogcmVmcmVzaF9yZXF1ZXN0ZWRbcGFydF9pZF0sIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXksIHRvdGFsOiB0b3RhbH0sXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgZXZhbChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gcmVzdWx0LmVuZDtcblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYWFEYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGUuZm5BZGREYXRhKHJlc3VsdC5hYURhdGEpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZW5kIDwgcmVzdWx0LnRvdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFN1Ym1pc3Npb25zKHRhYmxlLCBhc3NpZ25tZW50X2lkLCBwYXJ0X2lkLCBzdGFydCwgcmVmcmVzaF9yZXF1ZXN0ZWQsIHJlc3VsdC50b3RhbCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBwYXJ0X2lkICsgXCJfcHJvY2Vzc2luZ1wiKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiBoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoX3JlcXVlc3RlZFtwYXJ0X2lkXSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGxyZWZyZXNoZWQgPSAxO1xuXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChyZWZyZXNoX3JlcXVlc3RlZCwgZnVuY3Rpb24oaywgdikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbHJlZnJlc2hlZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxyZWZyZXNoZWQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlZnJlc2hpbmdfbGluaycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5yZWZyZXNoX2xpbmsnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzdWJtaXRWaXNpYmlsaXR5KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlRWRpdGluZ1RleHQocGFydF9pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRW5hYmxlIEVtYWlsIG5vbiBzdWJtaXR0ZXJzIGxpbmsgaWYgdGhlcmUgaXMgYW55IG5vbiBzdWJtaXR0ZXJzLlxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Lm5vbnN1Ym1pdHRlcnMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubm9uc3VibWl0dGVyc19saW5rJykuYXR0cignc3R5bGUnLCAnZGlzcGxheTogYmxvY2snKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImVycm9yXCI6IGZ1bmN0aW9uKGRhdGEsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgJCgnIycgKyBwYXJ0X2lkICsgXCJfcHJvY2Vzc2luZ1wiKS5hdHRyKCdzdHlsZScsICd2aXNpYmlsaXR5OiBoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAkKCcuZGF0YVRhYmxlc19lbXB0eScpLmh0bWwoTS5zdHIudHVybml0aW50b29sdHdvLnRpaXN1Ym1pc3Npb25zZ2V0ZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IG9yIGhpZGUgdGhlIHN1Ym1pc3Npb24gbGluayBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgRVVMQSBoYXMgYmVlbiBhY2NlcHRlZC5cbiAgICBmdW5jdGlvbiBzdWJtaXRWaXNpYmlsaXR5KCkge1xuICAgICAgICBpZiAoKCQoXCIudXBsb2FkX2JveFwiKS5kYXRhKFwidXNlci10eXBlXCIpID09IDEpIHx8ICgkKFwiLnVwbG9hZF9ib3hcIikuZGF0YShcImV1bGFcIikgPT0gMSkpIHtcbiAgICAgICAgICAgICQoXCIudXBsb2FkX2JveFwiKS5zaG93KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAkKFwiLnVwbG9hZF9ib3hcIikuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBydWJyaWNzIGJlbG9uZ2luZyB0byBhIHVzZXIgZnJvbSBUdXJuaXRpbiBhbmQgcmVmcmVzaCBtZW51IGFjY29yZGluZ2x5LlxuICAgIGZ1bmN0aW9uIHJlZnJlc2hSdWJyaWNTZWxlY3QoKSB7XG4gICAgICAgIHZhciBydWJyaWNFbGVtZW50SWQgPSAoJCgnI2lkX3J1YnJpYycpLmxlbmd0aCkgPyAnI2lkX3J1YnJpYycgOiAnI2lkX3BsYWdpYXJpc21fcnVicmljJztcbiAgICAgICAgdmFyIGN1cnJlbnRSdWJyaWMgPSAkKHJ1YnJpY0VsZW1lbnRJZCkudmFsKCk7XG4gICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgIFwidHlwZVwiOiBcIlBPU1RcIixcbiAgICAgICAgICAgIFwidXJsXCI6IFwiLi4vbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiLFxuICAgICAgICAgICAgXCJkYXRhXCI6IHthY3Rpb246IFwicmVmcmVzaF9ydWJyaWNfc2VsZWN0XCIsIGFzc2lnbm1lbnQ6ICQoJ2lucHV0W25hbWU9XCJpbnN0YW5jZVwiXScpLnZhbCgpLFxuICAgICAgICAgICAgICAgIG1vZHVsZW5hbWU6ICQoJ2lucHV0W25hbWU9XCJtb2R1bGVuYW1lXCJdJykudmFsKCksIGNvdXJzZTogJCgnaW5wdXRbbmFtZT1cImNvdXJzZVwiXScpLnZhbCgpfSxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAkKCQocnVicmljRWxlbWVudElkKSkuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9ucyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKGksIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICAkKCQocnVicmljRWxlbWVudElkKSkuYXBwZW5kKCQoJzxvcHRpb24+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0IDogdmFsXG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAkKHJ1YnJpY0VsZW1lbnRJZCArICcgb3B0aW9uW3ZhbHVlPVwiJyArIGN1cnJlbnRSdWJyaWMgKyAnXCJdJykuYXR0cihcInNlbGVjdGVkXCIsXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVmcmVzaCB0aGUgbnVtYmVyIG9mIG1lc3NhZ2VzIGluIHRoZSB1c2VyJ3MgVHVybml0aW4gaW5ib3guXG4gICAgZnVuY3Rpb24gcmVmcmVzaFVzZXJNZXNzYWdlcygpIHtcbiAgICAgICAgJCgnLm1lc3NhZ2VzX2xvYWRpbmcnKS5zaG93KCk7XG4gICAgICAgICQoJy5tZXNzYWdlc19hbW91bnQnKS5odG1sKCcnKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnaHRtbCcsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJyZWZyZXNoX3VzZXJfbWVzc2FnZXNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlc19sb2FkaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlc19hbW91bnQnKS5odG1sKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBIaWRlIFBlZXJtYXJrIGFzc2lnbm1lbnRzIGZvciByZWZyZXNoaW5nLlxuICAgIGZ1bmN0aW9uIHJlc2V0UGVlcm1hcmtTZWN0aW9uKHBhcnRfaWQpIHtcbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC50b2dnbGVfcGVlcm1hcmtzJykuaGlkZSgpO1xuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2NvdW50JykuaHRtbCgnJyk7XG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmstbG9hZGluZycpLnNob3coKTtcbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5oaWRlKCk7XG4gICAgfVxuXG4gICAgLy8gUmVmcmVzaCB0aGUgUGVlcm1hcmsgQXNzaWdubWVudHMgZnJvbSBUdXJuaXRpbiBhbmQgc2hvdyBpbiBQYXJ0IERldGFpbHMgc2VjdGlvbiBvZiBpbmJveC5cbiAgICBmdW5jdGlvbiByZWZyZXNoUGVlcm1hcmtBc3NpZ25tZW50cyhwYXJ0X2lkLCByZWZyZXNoX3JlcXVlc3RlZCkge1xuXG4gICAgICAgIHZhciB1c2VyX3JvbGUgPSAoJCgnLnRpaV9wZWVybWFya19tYW5hZ2VyX2xhdW5jaCcpLmxlbmd0aCA+IDApID8gJ0luc3RydWN0b3InIDogJ0xlYXJuZXInXG5cbiAgICAgICAgaWYgKCQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAucGVlcm1hcmtfYXNzaWdubWVudHNfY29udGFpbmVyJykubGVuZ3RoID4gMCkge1xuXG4gICAgICAgICAgICByZXNldFBlZXJtYXJrU2VjdGlvbihwYXJ0X2lkKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcInJlZnJlc2hfcGVlcm1hcmtfYXNzaWdubWVudHNcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgIHBhcnQ6IHBhcnRfaWQsIHJlZnJlc2hfcmVxdWVzdGVkOiByZWZyZXNoX3JlcXVlc3RlZCwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2Fzc2lnbm1lbnRzX2NvbnRhaW5lcicpLmh0bWwoZGF0YS5wZWVybWFya190YWJsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZWVybWFyay1sb2FkaW5nJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLnBlZXJtYXJrX2NvdW50JykuaHRtbChkYXRhLm5vX29mX3BlZXJtYXJrcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubm9fb2ZfcGVlcm1hcmtzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC50b2dnbGVfcGVlcm1hcmtzJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC50b2dnbGVfcGVlcm1hcmtzJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChkYXRhLm5vX29mX3BlZXJtYXJrcyA+IDAgJiYgdXNlcl9yb2xlID09ICdJbnN0cnVjdG9yJykgfHwgKGRhdGEucGVlcm1hcmtzX2FjdGl2ZSAmJiB1c2VyX3JvbGUgPT0gJ0xlYXJuZXInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5yb3dfcGVlcm1hcmtfcmV2aWV3cycpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICgkLmNvb2tpZSgnc2hvd19wZWVybWFya3NfJyArICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpKSA9PSBcInRydWVcIiAmJiBkYXRhLm5vX29mX3BlZXJtYXJrcyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaG93X3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5oaWRlX3BlZXJtYXJrc18nICsgJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCkpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wZWVybWFya19hc3NpZ25tZW50c19jb250YWluZXInKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNob3cgbGlnaHQgYm94IHdpdGggZm9ybSB0byByZXZlYWwgdGhlIHN0dWRlbnQncyBuYW1lIG9uIGFuIGFub255bWlzZWQgc3VibWlzc2lvbi5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlVW5hbm95bWlzZUZvcm0oc2NvcGUsIGFzc2lnbm1lbnRfaWQsIHN1Ym1pc3Npb25faWQpIHtcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSAnYS51bmFub255bWlzZSc7XG4gICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyID0gJyNzdWJtaXNzaW9uXycgKyBzdWJtaXNzaW9uX2lkO1xuICAgICAgICB9XG4gICAgICAgICQoaWRlbnRpZmllcikuY29sb3Jib3goe1xuICAgICAgICAgICAgaW5saW5lOnRydWUsIHdpZHRoOlwiNTAlXCIsIHRvcDogXCIxMDBweFwiLCBoZWlnaHQ6XCIyNjBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwidGlpX3VuYW5vbnltaXNlX3JldmVhbF9mb3JtXCIsXG4gICAgICAgICAgICBvbkNvbXBsZXRlIDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkID09IDAgfHwgc3VibWlzc2lvbl9pZCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pc3Npb25faWQgPSBpZFN0clsxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFzc2lnbm1lbnRfaWQgPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBhc3NpZ25tZW50X2lkID0gJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQoXCIjc3VibWlzc2lvbl9pZFwiKS5odG1sKHN1Ym1pc3Npb25faWQpO1xuICAgICAgICAgICAgICAgICQoJyNjYm94TG9hZGVkQ29udGVudCAudW5hbm9ueW1pc2VfZm9ybScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjaWRfcmV2ZWFsJykudW5iaW5kKFwiY2xpY2tcIik7XG4gICAgICAgICAgICAgICAgJCgnI2lkX3JldmVhbCcpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJyZXZlYWxfc3VibWlzc2lvbl9uYW1lXCIsIGFzc2lnbm1lbnQ6IGFzc2lnbm1lbnRfaWQsIHN1Ym1pc3Npb25faWQ6IHN1Ym1pc3Npb25faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiBlbmNvZGVVUklDb21wb25lbnQoJChcIiNpZF9hbm9ueW1vdXNfcmV2ZWFsX3JlYXNvblwiKS52YWwoKSksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuc3RhdHVzID09IFwic3VjY2Vzc1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuY29sb3Jib3guY2xvc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjc3VibWlzc2lvbl8nICsgc3VibWlzc2lvbl9pZCkuYXR0cignaHJlZicsIE0uY2ZnLnd3d3Jvb3QgKyBcIi91c2VyL3ZpZXcucGhwP2lkPVwiICsgZGF0YS51c2VyaWQgKyBcIiZjb3Vyc2U9XCIgKyBkYXRhLmNvdXJzZWlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N1Ym1pc3Npb25fJyArIHN1Ym1pc3Npb25faWQpLmh0bWwoZGF0YS5uYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3N1Ym1pc3Npb25fJyArIHN1Ym1pc3Npb25faWQpLnJlbW92ZUNsYXNzKCd1bmFub255bWlzZSBjYm94RWxlbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X21zZyA9ICQoJyN1bmFub255bWlzZV9kZXNjJykuaHRtbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3VuYW5vbnltaXNlX2Rlc2MnKS5odG1sKGN1cnJlbnRfbXNnICsgXCIgXCIgKyBkYXRhLm1zZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICQoJy51bmFub255bWlzZV9mb3JtJykuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlVXBsb2FkQm94KHNjb3BlLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgIHZhciBpZGVudGlmaWVyID0gXCIudXBsb2FkX2JveFwiO1xuICAgICAgICBpZiAoc2NvcGUgPT0gXCJyb3dcIikge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9IFwiI3VwbG9hZF9cIiArIHN1Ym1pc3Npb25faWQgKyBcIl9cIiArIHBhcnRfaWQgKyBcIl9cIiArIHVzZXJfaWQ7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29sb3JCb3hXaWR0aCA9IFwiODAlXCI7XG4gICAgICAgIHZhciBjb2xvckJveEhlaWdodCA9IFwiODAlXCI7XG5cbiAgICAgICAgJChpZGVudGlmaWVyKS5jb2xvcmJveCh7XG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5oaWRlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25DbG9zZWQ6IGZ1bmN0aW9uKCkgeyBoaWRlTG9hZGluZ0dpZigpOyB9LFxuICAgICAgICAgICAgb25DbGVhbnVwOmZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hJbmJveFJvdyhcInVwbG9hZFwiLCBpZFN0clsxXSwgaWRTdHJbMl0sIGlkU3RyWzNdKTtcblxuICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOmNvbG9yQm94V2lkdGgsIGhlaWdodDpjb2xvckJveEhlaWdodCwgb3BhY2l0eTogXCIwLjdcIiwgY2xhc3NOYW1lOiBcInVwbG9hZFwiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIlxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBJbml0aWFsaXNlIHRoZSBldmVudHMgdG8gb3BlbiB0aGUgemlwIGZpbGVzIGNvbnRhaW5lZCBpbiB0aGUgcGFydCBkZXRhaWxzIGluZm9ybWF0aW9uIHRhYmxlOlxuICAgIC8vIEluYm94IGluIFhMUyBmb3JtYXRcbiAgICAvLyBaSVAgY29udGFpbmluZyBhbGwgZmlsZXMgYXMgUERGc1xuICAgIC8vIFpJUCBjb250YWluaW5nIGFsbCBmaWxlcyBpbiBvcmlnaW5hbCBmb3JtYXQuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZVppcERvd25sb2FkcyhwYXJ0X2lkKSB7XG4gICAgICAgIC8vIFVuYmluZCB0aGUgZXZlbnQgZmlyc3QgdG8gc3RvcCBpdCBiZWluZyBiaW5kZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAub3JpZ196aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5wZGZfemlwX29wZW4sICN0YWJzLScgKyBwYXJ0X2lkICsgJyAueGxzX2luYm94X29wZW4nKS51bmJpbmQoXCJjbGlja1wiKTtcblxuICAgICAgICAvLyBPcGVuIGEgc3ByZWFkc2hlZXQgb3IgYSB6aXAgZmlsZSBjb250YWluaW5nIGFsbCB0aGUgcmVsZXZhbnQgZGF0YS5cbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnX3ppcF9vcGVuLCAjdGFicy0nICsgcGFydF9pZCArICcgLnBkZl96aXBfb3BlbiwgI3RhYnMtJyArIHBhcnRfaWQgKyAnIC54bHNfaW5ib3hfb3BlbicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgZG93bmxvYWRaaXBGaWxlKGlkU3RyWzBdICsgXCJfXCIgKyBpZFN0clsxXSwgaWRTdHJbMl0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPcGVuIGFuIGlmcmFtZSBsaWdodCBib3ggd2hpY2ggcmVxdWVzdHMgYWxsIHRoZSBzdWJtaXNzaW9ucyBhcyBwZGZzIGZyb20gVHVybml0aW4uXG4gICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuZG93bmxvYWRwZGZfYm94JykuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOlwiNDAlXCIsIGhlaWdodDpcIjYwJVwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwiZG93bmxvYWRwZGZfd2luZG93XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgZ2V0TG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZ0dpZigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xvc2VkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoVXNlck1lc3NhZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9wZW4gYW4gaWZyYW1lIGxpZ2h0IGJveCB3aGljaCByZXF1ZXN0cyBzZWxlY3RlZCBzdWJtaXNzaW9ucyBhcyBwZGZzIGZyb20gVHVybml0aW4uXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcjdGFicy0nICsgcGFydF9pZCArICcgLmdtcGRmemlwX2JveCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICQodGhpcykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIG9wZW46dHJ1ZSxpZnJhbWU6dHJ1ZSwgd2lkdGg6XCI3ODZweFwiLCBoZWlnaHQ6XCIzMDBweFwiLCBvcGFjaXR5OiBcIjAuN1wiLCBjbGFzc05hbWU6IFwiZ21wZGZ6aXBfd2luZG93XCIsIHRyYW5zaXRpb246IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGhyZWY6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXNzaW9uX2lkcyA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5pbmJveF9jaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibWlzc2lvbl9pZHMgKz0gXCImc3VibWlzc2lvbl9pZFwiICsgaSArIFwiPVwiICsgJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQodGhpcykuYXR0cignaHJlZicpICsgc3VibWlzc2lvbl9pZHM7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkgeyBnZXRMb2FkaW5nR2lmKCk7IH0sXG4gICAgICAgICAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHsgaGlkZUxvYWRpbmdHaWYoKTsgfSxcbiAgICAgICAgICAgICAgICBvbkNsb3NlZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hVc2VyTWVzc2FnZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlnaHRCb3hDbG9zZUJ1dHRvbigpIHtcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD1cInRpaV9jbG9zZV9iYXJcIj48YSBocmVmPVwiI1wiIG9uY2xpY2s9XCIkLmNvbG9yYm94LmNsb3NlKCk7IHJldHVybiBmYWxzZTtcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLmNsb3NlYnV0dG9uICsgJzwvYT48L2Rpdj4nKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlRGlnaXRhbFJlY2VpcHQoKSB7XG4gICAgICAgIGlmICgkKCcudGlpX2RpZ2l0YWxfcmVjZWlwdCcpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICQoJy50aWlfZGlnaXRhbF9yZWNlaXB0JykuY29sb3Jib3goe1xuICAgICAgICAgICAgICAgIGlmcmFtZTp0cnVlLCB3aWR0aDpcIjgzMnB4XCIsIGhlaWdodDpcIjQ4MnB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJydWJyaWNfdmlld1wiLCB0cmFuc2l0aW9uOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBsaWdodEJveENsb3NlQnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIGdldExvYWRpbmdHaWYoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0aWlfY2xvc2VfYmFyJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nR2lmKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkKCcjdGlpX3JlY2VpcHRfcHJpbnQnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgd2luZG93LnByaW50KCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlSGlkZGVuWmlwRG93bmxvYWRzKHBhcnRfaWQpIHtcbiAgICAgICAgLy8gVW5iaW5kIHRoZSBldmVudCBmaXJzdCB0byBzdG9wIGl0IGJlaW5nIGJpbmRlZCBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5vcmlnY2hlY2tlZF96aXBfb3BlbicpLnVuYmluZChcImNsaWNrXCIpO1xuICAgICAgICAvLyBTZXBlcmF0ZSBiaW5kZXIgZm9yIGhpZGRlbiB6aXAgZmlsZSBsaW5rLlxuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdjaGVja2VkX3ppcF9vcGVuJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICBkb3dubG9hZFppcEZpbGUoaWRTdHJbMF0gKyBcIl9cIiArIGlkU3RyWzFdLCBwYXJ0X2lkKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZVJlZnJlc2hSb3coc2NvcGUsIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSBcIi5yZWZyZXNoX3JvdyAuZmEtcmVmcmVzaFwiO1xuICAgICAgICBpZiAoc2NvcGUgPT0gXCJyb3dcIikge1xuICAgICAgICAgICAgaWRlbnRpZmllciA9IFwiI3JlZnJlc2hyb3dfXCIgKyBzdWJtaXNzaW9uX2lkICsgJ18nICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCArIFwiIC5mYS1yZWZyZXNoXCI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAkKGlkZW50aWZpZXIpLnVuYmluZChcImNsaWNrXCIpO1xuXG4gICAgICAgICQoaWRlbnRpZmllcikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmhpZGUoKTtcbiAgICAgICAgICAgICQodGhpcykuc2libGluZ3MoJy5mYS1zcGlubmVyJykuY3NzKFwiZGlzcGxheVwiLFwiaW5saW5lLWJsb2NrXCIpLmFkZENsYXNzKCdmYS1sZycpO1xuICAgICAgICAgICAgdmFyIGlkU3RyID0gJCh0aGlzKS5wYXJlbnQoKS5hdHRyKFwiaWRcIikuc3BsaXQoXCJfXCIpO1xuICAgICAgICAgICAgcmVmcmVzaEluYm94Um93KGlkU3RyWzBdLCBpZFN0clsxXSwgaWRTdHJbMl0sIGlkU3RyWzNdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhbGlzZSB0aGUgZXZlbnRzIHRvIG9wZW4gdGhlIGRvY3VtZW50IHZpZXdlciBhcyB0aGUgbGlua3MgYXJlIGxvYWRlZCBhZnRlciB0aGUgcGFnZS5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlRFZMYXVuY2hlcnMoc2NvcGUsIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSAnIycgKyBwYXJ0X2lkICsgJyAuZG93bmxvYWRfb3JpZ2luYWxfb3Blbic7XG4gICAgICAgIGlmIChzY29wZSA9PSBcInJvd1wiKSB7XG4gICAgICAgICAgICBpZGVudGlmaWVyID0gJyNkb3dubG9hZG9yaWdpbmFsXycgKyBzdWJtaXNzaW9uX2lkICsgJ18nICsgcGFydF9pZCArICdfJyArIHVzZXJfaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVbmJpbmQgdGhlIGV2ZW50IGZpcnN0IHRvIHN0b3AgaXQgYmVpbmcgYmluZGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAkKGlkZW50aWZpZXIpLnVuYmluZChcImNsaWNrXCIpO1xuXG4gICAgICAgICQoaWRlbnRpZmllcikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAvLyBEb24ndCBvcGVuIE9SIERWIGlmIHNjb3JlIGlzIHBlbmRpbmcuXG4gICAgICAgICAgICBpZiAoISQodGhpcykuY2hpbGRyZW4oJy5zY29yZV9jb2xvdXInKS5oYXNDbGFzcygnc2NvcmVfY29sb3VyXycpKSB7XG4gICAgICAgICAgICAgICAgZG93bmxvYWRPcmlnaW5hbEZpbGUoaWRTdHJbMF0sIGlkU3RyWzFdLCBpZFN0clsyXSwgaWRTdHJbM10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBQdXQgdGhlIGZvcm0gaW4gdG8gdGhlIHN1Ym1pc3Npb25zIHRhYmxlIHJvdyBhbmQgc3VibWl0IGl0LlxuICAgIC8vIFRoaXMgd2lsbCBkb3dubG9hZCB0aGUgcmVsZXZhbnQgemlwIGZpbGUuXG4gICAgZnVuY3Rpb24gZG93bmxvYWRaaXBGaWxlKGRvd25sb2FkdHlwZSwgcGFydF9pZCkge1xuICAgICAgICB2YXIgc3VibWlzc2lvbl9pZHMgPSBbXTtcblxuICAgICAgICBpZiAoZG93bmxvYWR0eXBlID09IFwib3JpZ2NoZWNrZWRfemlwXCIgfHwgZG93bmxvYWR0eXBlID09IFwiZ21wZGZfemlwXCIpIHtcbiAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuaW5ib3hfY2hlY2tib3g6Y2hlY2tlZCcpLmVhY2goZnVuY3Rpb24oaSl7XG4gICAgICAgICAgICAgICAgc3VibWlzc2lvbl9pZHNbaV0gPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IGRvd25sb2FkdHlwZSwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksIHBhcnQ6IHBhcnRfaWQsIHN1Ym1pc3Npb25faWRzOiBzdWJtaXNzaW9uX2lkc30sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIGRvd25sb2FkdHlwZSArIFwiX2Zvcm1fXCIgKyBwYXJ0X2lkKS5odG1sKGRhdGEpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkb3dubG9hZHR5cGUgKyBcIl9mb3JtX1wiICsgcGFydF9pZCkuY2hpbGRyZW4oXCJmb3JtXCIpLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkb3dubG9hZHR5cGUgKyBcIl9mb3JtX1wiICsgcGFydF9pZCkuaHRtbChcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUHV0IHRoZSBmb3JtIGluIHRvIHRoZSBzdWJtaXNzaW9ucyB0YWJsZSByb3cgYW5kIHN1Ym1pdCBpdC5cbiAgICAvLyBUaGlzIHdpbGwgZG93bmxvYWQgdGhlIHJlbGV2YW50IG9yaWdpbmFsIGZpbGUuXG4gICAgZnVuY3Rpb24gZG93bmxvYWRPcmlnaW5hbEZpbGUoZHZ0eXBlLCBzdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKSB7XG4gICAgICAgIC8vIEdldCBodG1sIHRvIGxhdW5jaCBEVi5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBNLmNmZy53d3dyb290ICsgXCIvbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiLFxuICAgICAgICAgICAgZGF0YVR5cGU6IFwiaHRtbFwiLFxuICAgICAgICAgICAgZGF0YToge2FjdGlvbjogZHZ0eXBlLCBzdWJtaXNzaW9uOiBzdWJtaXNzaW9uX2lkLCBhc3NpZ25tZW50OiAkKCcjYXNzaWdubWVudF9pZCcpLmh0bWwoKX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJChcIiNcIiArIGR2dHlwZSArIFwiX2Zvcm1fXCIgKyBzdWJtaXNzaW9uX2lkKS5odG1sKGRhdGEpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkdnR5cGUgKyBcIl9mb3JtX1wiICsgc3VibWlzc2lvbl9pZCkuY2hpbGRyZW4oXCJmb3JtXCIpLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgICQoXCIjXCIgKyBkdnR5cGUgKyBcIl9mb3JtX1wiICsgc3VibWlzc2lvbl9pZCkuaHRtbChcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgRFYgaXMgc3RpbGwgb3BlbiwgcmVmcmVzaCB0aGUgb3BlbmluZyB3aW5kb3cgd2hlbiBpdCBjbG9zZXMuXG4gICAgZnVuY3Rpb24gY2hlY2tEVkNsb3NlZCggcGFydF9pZCApIHtcbiAgICAgICAgaWYgKHdpbmRvdy5kdldpbmRvdy5jbG9zZWQpIHtcbiAgICAgICAgICAgICQoXCIjcmVmcmVzaF9cIiArIHBhcnRfaWQpLmNsaWNrKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNoZWNrRFZDbG9zZWQocGFydF9pZCk7XG4gICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSW5pdGlhdGUgYSBub3RoaW5nIHN1Ym1pc3Npb24uXG4gICAgZnVuY3Rpb24gc3VibWl0Tm90aGluZyggdXNlcl9pZCwgcGFydF9pZCApIHtcbiAgICAgICAgJChcIiNzdWJtaXRub3RoaW5nXzBfXCIgKyBwYXJ0X2lkICsgXCJfXCIgKyB1c2VyX2lkICsgXCIgaVwiKS5hdHRyKCdjbGFzcycsJ2ZhIGZhLXNwaW4gZmEtc3Bpbm5lciBmYS1sZycpO1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwic3VibWl0X25vdGhpbmdcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksXG4gICAgICAgICAgICAgICAgcGFydDogcGFydF9pZCwgdXNlcjogdXNlcl9pZCwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAkLmNvb2tpZSggJ3N1Ym1pdG5vdGhpbmdhY2NlcHQnLCB0cnVlLCB7IGV4cGlyZXM6IDM2NSB9ICk7XG4gICAgICAgICAgICAgICAgJCgndGFibGUjJyArIHBhcnRfaWQgKyAnIC5zZWxlY3RfYWxsX2NoZWNrYm94JykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoXCIjc3VibWl0bm90aGluZ18wX1wiICsgcGFydF9pZCArIFwiX1wiICsgdXNlcl9pZCArIFwiIGlcIikuYXR0cignY2xhc3MnLCdmYSBmYS1wZW5jaWwgZmEtbGcnKTtcbiAgICAgICAgICAgICAgICAkKFwiI3N1Ym1pdG5vdGhpbmdfMF9cIiArIHBhcnRfaWQgKyBcIl9cIiArIHVzZXJfaWQpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIGFsZXJ0KCBkYXRhLnJlc3BvbnNlVGV4dCApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICByZWZyZXNoSW5ib3hSb3coICdzdWJtaXRub3RoaW5nJywgMCwgcGFydF9pZCwgdXNlcl9pZCApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZWZyZXNoIGEgcm93IGluIHRoZSBpbmJveCBhZnRlciBhIHN1Ym1pc3Npb24gaGFzIGJlZW4gbWFkZSBvciBEViBjbG9zZWQuXG4gICAgZnVuY3Rpb24gcmVmcmVzaEluYm94Um93KGxpbmssIHN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpIHtcbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TVFwiLFxuICAgICAgICAgICAgdXJsOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICBkYXRhOiB7YWN0aW9uOiBcInJlZnJlc2hfc3VibWlzc2lvbl9yb3dcIiwgYXNzaWdubWVudDogJCgnI2Fzc2lnbm1lbnRfaWQnKS5odG1sKCksXG4gICAgICAgICAgICAgICAgcGFydDogcGFydF9pZCwgdXNlcjogdXNlcl9pZCwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgJCgndGFibGUjJyArIHBhcnRfaWQgKyAnIC5zZWxlY3RfYWxsX2NoZWNrYm94JykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoc3VibWlzc2lvbl9pZCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsgKz0gXCJfMFwiO1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXNzaW9uX2lkID0gZGF0YS5zdWJtaXNzaW9uX2lkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5zdWJtaXNzaW9uX2lkID09IG51bGwgJiYgc3VibWlzc2lvbl9pZCAhPSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rICsgXCJfXCIgKyBzdWJtaXNzaW9uX2lkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmsgPSBsaW5rICsgXCJfXCIgKyBkYXRhLnN1Ym1pc3Npb25faWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFNob3cgZXhwb3J0IGxpbmtzLlxuICAgICAgICAgICAgICAgIGlmIChzdWJtaXNzaW9uX2lkICE9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2V4cG9ydF9saW5rcycpLnJlbW92ZUNsYXNzKCdoaWRkZW5fY2xhc3MnKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIHJvdyBhbmQgcmUtYWRkLlxuICAgICAgICAgICAgICAgIG9UYWJsZSA9ICQoJ3RhYmxlIycgKyBwYXJ0X2lkKS5kYXRhVGFibGUoKTtcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSAkKFwiI1wiICsgbGluayArIFwiX1wiICsgcGFydF9pZCArICdfJyArIHVzZXJfaWQpLnBhcmVudCgpLnBhcmVudCgpO1xuICAgICAgICAgICAgICAgIHZhciByb3dpbmRleCA9IHRyLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgb1RhYmxlLmZuRGVsZXRlUm93KHRyKTtcbiAgICAgICAgICAgICAgICBvVGFibGUuZm5BZGREYXRhKGRhdGEucm93KTtcblxuICAgICAgICAgICAgICAgIHN1Ym1pdFZpc2liaWxpdHkoKTtcblxuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VVcGxvYWRCb3goXCJyb3dcIiwgZGF0YS5zdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlRFZMYXVuY2hlcnMoXCJyb3dcIiwgZGF0YS5zdWJtaXNzaW9uX2lkLCBwYXJ0X2lkLCB1c2VyX2lkKTtcbiAgICAgICAgICAgICAgICBpbml0aWFsaXNlUmVmcmVzaFJvdyhcInJvd1wiLCBkYXRhLnN1Ym1pc3Npb25faWQsIHBhcnRfaWQsIHVzZXJfaWQpO1xuICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDaGVja2JveGVzKGRhdGEuc3VibWlzc2lvbl9pZCwgcGFydF9pZCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZVVuYW5veW1pc2VGb3JtKFwicm93XCIsICQoJyNhc3NpZ25tZW50X2lkJykuaHRtbCgpLCBkYXRhLnN1Ym1pc3Npb25faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTaG93IGRvd25sb2FkIGxpbmtzIHdoZW4gY2hlY2tib3hlcyBoYXZlIGJlZW4gdGlja2VkLlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VDaGVja2JveGVzKHN1Ym1pc3Npb25faWQsIHBhcnRfaWQpIHtcbiAgICAgICAgdmFyIGlkZW50aWZpZXIgPSAnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC5pbmJveF9jaGVja2JveCc7XG4gICAgICAgIGlmIChzdWJtaXNzaW9uX2lkICE9IDApIHtcbiAgICAgICAgICAgIGlkZW50aWZpZXIgPSAnY2hlY2tfJyArIHN1Ym1pc3Npb25faWQ7XG4gICAgICAgIH1cblxuICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94JykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCd0YWJsZSMnICsgcGFydF9pZCArICcgLnNlbGVjdF9hbGxfY2hlY2tib3gnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBpZGVudGlmaWVyICsgJywgLnNlbGVjdF9hbGxfY2hlY2tib3gnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKCcjdGFicy0nICsgcGFydF9pZCArICcgLmluYm94X2NoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RhYnMtJyArIHBhcnRfaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICAgICAgaW5pdGlhbGlzZUhpZGRlblppcERvd25sb2FkcyhwYXJ0X2lkKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgcGFydF9pZCArICcgLm9yaWdjaGVja2VkX3ppcF9vcGVuJykudW5iaW5kKCdjbGljaycpO1xuICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBwYXJ0X2lkICsgJyAuemlwX2Rvd25sb2FkcycpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyB0aGUgZGF0ZSBhbmQgbWFya3Mgb3B0aW9ucyBmb3IgdGhlIHJlbGV2YW50IG51bWJlciBvZiBwYXJ0cyB3aGVuIGNyZWF0aW5nL2VkaXRpbmcgYXNzaWdubWVudC5cbiAgICBmdW5jdGlvbiBzaG93UGFydERhdGVzQm94ZXMoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IDU7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPD0gJChcIiNpZF9udW1wYXJ0c1wiKS52YWwoKSkge1xuICAgICAgICAgICAgICAgICQoJ2ZpZWxkc2V0W2lkJD1cInBhcnRkYXRlcycgKyBpICsgJ1wiXScpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCdmaWVsZHNldFtpZCQ9XCJwYXJ0ZGF0ZXMnICsgaSArICdcIl0nKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAkKCcuc2VsZWN0X2FsbF9jaGVja2JveCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaWQgPSAkKHRoaXMpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLnBhcmVudCgpLmF0dHIoJ2lkJyk7XG5cbiAgICAgICAgaWYgKCQodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgIGlmICggJCgnIycgKyBpZCArICcgLmluYm94X2NoZWNrYm94JykubGVuZ3RoICkge1xuICAgICAgICAgICAgICAgICQoJyN0YWJzLScgKyBpZCArICcgLnppcF9kb3dubG9hZHMnKS5zbGlkZURvd24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoJyMnICsgaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyMnICsgaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoICQoJyMnICsgaWQgKyAnIC5pbmJveF9jaGVja2JveCcpLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGFicy0nICsgaWQgKyAnIC56aXBfZG93bmxvYWRzJykuc2xpZGVVcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBTZXR0aW5ncyBwYWdlIHBhcnRzIHdhcm5pbmcuXG4gICAgJCgnW2lkXj1maXRlbV9pZF9kdHBvc3RdIHNlbGVjdCcpLmNoYW5nZShmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gR2V0IHBhcnQgaWQgZnJvbSB0aXRsZS5cbiAgICAgICAgdmFyIGRhdGFFbCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgIHZhciBwb3N0X2RhdGUgPSBidWlsZFVuaXhEYXRlKCcjZml0ZW1faWRfZHRwb3N0JywgZGF0YUVsLmRhdGEoJ3BhcnRJZCcpKTtcblxuICAgICAgICBpZiAoIHBvc3RfZGF0ZSA8IG1vbWVudCgpLnVuaXgoKSAmJiBkYXRhRWwuZGF0YSgnYW5vbicpID09IDEgJiYgZGF0YUVsLmRhdGEoJ3VuYW5vbicpID09IDAgJiYgZGF0YUVsLmRhdGEoJ3N1Ym1pdHRlZCcpID09IDEgKSB7XG4gICAgICAgICAgICBhbGVydChNLnN0ci50dXJuaXRpbnRvb2x0d28uYW5vbmFsZXJ0KTtcbiAgICAgICAgfVxuXG4gICAgfSk7XG5cbiAgICB2YXIgYnVpbGRVbml4RGF0ZSA9IGZ1bmN0aW9uKGVsLCBwYXJ0X2lkKSB7XG4gICAgICAgIC8vIE9wdGlvbiBpZCdzLlxuICAgICAgICB2YXIgc3RhcnQgPSBbICdfZGF5JywgJ19tb250aCcsICdfeWVhcicsICdfaG91cicsICdfbWludXRlJyBdO1xuXG4gICAgICAgICR0aGlzID0gJChlbCArIHBhcnRfaWQpO1xuXG4gICAgICAgIC8vIEJ1aWxkIGRhdGU6dGltZSBzdHJpbmcuXG4gICAgICAgIHZhciBkYXRlID0gJyc7XG4gICAgICAgICQuZWFjaChzdGFydCwgZnVuY3Rpb24oaywgdikge1xuICAgICAgICAgICAgZGF0ZSArPSAkdGhpcy5maW5kKCdbaWQkPScgKyBwYXJ0X2lkICsgdiArICddIG9wdGlvbjpzZWxlY3RlZCcpLnRleHQoKTtcbiAgICAgICAgICAgIGlmICh2ID09PSAnX3llYXInKSB7XG4gICAgICAgICAgICAgICAgZGF0ZSArPSAnICc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHYgPT09ICdfaG91cicpIHtcbiAgICAgICAgICAgICAgICBkYXRlICs9ICc6JztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIHYgIT09ICdfbWludXRlJykge1xuICAgICAgICAgICAgICAgIGRhdGUgKz0gJy0nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZXR1cm4gY29udmVydGVkIG1vbWVudCBvYmplY3QuXG4gICAgICAgIHJldHVybiBtb21lbnQoZGF0ZSwgXCJERC1NTU1NLVlZWVkgaGg6bW1cIikudW5peCgpO1xuICAgIH1cbn0pO1xuIiwialF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigkKSB7XG4gICAgLy8gQWRkIHN0eWxlIHRvIGhlYWRlciByb3cuXG4gICAgJCgnLnN1Ym1pc3Npb25zRGF0YVRhYmxlIHRoZWFkIHRyLCAjY291cnNlQnJvd3NlclRhYmxlIHRoZWFkIHRyJykudG9nZ2xlQ2xhc3MoXCJoZWFkZXJcIik7XG5cbiAgICAvLyBDb25maWd1cmUgZGF0YXRhYmxlcyBsYW5ndWFnZSBzZXR0aW5ncy5cbiAgICB2YXIgZGF0YVRhYmxlc0xhbmcgPSB7XG4gICAgICAgIFwibm9pbnRlZ3JhdGlvblwiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28ubm9pbnRlZ3JhdGlvbixcbiAgICAgICAgXCJzUHJvY2Vzc2luZ1wiOiBNLnN0ci50dXJuaXRpbnRvb2x0d28uc3Byb2Nlc3NpbmcsXG4gICAgICAgIFwic1plcm9SZWNvcmRzXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zemVyb3JlY29yZHMsXG4gICAgICAgIFwic0luZm9cIjogTS5zdHIudHVybml0aW50b29sdHdvLnNpbmZvLFxuICAgICAgICBcInNTZWFyY2hcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNzZWFyY2gsXG4gICAgICAgIFwic0xlbmd0aE1lbnVcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNsZW5ndGhtZW51LFxuICAgICAgICBcInNJbmZvRW1wdHlcIjogTS5zdHIudHVybml0aW50b29sdHdvLnNlbXB0eXRhYmxlLFxuICAgICAgICBcIm9QYWdpbmF0ZVwiOiB7XG4gICAgICAgICAgICBcInNOZXh0XCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zbmV4dCxcbiAgICAgICAgICAgIFwic1ByZXZpb3VzXCI6IE0uc3RyLnR1cm5pdGludG9vbHR3by5zcHJldmlvdXNcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIHVubGluayBhbmQgcmVsaW5rIHVzZXJzIGRhdGF0YWJsZSBpbiB0aGUgcGx1Z2luIHNldHRpbmdzIGFyZWEuXG4gICAgJCgnI3VubGlua1VzZXJUYWJsZScpLmRhdGFUYWJsZSh7XG4gICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJiU2VydmVyU2lkZVwiOiB0cnVlLFxuICAgICAgICBcIm9MYW5ndWFnZVwiOiBkYXRhVGFibGVzTGFuZyxcbiAgICAgICAgXCJhYVNvcnRpbmdcIjogW1sgMiwgXCJhc2NcIiBdXSxcbiAgICAgICAgXCJhTGVuZ3RoTWVudVwiOiBbWzEwLCAyNSwgNTAsIDEwMCwgLTFdLCBbMTAsIDI1LCA1MCwgMTAwLCBcIkFsbFwiXV0sXG4gICAgICAgIFwic0FqYXhTb3VyY2VcIjogXCJhamF4LnBocD9hY3Rpb249Z2V0X3VzZXJzXCIsXG4gICAgICAgIFwiYW9Db2x1bW5zXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcImJTb3J0YWJsZVwiOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZuQ3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKG5UZCwgc0RhdGEsIG9EYXRhLCBpUm93LCBpQ29sKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoblRkKS5hZGRDbGFzcygnY2VudGVyZWRfY2VsbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcImFEYXRhU29ydFwiOiBbIDIsIDMgXX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XCJhRGF0YVNvcnRcIjogWyAzLCAyIF19LFxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbFxuICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgXCJmbkRyYXdDYWxsYmFja1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwic2VsZWN0YWxsY2JcIl0nKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDb25maWd1cmUgdGhlIGZpbGVzIGRhdGF0YWJsZSBpbiB0aGUgcGx1Z2luIHNldHRpbmdzIGFyZWEsIGdyb3VwIHRoZSBmaWxlcyBieSBhc3NpZ25tZW50LlxuICAgICQoJyNmaWxlc1RhYmxlJykuZGF0YVRhYmxlKCB7XG4gICAgICAgIFwiYlByb2Nlc3NpbmdcIjogdHJ1ZSxcbiAgICAgICAgXCJiU2VydmVyU2lkZVwiOiB0cnVlLFxuICAgICAgICBcIm9MYW5ndWFnZVwiOiBkYXRhVGFibGVzTGFuZyxcbiAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwP2FjdGlvbj1nZXRfZmlsZXNcIixcbiAgICAgICAgXCJhb0NvbHVtbnNcIjogW1xuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB7XCJzQ2xhc3NcIjogXCJmaWxlbmFtZSBjMFwiLCBcInNXaWR0aFwiOiBcIjQwJVwifSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAge1wic0NsYXNzXCI6IFwiZnVsbG5hbWUgYzFcIiwgXCJzV2lkdGhcIjogXCIzNSVcIn0sXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHtcInNDbGFzc1wiOiBcImNyZWF0ZWQgYzJcIiwgXCJzV2lkdGhcIjogXCIyMiVcIn0sXG4gICAgICAgICAgICAgICAgICAgIHtcInNDbGFzc1wiOiBcInJlbW92ZSBjM1wiLCBcInNXaWR0aFwiOiBcIjMlXCJ9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgXCJhb0NvbHVtbkRlZnNcIjogW1xuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgMCBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDEgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyAyIF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwiYVRhcmdldHNcIjogWyAzIF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgNCBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgNSBdfSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiBmYWxzZSwgXCJhVGFyZ2V0c1wiOiBbIDYgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDcgXX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDggXX1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICBcImZuRHJhd0NhbGxiYWNrXCI6IGZ1bmN0aW9uICggb1NldHRpbmdzICkge1xuICAgICAgICAgICAgaWYgKCBvU2V0dGluZ3MuYWlEaXNwbGF5Lmxlbmd0aCA9PSAwIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBuVHJzID0gJCgnI2ZpbGVzVGFibGUgdGJvZHkgdHInKTtcbiAgICAgICAgICAgIHZhciBpQ29sc3BhbiA9IG5UcnNbMF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RkJykubGVuZ3RoO1xuICAgICAgICAgICAgdmFyIHNMYXN0R3JvdXAgPSBcIlwiO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuVHJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlEaXNwbGF5SW5kZXggPSBvU2V0dGluZ3MuX2lEaXNwbGF5U3RhcnQgKyBpO1xuICAgICAgICAgICAgICAgIHZhciBzR3JvdXAgPSBvU2V0dGluZ3MuYW9EYXRhWyBvU2V0dGluZ3MuYWlEaXNwbGF5W2ldIF0uX2FEYXRhWzBdO1xuICAgICAgICAgICAgICAgIGlmICggc0dyb3VwICE9IHNMYXN0R3JvdXAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5Hcm91cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICd0cicgKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5DZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ3RkJyApO1xuICAgICAgICAgICAgICAgICAgICBuQ2VsbC5jb2xTcGFuID0gaUNvbHNwYW47XG4gICAgICAgICAgICAgICAgICAgIG5DZWxsLmNsYXNzTmFtZSA9IFwiZ3JvdXBcIjtcbiAgICAgICAgICAgICAgICAgICAgbkNlbGwuaW5uZXJIVE1MID0gc0dyb3VwO1xuICAgICAgICAgICAgICAgICAgICBuR3JvdXAuYXBwZW5kQ2hpbGQoIG5DZWxsICk7XG4gICAgICAgICAgICAgICAgICAgIG5UcnNbaV0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoIG5Hcm91cCwgblRyc1tpXSApO1xuICAgICAgICAgICAgICAgICAgICBzTGFzdEdyb3VwID0gc0dyb3VwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJhYVNvcnRpbmdGaXhlZFwiOiBbWyAwLCAnYXNjJyBdXSxcbiAgICAgICAgXCJhYVNvcnRpbmdcIjogW1sgMSwgJ2FzYycgXV0sXG4gICAgICAgIFwic0RvbVwiOiAnbGZyPFwiZ2l2ZUhlaWdodFwidD5pcCdcbiAgICB9KTtcblxuICAgICQuZGF0ZXBpY2tlci5yZWdpb25hbFtcIlwiXS5kYXRlRm9ybWF0ID0gJ2QgTSB5eSc7XG4gICAgJC5kYXRlcGlja2VyLnNldERlZmF1bHRzKCQuZGF0ZXBpY2tlci5yZWdpb25hbFsnJ10pO1xuXG4gICAgLy8gQ29uZmlndXJlIHRoZSBjb3Vyc2UgYnJvd3NlciBkYXRhIHRhYmxlIGFuZCBzaG93IGNsYXNzZXMgZnJvbSBUdXJuaXRpbiBhY29jdW50LlxuICAgIHZhciBjb3Vyc2VCcm93c2VyVGFibGUgPSAkKCcjY291cnNlQnJvd3NlclRhYmxlJykuZGF0YVRhYmxlKHtcbiAgICAgICAgXCJiUHJvY2Vzc2luZ1wiOiB0cnVlLFxuICAgICAgICBcIm9MYW5ndWFnZVwiOiBkYXRhVGFibGVzTGFuZyxcbiAgICAgICAgXCJhYVNvcnRpbmdcIjogW1sgNiwgJ2FzYyddXSxcbiAgICAgICAgXCJzQWpheFNvdXJjZVwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgIFwiYW9Db2x1bW5EZWZzXCI6IFtcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogZmFsc2UsIFwiYlNvcnRhYmxlXCI6IGZhbHNlLCBcInNXaWR0aFwiOiBcIjUlXCIsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm5DcmVhdGVkQ2VsbFwiOiBmdW5jdGlvbiAoblRkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChuVGQpLmFkZENsYXNzKCdjZW50ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwic1dpZHRoXCI6IFwiNDUlXCIsIFwiaURhdGFTb3J0XCI6IDYsIFwiYVRhcmdldHNcIjogWyAxIF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwic1dpZHRoXCI6IFwiMTAlXCIsIFwiYVRhcmdldHNcIjogWyAyIF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IHRydWUsIFwic1dpZHRoXCI6IFwiMjAlXCIsIFwiaURhdGFTb3J0XCI6IDcsIFwiYVRhcmdldHNcIjogWyAzIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcImZuQ3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKG5UZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoblRkKS5hZGRDbGFzcygncmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiBmYWxzZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcInNXaWR0aFwiOiBcIjEwJVwiLCBcImFUYXJnZXRzXCI6IFsgNCBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmbkNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uIChuVGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5UZCkuYWRkQ2xhc3MoJ3JpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fSxcbiAgICAgICAgICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcInNXaWR0aFwiOiBcIjEwJVwiLCBcImFUYXJnZXRzXCI6IFsgNSBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJmbkNyZWF0ZWRDZWxsXCI6IGZ1bmN0aW9uIChuVGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5UZCkuYWRkQ2xhc3MoJ2NlbnRlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfX0sXG4gICAgICAgICAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogZmFsc2UsIFwiYVRhcmdldHNcIjogWyA2IF19LFxuICAgICAgICAgICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiB0cnVlLCBcImJWaXNpYmxlXCI6IGZhbHNlLCBcImFUYXJnZXRzXCI6IFsgNyBdfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgIFwiZm5TZXJ2ZXJEYXRhXCI6IGZ1bmN0aW9uICggc1NvdXJjZSwgYW9EYXRhLCBmbkNhbGxiYWNrICkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJzZWFyY2hfY2xhc3Nlc1wiLCBjb3Vyc2VfdGl0bGU6ICQoJyNzZWFyY2hfY291cnNlX3RpdGxlJykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIGNvdXJzZV9pbnRlZ3JhdGlvbjogJCgnI3NlYXJjaF9jb3Vyc2VfaW50ZWdyYXRpb24nKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgY291cnNlX2VuZF9kYXRlOiAkKCcjc2VhcmNoX2NvdXJzZV9lbmRfZGF0ZScpLnZhbCgpLCBzZXNza2V5OiBNLmNmZy5zZXNza2V5fSxcbiAgICAgICAgICAgICAgICBcInN1Y2Nlc3NcIjogZnVuY3Rpb24ocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZuQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCJiU3RhdGVTYXZlXCI6IHRydWUsXG4gICAgICAgIFwiZm5TdGF0ZVNhdmVcIjogZnVuY3Rpb24gKG9TZXR0aW5ncywgb0RhdGEpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIHVpZCArICdEYXRhVGFibGVzJywgSlNPTi5zdHJpbmdpZnkob0RhdGEpICk7XG4gICAgICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJmblN0YXRlTG9hZFwiOiBmdW5jdGlvbiAob1NldHRpbmdzKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh1aWQgKyAnRGF0YVRhYmxlcycpICk7XG4gICAgICAgICAgICB9IGNhdGNoICggZSApIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJmbkRyYXdDYWxsYmFja1wiOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwic2VsZWN0YWxsY2JcIl0nKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xuICAgICAgICAgICAgaW5pdGlhbGlzZUNvdXJzZVJlY3JlYXRpb24oKTtcbiAgICAgICAgICAgIGluaXRpYWxpc2VFZGl0RW5kRGF0ZSgpO1xuICAgICAgICAgICAgJChcIiNzZWFyY2hfY291cnNlc19idXR0b25cIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJChcIiNzZWFyY2hfY291cnNlc19idXR0b25cIikuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAkKHRoaXMpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIGNvdXJzZUJyb3dzZXJUYWJsZS5mblJlbG9hZEFqYXgoKTtcbiAgICAgICAgY291cnNlQnJvd3NlclRhYmxlLmZuU3RhbmRpbmdSZWRyYXcoKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgJCgnI3NlYXJjaF9jb3Vyc2VfZW5kX2RhdGUnKS5kYXRlcGlja2VyKCk7XG5cbiAgICAvLyBJbml0aWFsaXNlIGFzc2lnbm1lbnQgYnJvd3NlciB0YWJsZS5cbiAgICB2YXIgb1RhYmxlID0gJCgnI2Fzc2lnbm1lbnRCcm93c2VyVGFibGUnKS5kYXRhVGFibGUoe1xuICAgICAgICBcImJQcm9jZXNzaW5nXCI6IHRydWUsXG4gICAgICAgIFwib0xhbmd1YWdlXCI6IGRhdGFUYWJsZXNMYW5nLFxuICAgICAgICBcInNBamF4U291cmNlXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgXCJmblNlcnZlckRhdGFcIjogZnVuY3Rpb24gKCBzU291cmNlLCBhb0RhdGEsIGZuQ2FsbGJhY2sgKSB7XG5cbiAgICAgICAgICAgIC8vIERpc2FibGUgY291cnNlIGJ1dHRvbnMuXG4gICAgICAgICAgICAkKCcjaWRfY3JlYXRlX2NvdXJzZScpLmF0dHIoJ2Rpc2FibGVkJywnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICQoJyNpZF91cGRhdGVfY291cnNlJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpO1xuXG4gICAgICAgICAgICAvLyBNb3ZlIGJveCB3aXRoaW4gZm9ybS5cbiAgICAgICAgICAgIGlmICgkKFwiI2Fzc2lnbm1lbnRCcm93c2VyVGFibGVcIikubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoXCIuc2lkZS1wcmUtb25seSAjcGFnZS1jb250ZW50ICNyZWdpb24tbWFpblwiKS5jc3MoeydtYXJnaW4tbGVmdCcgOiAnMHB4J30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJChcIiNpZF9hc3NpZ25tZW50bmFtZVwiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJChcIiNpZF9jcmVhdGVfYXNzaWdubWVudFwiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdqc29uJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogc1NvdXJjZSxcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJnZXRfYXNzaWdubWVudHNcIiwgdGlpX2NvdXJzZV9pZDogJChcIiN0aWlfY291cnNlX2lkXCIpLmh0bWwoKSwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxpc2VDb3Vyc2VCcm93c2VyQnV0dG9ucyhvVGFibGUpO1xuICAgICAgICAgICAgICAgICAgICBmbkNhbGxiYWNrKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCQoXCIjY291cnNlX2lkXCIpLmh0bWwoKSAhPSBcIjBcIiAmJiByZXN1bHQubnVtYmVyX29mX2Fzc2lnbm1lbnRzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpZF9hc3NpZ25tZW50bmFtZVwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpZF9jcmVhdGVfYXNzaWdubWVudFwiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5hc3NpZ25tZW50aWRzX2NoZWNrXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsaXNlQ3JlYXRlQXNzaWdubWVudEJ1dHRvbihvVGFibGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpZF9hc3NpZ25tZW50bmFtZVwiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNpZF9jcmVhdGVfYXNzaWdubWVudFwiKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIi5hc3NpZ25tZW50aWRzX2NoZWNrXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBFbmFibGUgY291cnNlIGJ1dHRvbnMuXG4gICAgICAgICAgICAgICAgICAgICQoJyNpZF9jcmVhdGVfY291cnNlJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2lkX3VwZGF0ZV9jb3Vyc2UnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBcImFvQ29sdW1uRGVmc1wiOiBbXG4gICAgICAgICAgICB7XCJiU2VhcmNoYWJsZVwiOiBmYWxzZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgMCBdfSxcbiAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDEgXSxcbiAgICAgICAgICAgICAgICBcImZuQ3JlYXRlZENlbGxcIjogZnVuY3Rpb24gKG5UZCkge1xuICAgICAgICAgICAgICAgICAgICAkKG5UZCkuYWRkQ2xhc3MoJ25vd3JhcCcpO1xuICAgICAgICAgICAgICAgIH19LFxuICAgICAgICAgICAge1wiYlNlYXJjaGFibGVcIjogdHJ1ZSwgXCJiVmlzaWJsZVwiOiB0cnVlLCBcImFUYXJnZXRzXCI6IFsgMiBdfSxcbiAgICAgICAgICAgIHtcImJTZWFyY2hhYmxlXCI6IHRydWUsIFwiYlZpc2libGVcIjogdHJ1ZSwgXCJhVGFyZ2V0c1wiOiBbIDMgXX1cbiAgICAgICAgXVxuICAgIH0pO1xuXG4gICAgLy8gT3BlbiBhbiBpZnJhbWUgbGlnaHQgYm94IHdoaWNoIGFsbG93cyB0aGUgY3JlYXRpb24gb2YgY2xhc3Nlcy5cbiAgICAkKCcjY3JlYXRlX2NsYXNzZXNfYnV0dG9uJykuY29sb3Jib3goe1xuICAgICAgICBpZnJhbWU6dHJ1ZSwgd2lkdGg6JzYwJScsIHRvcDogJzIwMHB4JywgaGVpZ2h0OicxMjRweCcsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJjb3Vyc2VfY3JlYXRpb25cIixcbiAgICAgICAgaHJlZjogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gJCgnLmNyZWF0ZV9jb3Vyc2VfY2F0ZWdvcnknKS52YWwoKTtcbiAgICAgICAgICAgICAgICB2YXIgYXNzaWdubWVudHMgPSAoJCgnLmNyZWF0ZV9hc3NpZ25tZW50X2NoZWNrYm94JykuaXMoJzpjaGVja2VkJykpID8gXCIxXCIgOiBcIjBcIjtcblxuICAgICAgICAgICAgICAgIHZhciBjbGFzc19pZHMgPSBcIlwiO1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICAkKCcuYnJvd3Nlcl9jaGVja2JveDpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpKXtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NfaWRzICs9IFwiJmNsYXNzX2lkXCIgKyBpICsgXCI9XCIgKyAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFnZXVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBwYWdldXJsLnJlcGxhY2UoXCJjbWQ9Y291cnNlc1wiLCBcImNtZD1tdWx0aXBsZV9jbGFzc19yZWNyZWF0aW9uXCIpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybCArIFwiJnZpZXdfY29udGV4dD1ib3gmY2F0ZWdvcnk9XCIgKyBjYXRlZ29yeSArIFwiJmFzc2lnbm1lbnRzPVwiICsgYXNzaWdubWVudHMgKyBjbGFzc19pZHMgKyBcIiZzZXNza2V5PVwiICsgTS5jZmcuc2Vzc2tleTtcbiAgICAgICAgfSxcbiAgICAgICAgb25DbGVhbnVwOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKCQoJyNjbGFzc19pZHMnKS5sZW5ndGggPiAwKSB7XG5cbiAgICAgICAgLy8gTW92ZSBib3ggd2l0aGluIGZyYW1lLlxuICAgICAgICAkKFwiLnNpZGUtcHJlLW9ubHkgI3BhZ2UtY29udGVudCAjcmVnaW9uLW1haW5cIikuY3NzKHtcbiAgICAgICAgICAgICdtYXJnaW4tbGVmdCcgOiAnMHB4J1xuICAgICAgICB9KTtcblxuICAgICAgICAkKFwiLmhhcy1yZWdpb24tc2lkZS1wcmUgI3BhZ2UtY29udGVudCAjcmVnaW9uLW1haW5cIikuY3NzKHtcbiAgICAgICAgICAgICd3aWR0aCc6ICcxMDAlJyxcbiAgICAgICAgICAgICdtYXJnaW4tdG9wJzogJy0zMHB4J1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY2xhc3NfaWRzID0gJCgnI2NsYXNzX2lkcycpLmh0bWwoKTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnaHRtbCcsXG4gICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJjcmVhdGVfY291cnNlc1wiLCBjbGFzc19pZHM6IGNsYXNzX2lkcywgY291cnNlX2NhdGVnb3J5OiAkKFwiI2NvdXJzZV9jYXRlZ29yeVwiKS5odG1sKCksXG4gICAgICAgICAgICAgICAgY3JlYXRlX2Fzc2lnbm1lbnRzOiAkKFwiI2NyZWF0ZV9hc3NpZ25tZW50c1wiKS5odG1sKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICQoJyNjb3Vyc2VfY3JlYXRpb25fc3RhdHVzJykuaHRtbChkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2hvdyBsaWdodCBib3ggdG8gY2hhbmdlIHRoZSBlbmQgZGF0ZSBvZiBhIGNvdXJzZS5cbiAgICBmdW5jdGlvbiBpbml0aWFsaXNlRWRpdEVuZERhdGUoKSB7XG4gICAgICAgICQoXCJhLmVkaXRfY291cnNlX2VuZF9saW5rXCIpLmNvbG9yYm94KHtcbiAgICAgICAgICAgIGlubGluZTp0cnVlLCB3aWR0aDpcIjYwJVwiLCB0b3A6IFwiMTAwcHhcIiwgYmFja2dyb3VuZDogXCIjZmZmXCIsIGhlaWdodDpcIjI2MHB4XCIsIG9wYWNpdHk6IFwiMC43XCIsIGNsYXNzTmFtZTogXCJlZGl0X2VuZF9kYXRlX2Zvcm1cIixcbiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlnaHRCb3hDbG9zZUJ1dHRvbigpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGUgOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIC8vIEdldCBjdXJyZW50IGRhdGUgZnJvbSB0aGUgc3BhbiBpZCB3aXRoaW4gdGhlIGxpbmsgYW5kIHNldFxuICAgICAgICAgICAgICAgIC8vIHRoZSBkYXRlIG9mIHRoZSBkYXRlcGlja2VyIGluIHRoZSBsaWdodGJveCB0byB0aGF0LlxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50X2RhdGUgPSAkKCcjJyArICQodGhpcykuYXR0cihcImlkXCIpICsgJyBzcGFuJykuYXR0cihcImlkXCIpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRfZGF0ZSA9IGN1cnJlbnRfZGF0ZS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgJCgnI2lkX25ld19jb3Vyc2VfZW5kX2RhdGVfZGF5JykudmFsKGN1cnJlbnRfZGF0ZVsxXSk7XG4gICAgICAgICAgICAgICAgJCgnI2lkX25ld19jb3Vyc2VfZW5kX2RhdGVfbW9udGgnKS52YWwoY3VycmVudF9kYXRlWzJdKTtcbiAgICAgICAgICAgICAgICAkKCcjaWRfbmV3X2NvdXJzZV9lbmRfZGF0ZV95ZWFyJykudmFsKGN1cnJlbnRfZGF0ZVszXSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaWRTdHIgPSAkKHRoaXMpLmF0dHIoXCJpZFwiKS5zcGxpdChcIl9cIik7XG4gICAgICAgICAgICAgICAgdmFyIHRpaV9jb3Vyc2VfaWQgPSBpZFN0clsyXTtcbiAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwidGlpX2NvdXJzZV9pZFwiXScpLnZhbCh0aWlfY291cnNlX2lkKTtcbiAgICAgICAgICAgICAgICAkKCdpbnB1dFtuYW1lPVwidGlpX2NvdXJzZV90aXRsZVwiXScpLnZhbCgkKCdhI2NvdXJzZV8nICsgdGlpX2NvdXJzZV9pZCkuaHRtbCgpKTtcbiAgICAgICAgICAgICAgICAkKCcjY2JveExvYWRlZENvbnRlbnQgLmVkaXRfY291cnNlX2VuZF9kYXRlX2Zvcm0nKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgJCgnI2RhdGVzZWxlY3Rvci1jYWxlbmRhci1wYW5lbCcpLmNzcygnei1pbmRleCcsICc5OTk5Jyk7XG5cbiAgICAgICAgICAgICAgICAkKCcjaWRfc2F2ZV9lbmRfZGF0ZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVybFwiOiBcImFqYXgucGhwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJlZGl0X2NvdXJzZV9lbmRfZGF0ZVwiLCB0aWlfY291cnNlX2lkOiB0aWlfY291cnNlX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpaV9jb3Vyc2VfdGl0bGU6ICQoJ2EjY291cnNlXycgKyB0aWlfY291cnNlX2lkKS5odG1sKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGVfZDogJCgnI2lkX25ld19jb3Vyc2VfZW5kX2RhdGVfZGF5JykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kX2RhdGVfbTogJCgnI2lkX25ld19jb3Vyc2VfZW5kX2RhdGVfbW9udGgnKS52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRfZGF0ZV95OiAkKCcjaWRfbmV3X2NvdXJzZV9lbmRfZGF0ZV95ZWFyJykudmFsKClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZhbChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT0gXCJzdWNjZXNzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LiQuZm4uY29sb3Jib3guY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2NvdXJzZV9kYXRlXycgKyB0aWlfY291cnNlX2lkICsgJyBzcGFuJykuaHRtbChkYXRhLmVuZF9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudF9tc2cgPSAkKCcjZWRpdF9lbmRfZGF0ZV9kZXNjJykuaHRtbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnI2VkaXRfZW5kX2RhdGVfZGVzYycpLmh0bWwoY3VycmVudF9tc2cgKyBcIiBcIiArIGRhdGEubXNnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ2xlYW51cDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnLmVkaXRfY291cnNlX2VuZF9kYXRlX2Zvcm0nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbGlnaHRCb3hDbG9zZUJ1dHRvbigpIHtcbiAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBpZD1cInRpaV9jbG9zZV9iYXJcIj48YSBocmVmPVwiI1wiIG9uY2xpY2s9XCIkLmNvbG9yYm94LmNsb3NlKCk7IHJldHVybiBmYWxzZTtcIj4nICsgTS5zdHIudHVybml0aW50b29sdHdvLmNsb3NlYnV0dG9uICsgJzwvYT48L2Rpdj4nKTtcbiAgICB9XG5cbiAgICAvLyBTaG93IGxpZ2h0IGJveCB3aXRoIGEgZm9ybSB0byBlaXRoZXIgY3JlYXRlIGEgbmV3IGNvdXJzZSBvciBsaW5rIGFuIHVubGlua2VkIE1vb2RsZSBjb3Vyc2VcbiAgICAvLyB0byB0aGUgY2xpY2tlZCBUdXJuaXRpbiBjbGFzcywgdGhlbiBzdWJzZXF1ZW50bHkgY3JlYXRlIGEgTW9vZGxlIGFzc2lnbm1lbnQgdXNpbmcgdGhlIHNlbGVjdGVkXG4gICAgLy8gZXhpc3RpbmcgYXNzaWdubWVudHMgb24gVHVybml0aW4gYXMgcGFydHMuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUNvdXJzZVJlY3JlYXRpb24oKSB7XG5cbiAgICAgICAgdmFyIHdpbmRvd1dpZHRoID0gJCh3aW5kb3cpLndpZHRoKCk7XG4gICAgICAgIHZhciBjb2xvckJveFdpZHRoID0gXCI4MCVcIjtcbiAgICAgICAgaWYgKHdpbmRvd1dpZHRoIDwgMTAwMCkge1xuICAgICAgICAgICAgY29sb3JCb3hXaWR0aCA9IFwiODYwcHhcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB3aW5kb3dIZWlnaHQgPSAkKHdpbmRvdykud2lkdGgoKTtcbiAgICAgICAgdmFyIGNvbG9yQm94SGVpZ2h0ID0gXCI4MCVcIjtcbiAgICAgICAgaWYgKHdpbmRvd0hlaWdodCA8IDcwMCkge1xuICAgICAgICAgICAgY29sb3JCb3hIZWlnaHQgPSBcIjYwMHB4XCI7XG4gICAgICAgIH1cblxuICAgICAgICAkKFwiYS5jb3Vyc2VfcmVjcmVhdGVcIikuY29sb3Jib3goe1xuICAgICAgICAgICAgaWZyYW1lOnRydWUsIHdpZHRoOmNvbG9yQm94V2lkdGgsIGhlaWdodDpjb2xvckJveEhlaWdodCwgdG9wOiAnMTAwcHgnLCBjbGFzc05hbWU6IFwibWlncmF0aW9uXCIsIG9wYWNpdHk6IFwiMC43XCIsXG4gICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpZ2h0Qm94Q2xvc2VCdXR0b24oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkNsZWFudXA6ZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpaV9jbG9zZV9iYXInKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnLmJyb3dzZXJfY2hlY2tib3gnKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKCcuYnJvd3Nlcl9jaGVja2JveDpjaGVja2VkJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoJy5jcmVhdGVfY2hlY2tib3hlcycpLnNsaWRlRG93bigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCcuY3JlYXRlX2NoZWNrYm94ZXMnKS5zbGlkZVVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIE1ha2UgdGhlIGJ1dHRvbnMgb24gdGhlIGNvdXJzZSBjcmVhdGlvbi9saW5rIGZvcm1zIGNsaWNrYWJsZSBhbmQgY29uZmlndXJlIHRoZSByZWxldmFudCB0cmlnZ2VyZWQgZXZlbnQuXG4gICAgZnVuY3Rpb24gaW5pdGlhbGlzZUNvdXJzZUJyb3dzZXJCdXR0b25zKG9UYWJsZSkge1xuICAgICAgICAkKCcjaWRfY3JlYXRlX2NvdXJzZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImNyZWF0ZV9jb3Vyc2VcIiwgdGlpX2NvdXJzZV9pZDogJChcIiN0aWlfY291cnNlX2lkXCIpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgdGlpX2NvdXJzZV9uYW1lOiBlbmNvZGVVUklDb21wb25lbnQoJChcIiN0aWlfY291cnNlX25hbWVcIikuaHRtbCgpKSxcbiAgICAgICAgICAgICAgICAgICAgY291cnNlX25hbWU6IGVuY29kZVVSSUNvbXBvbmVudCgkKFwiI2lkX2NvdXJzZW5hbWVcIikudmFsKCkpLFxuICAgICAgICAgICAgICAgICAgICBjb3Vyc2VfY2F0ZWdvcnk6ICQoXCIjaWRfY291cnNlY2F0ZWdvcnlcIikudmFsKCksIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IGpRdWVyeS5wYXJzZUpTT04oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVDb3Vyc2VDcmVhdGlvbk9wdGlvbnMob2JqLCBvVGFibGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjaWRfdXBkYXRlX2NvdXJzZScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICBcImRhdGFUeXBlXCI6ICdodG1sJyxcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJQT1NUXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjogXCJhamF4LnBocFwiLFxuICAgICAgICAgICAgICAgIFwiZGF0YVwiOiB7YWN0aW9uOiBcImxpbmtfY291cnNlXCIsIHRpaV9jb3Vyc2VfaWQ6ICQoXCIjdGlpX2NvdXJzZV9pZFwiKS5odG1sKCksXG4gICAgICAgICAgICAgICAgICAgIHRpaV9jb3Vyc2VfbmFtZTogJChcIiN0aWlfY291cnNlX25hbWVcIikuaHRtbCgpLCBjb3Vyc2VfdG9fbGluazogJChcIiNpZF9jb3Vyc2V0b2xpbmtcIikudmFsKCksXG4gICAgICAgICAgICAgICAgICAgIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9iaiA9IGpRdWVyeS5wYXJzZUpTT04oZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVDb3Vyc2VDcmVhdGlvbk9wdGlvbnMob2JqLCBvVGFibGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBIaWRlIHRoZSBjb3Vyc2UgY3JlYXRpb24vbGlua2luZyBmb3JtIG9uY2UgdGhlIHNlbGVjdGVkIFR1cm5pdGluXG4gICAgLy8gY291cnNlIGhhcyBiZWVuIGNyZWF0ZWQvbGlua2VkIGxvY2FsbHkgYW5kIGluaXRpYWxpc2UgdGhlIGNyZWF0ZSBhc3NpZ25tZW50IGJ1dHRvbi5cbiAgICBmdW5jdGlvbiBoaWRlQ291cnNlQ3JlYXRpb25PcHRpb25zKG9iaiwgb1RhYmxlKSB7XG4gICAgICAgIGlmIChvYmogIT0gMCkge1xuICAgICAgICAgICAgJChcIiNjb3Vyc2VfaWRcIikuaHRtbChvYmouY291cnNlaWQpO1xuXG4gICAgICAgICAgICB2YXIgY2JfZWxlbWVudCA9ICdpbnB1dFtuYW1lPVwiY2hlY2tfJyArICQoJyN0aWlfY291cnNlX2lkJykuaHRtbCgpICsgJ1wiXSc7XG4gICAgICAgICAgICBwYXJlbnQuJChjYl9lbGVtZW50KS5oaWRlKCk7XG4gICAgICAgICAgICB2YXIgdGlja19lbGVtZW50ID0gJyN0aWNrXycgKyAkKCcjdGlpX2NvdXJzZV9pZCcpLmh0bWwoKTtcbiAgICAgICAgICAgIHBhcmVudC4kKHRpY2tfZWxlbWVudCkuc2hvdygpO1xuXG4gICAgICAgICAgICAkKCdmaWVsZHNldFtpZCQ9XCJjcmVhdGVfY291cnNlX2ZpZWxkc2V0XCJdJykucGFyZW50KCkuc2xpZGVUb2dnbGUoKTtcbiAgICAgICAgICAgICQoJ2ZpZWxkc2V0W2lkJD1cInVwZGF0ZV9jb3Vyc2VfZmllbGRzZXRcIl0nKS5wYXJlbnQoKS5zbGlkZVRvZ2dsZSgpO1xuXG4gICAgICAgICAgICAkKFwiI29yX2NvbnRhaW5lclwiKS5oaWRlKCk7XG5cbiAgICAgICAgICAgICQoJyNleGlzdGluZ19jb3Vyc2VfdGl0bGVfc3BhbicpLmh0bWwob2JqLmNvdXJzZW5hbWUpO1xuICAgICAgICAgICAgJCgnLmV4aXN0aW5nX2NvdXJzZV90aXRsZV9oMycpLnJlbW92ZUNsYXNzKCdoaWRkZW5fY2xhc3MnKTtcblxuICAgICAgICAgICAgaWYgKCQoJy5hc3NpZ25tZW50aWRzX2NoZWNrJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICQoXCIuYXNzaWdubWVudGlkc19jaGVja1wiKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICQoXCIjaWRfYXNzaWdubWVudG5hbWVcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAkKFwiI2lkX2NyZWF0ZV9hc3NpZ25tZW50XCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJy5hc3NpZ25tZW50aWRzX2NoZWNrJykuY2hhbmdlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCQoJy5hc3NpZ25tZW50aWRzX2NoZWNrJykuZmlsdGVyKCc6Y2hlY2tlZCcpLmxlbmd0aCA+PSA1KSB7XG4gICAgICAgICAgICAgICAgICAgICQoXCIuYXNzaWdubWVudGlkc19jaGVja1wiKS5ub3QoJzpjaGVja2VkJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkKFwiLmFzc2lnbm1lbnRpZHNfY2hlY2tcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaW5pdGlhbGlzZUNyZWF0ZUFzc2lnbm1lbnRCdXR0b24ob1RhYmxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJpbmQgdGhlIGV2ZW50IHRvIGNyZWF0ZSBhbiBhc3NpZ25tZW50IGZyb20gdGhlIHNlbGVjdGVkIHBhcnRzLlxuICAgIGZ1bmN0aW9uIGluaXRpYWxpc2VDcmVhdGVBc3NpZ25tZW50QnV0dG9uKG9UYWJsZSkge1xuICAgICAgICAkKCcjaWRfY3JlYXRlX2Fzc2lnbm1lbnQnKS51bmJpbmQoXCJjbGlja1wiKTtcbiAgICAgICAgJCgnI2lkX2NyZWF0ZV9hc3NpZ25tZW50JykuY2xpY2soZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IFwiXCI7XG4gICAgICAgICAgICAkKCcuYXNzaWdubWVudGlkc19jaGVjazpjaGVja2VkJykuZWFjaChmdW5jdGlvbihpKXtcbiAgICAgICAgICAgICAgICBwYXJ0cyArPSAkKHRoaXMpLnZhbCgpICsgXCIsXCI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChwYXJ0cy5jaGFyQXQocGFydHMubGVuZ3RoIC0gMSkgPT0gJywnKSB7XG4gICAgICAgICAgICAgICAgcGFydHMuc3Vic3RyaW5nKDAsIHBhcnRzLmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKFwiI2lkX2NyZWF0ZV9hc3NpZ25tZW50XCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICAgICQuYWpheCh7XG4gICAgICAgICAgICAgICAgXCJkYXRhVHlwZVwiOiAnaHRtbCcsXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiUE9TVFwiLFxuICAgICAgICAgICAgICAgIFwidXJsXCI6IFwiYWpheC5waHBcIixcbiAgICAgICAgICAgICAgICBcImRhdGFcIjoge2FjdGlvbjogXCJjcmVhdGVfYXNzaWdubWVudFwiLCBjb3Vyc2VfaWQ6ICQoXCIjY291cnNlX2lkXCIpLmh0bWwoKSxcbiAgICAgICAgICAgICAgICAgICAgYXNzaWdubWVudF9uYW1lOiAkKFwiI2lkX2Fzc2lnbm1lbnRuYW1lXCIpLnZhbCgpLCBwYXJ0czogcGFydHMsIHNlc3NrZXk6IE0uY2ZnLnNlc3NrZXl9LFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgb1RhYmxlLmZuUmVsb2FkQWpheCgpO1xuICAgICAgICAgICAgICAgICAgICBvVGFibGUuZm5TdGFuZGluZ1JlZHJhdygpO1xuICAgICAgICAgICAgICAgICAgICAkKFwiI2lkX2Fzc2lnbm1lbnRuYW1lXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICQoXCIjaWRfY3JlYXRlX2Fzc2lnbm1lbnRcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5hc3NpZ25tZW50aWRzX2NoZWNrXCIpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pOyIsIi8qXG4gKiBUaGlzIHNtYWxsIHBpZWNlIG9mIHNjcmlwdCBpcyBhIHdvcmthcm91bmQgdGhhdCdzIG5lZWRlZCB0byBhZGQgdGFicyBpbiB0b1xuICogdGhlIHNldHRpbmdzIHBhZ2UuIFRoZXkgbmVlZCB0byBiZSByZW1vdmVkIGZyb20gdGhlIHNldHRpbmdzIGZvcm0gYW5kIHBsYWNlZFxuICogb3V0c2lkZSB0aGF0IGNvbnRhaW5pbmcgZmllbGRzZXQuXG4gKi9cbmpRdWVyeShkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oJCkge1xuICAgIGlmICgkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmcnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0YWJtZW51ID0gJCgnLnNldHRpbmdzZm9ybSBmaWVsZHNldCBkaXYuZm9ybXNldHRpbmdoZWFkaW5nOmZpcnN0JykuaHRtbCgpO1xuICAgICAgICBpZiAodGFibWVudS5pbmRleE9mKFwidGFidHJlZVwiKSA+PSAwKSB7XG4gICAgICAgICAgICAkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmc6Zmlyc3QnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICQoJy5zZXR0aW5nc2Zvcm0gaDI6Zmlyc3QnKS5hZnRlcih0YWJtZW51KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoJ2lucHV0W25hbWU9XCJzZWxlY3RhbGxjYlwiXScpLmNsaWNrKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpIHtcbiAgICAgICAgICAgICQoJy5icm93c2VyX2NoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCQoJy5icm93c2VyX2NoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgJCgnLmNyZWF0ZV9jaGVja2JveGVzJykuc2xpZGVEb3duKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJy5jcmVhdGVfY2hlY2tib3hlcycpLnNsaWRlVXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJy5icm93c2VyX2NoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICQoJy5jcmVhdGVfY2hlY2tib3hlcycpLnNsaWRlVXAoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgJCgnLnRpaV91cGdyYWRlX2NoZWNrJykuY2xpY2soZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIENoYW5nZSBVcmwgZGVwZW5kaW5nIG9uIFNldHRpbmdzIHBhZ2UuXG4gICAgICAgIHZhciB1cmwgPSBcImFqYXgucGhwXCI7XG4gICAgICAgIGlmICgkKCcuc2V0dGluZ3Nmb3JtIGZpZWxkc2V0IGRpdi5mb3Jtc2V0dGluZ2hlYWRpbmcnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB1cmwgPSBcIi4uL21vZC90dXJuaXRpbnRvb2x0d28vYWpheC5waHBcIjtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJy50aWlfdXBncmFkZV9jaGVjaycpLmhpZGUoKTtcbiAgICAgICAgJCgnLnRpaV91cGdyYWRpbmdfY2hlY2snKS5jc3MoJ2Rpc3BsYXknLCAnaW5saW5lLWJsb2NrJyk7XG4gICAgICAgIHZhciBjdXJyZW50X3ZlcnNpb24gPSAkKHRoaXMpLmF0dHIoJ2lkJykuc3BsaXQoJ18nKVsxXTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdHlwZTogXCJQT1NUXCIsXG4gICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgIGRhdGFUeXBlOiBcImh0bWxcIixcbiAgICAgICAgICAgIGRhdGE6IHthY3Rpb246IFwiY2hlY2tfdXBncmFkZVwiLCBjdXJyZW50X3ZlcnNpb246IGN1cnJlbnRfdmVyc2lvbiwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleX0sXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSAkLnBhcnNlSlNPTihkYXRhKVxuXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFbJ3VwZGF0ZSddID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy50aWlfdXBncmFkZV9jaGVjaycpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV91cGdyYWRpbmdfY2hlY2snKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy50aWlfbm9fdXBncmFkZScpLmh0bWwoJzxhIGhyZWY9XCInICsgZGF0YVsnZmlsZSddWzBdICsgJ1wiPicgKyBNLnN0ci50dXJuaXRpbnRvb2x0d28udXBncmFkZWF2YWlsYWJsZSArICc8L2E+Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnRpaV91cGdyYWRpbmdfY2hlY2snKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy50aWlfdXBncmFkZV9jaGVjaycpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaWYgKCQoJy50ZXN0X2Nvbm5lY3Rpb24nKS5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmICgkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fYWNjb3VudGlkJykudmFsKCkgIT0gJycgfHwgJCgnI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleScpLnZhbCgpICE9ICcnKSB7XG4gICAgICAgICAgICAkKCcudGVzdF9jb25uZWN0aW9uJykuc2hvdygpO1xuICAgICAgICAgICAgJCgnI3Rlc3RfbGluaycpLnNob3coKTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQsICNpZF9zX3R1cm5pdGludG9vbHR3b19zZWNyZXRrZXksICNpZF9zX3R1cm5pdGludG9vbHR3b19hcGl1cmwnKS5rZXl1cChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJyN0ZXN0aW5nX2NvbnRhaW5lcicpLmhpZGUoKTtcblxuICAgICAgICAgICAgdmFyIGFjY291bnRpZCA9ICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hY2NvdW50aWQnKS52YWwoKTtcbiAgICAgICAgICAgIHZhciBhY2NvdW50c2hhcmVkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX3NlY3JldGtleScpLnZhbCgpO1xuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhleSBhcmVuJ3QgZW1wdHkgc3RyaW5ncy5cbiAgICAgICAgICAgIGFjY291bnRpZCA9IGFjY291bnRpZC50cmltKCk7XG4gICAgICAgICAgICBhY2NvdW50c2hhcmVkID0gYWNjb3VudHNoYXJlZC50cmltKCk7XG4gICAgICAgICAgICBpZiAoYWNjb3VudGlkLmxlbmd0aCA9PSAwIHx8IGFjY291bnRzaGFyZWQubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnLnRlc3RfY29ubmVjdGlvbicpLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnLnRlc3RfY29ubmVjdGlvbicpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjdGVzdF9saW5rJykuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCdpbnB1dCwgI2lkX3NfdHVybml0aW50b29sdHdvX2FwaXVybCcpLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICAkKCcjdGVzdF9saW5rJykuaGlkZSgpO1xuICAgICAgICAgICAgJChcIiN0ZXN0X3Jlc3VsdFwiKS5jc3MoJ29wYWNpdHknLCAnJyk7XG4gICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5yZW1vdmVDbGFzcygndGVzdF9saW5rX3N1Y2Nlc3MgdGVzdF9saW5rX2ZhaWwnKTtcbiAgICAgICAgICAgICQoJyN0ZXN0aW5nX2NvbnRhaW5lcicpLnNob3coKTtcblxuICAgICAgICAgICAgLy8gQ2hhbmdlIFVybCBkZXBlbmRpbmcgb24gU2V0dGluZ3MgcGFnZS5cbiAgICAgICAgICAgIHZhciB1cmwgPSBcImFqYXgucGhwXCI7XG4gICAgICAgICAgICBpZiAoJCgnLnNldHRpbmdzZm9ybSBmaWVsZHNldCBkaXYuZm9ybXNldHRpbmdoZWFkaW5nJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHVybCA9IFwiLi4vbW9kL3R1cm5pdGludG9vbHR3by9hamF4LnBocFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgYWNjb3VudGlkID0gJCgnI2lkX3NfdHVybml0aW50b29sdHdvX2FjY291bnRpZCcpLnZhbCgpO1xuICAgICAgICAgICAgdmFyIGFjY291bnRzaGFyZWQgPSAkKCcjaWRfc190dXJuaXRpbnRvb2x0d29fc2VjcmV0a2V5JykudmFsKCk7XG4gICAgICAgICAgICB2YXIgYWNjb3VudHVybCA9ICQoJyNpZF9zX3R1cm5pdGludG9vbHR3b19hcGl1cmwnKS52YWwoKTtcblxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIlBPU1RcIixcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZTogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgZGF0YToge2FjdGlvbjogXCJ0ZXN0X2Nvbm5lY3Rpb25cIiwgc2Vzc2tleTogTS5jZmcuc2Vzc2tleSwgYWNjb3VudGlkOiBhY2NvdW50aWQsIGFjY291bnRzaGFyZWQ6IGFjY291bnRzaGFyZWQsIHVybDogYWNjb3VudHVybH0sXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBldmFsKGRhdGEpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0aW5nX2NvbnRhaW5lcicpLmhpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb25uZWN0aW9uX3N0YXR1cyA9PSBcInN1Y2Nlc3NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI3Rlc3RfcmVzdWx0JykuYWRkQ2xhc3MoJ3Rlc3RfbGlua19zdWNjZXNzJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5hZGRDbGFzcygndGVzdF9saW5rX2ZhaWwnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X3Jlc3VsdCcpLmh0bWwoZGF0YS5tc2cpO1xuICAgICAgICAgICAgICAgICAgICAkKCcjdGVzdF9yZXN1bHQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJyN0ZXN0X2xpbmsnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJ2lucHV0LCAjaWRfc190dXJuaXRpbnRvb2x0d29fYXBpdXJsJykucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
